function closeBrowser(){$("form.edit-changes :input").change(function(){$(window).on("beforeunload"),$(window).bind("beforeunload",function(){return">>>>>Before You Go<<<<<<<< \n Your custom message go here"})}),$("form.edit-changes button").click(function(){$(window).off("beforeunload")})}function zeroPad(e){return e<10?"0"+e:e}function callAjax(e,t){if(e.length>0){var i=e[0];e.shift(),void 0!==i&&$.ajax({url:baseUrl+"ajax/companies/nearby/company",data:{address:i.address,zipcode:i.zipcode},success:function(i){var n=JSON.parse(i);if(void 0!==n[0]){var o=new google.maps.LatLng(n[0].lat,n[0].lng),s=new google.maps.Marker({position:o,map:t,icon:e[0].kitchen}),a=new google.maps.InfoWindow({content:'<a href="'+n[0].url+'"><h5>'+n[0].name+"</h5></a>"+n[0].address+"<br>"+n[0].zipcode+" "+n[0].city});s.addListener("click",function(){a.open(t,s)})}setTimeout(callAjax(e,t),2e3)}})}}function initMap(){if(document.getElementById("map")){var e=new google.maps.Map(document.getElementById("map"),{zoom:10,center:{lat:51.441642,lng:5.469722}});$.ajax({url:baseUrl+"ajax/companies/nearby",success:function(t){callAjax(JSON.parse(t),e)}})}}function Redirect(e){var t=navigator.userAgent.toLowerCase(),i=-1!==t.indexOf("msie"),n=parseInt(t.substr(4,2),10);if(i&&n<9){var o=document.createElement("a");o.href=e,document.body.appendChild(o),o.click()}else window.location.href=e}function getParameterByName(e){var t="[\\?&]"+e+"=([^&#]*)",i=new RegExp(t).exec(window.location.search);return null==i?"":decodeURIComponent(i[1].replace(/\+/g," "))}function register(e,t){$(document).ready(function(){$("#"+e).api({url:baseUrl+"register",onComplete:function(e){openPrompt({id:"register",title:"Aanmelden",response:e}),$(".next").api({url:baseUrl+"register",method:"POST",serializeForm:!0,onComplete:function(e){var i='<ul class="list">';for(var n in e)i+="<li>"+e[n]+"</li>";i+="</ul>",1==e.success?Redirect(t):($(".success.register").css("display","none"),$(".errors.register").transition("pulse"),$(".errors.register").html(i))}})}})})}if(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return ht.apply(null,arguments)}function t(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function n(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e,t){for(var i in t)o(t,i)&&(e[i]=t[i]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function a(e,t,i,n){return Se(e,t,i,n,!0).utc()}function r(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function l(e){return null==e._pf&&(e._pf=r()),e._pf}function c(e){if(null==e._isValid){var t=l(e),i=pt.call(t.parsedDateParts,function(e){return null!=e});e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=a(NaN);return null!=e?s(l(t),e):l(t).userInvalidated=!0,t}function u(e){return void 0===e}function h(e,t){var i,n,o;if(u(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),u(t._i)||(e._i=t._i),u(t._f)||(e._f=t._f),u(t._l)||(e._l=t._l),u(t._strict)||(e._strict=t._strict),u(t._tzm)||(e._tzm=t._tzm),u(t._isUTC)||(e._isUTC=t._isUTC),u(t._offset)||(e._offset=t._offset),u(t._pf)||(e._pf=l(t)),u(t._locale)||(e._locale=t._locale),ft.length>0)for(i in ft)u(o=t[n=ft[i]])||(e[n]=o);return e}function p(t){h(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),!1===mt&&(mt=!0,e.updateOffset(this),mt=!1)}function f(e){return e instanceof p||null!=e&&null!=e._isAMomentObject}function m(e){return e<0?Math.ceil(e):Math.floor(e)}function g(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=m(t)),i}function v(e,t,i){var n,o=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),a=0;for(n=0;n<o;n++)(i&&e[n]!==t[n]||!i&&g(e[n])!==g(t[n]))&&a++;return a+s}function b(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function y(t,i){var n=!0;return s(function(){return null!=e.deprecationHandler&&e.deprecationHandler(null,t),n&&(b(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),n=!1),i.apply(this,arguments)},i)}function w(t,i){null!=e.deprecationHandler&&e.deprecationHandler(t,i),gt[t]||(b(i),gt[t]=!0)}function x(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function k(e){return"[object Object]"===Object.prototype.toString.call(e)}function C(e,t){var i,n=s({},e);for(i in t)o(t,i)&&(k(e[i])&&k(t[i])?(n[i]={},s(n[i],e[i]),s(n[i],t[i])):null!=t[i]?n[i]=t[i]:delete n[i]);return n}function S(e){null!=e&&this.set(e)}function T(e){return e?e.toLowerCase().replace("_","-"):e}function D(e){for(var t,i,n,o,s=0;s<e.length;){for(t=(o=T(e[s]).split("-")).length,i=(i=T(e[s+1]))?i.split("-"):null;t>0;){if(n=$(o.slice(0,t).join("-")))return n;if(i&&i.length>=t&&v(o,i,!0)>=t-1)break;t--}s++}return null}function $(e){var t=null;if(!wt[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=bt._abbr,require("./locale/"+e),_(t)}catch(e){}return wt[e]}function _(e,t){var i;return e&&(i=u(t)?O(e):M(e,t))&&(bt=i),bt._abbr}function M(e,t){return null!==t?(t.abbr=e,null!=wt[e]?(w("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),t=C(wt[e]._config,t)):null!=t.parentLocale&&(null!=wt[t.parentLocale]?t=C(wt[t.parentLocale]._config,t):w("parentLocaleUndefined","specified parentLocale is not defined yet")),wt[e]=new S(t),_(e),wt[e]):(delete wt[e],null)}function O(e){var i;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return bt;if(!t(e)){if(i=$(e))return i;e=[e]}return D(e)}function A(e,t){var i=e.toLowerCase();xt[i]=xt[i+"s"]=xt[t]=e}function P(e){return"string"==typeof e?xt[e]||xt[e.toLowerCase()]:void 0}function I(e){var t,i,n={};for(i in e)o(e,i)&&(t=P(i))&&(n[t]=e[i]);return n}function j(t,i){return function(n){return null!=n?(R(this,t,n),e.updateOffset(this,i),this):E(this,t)}}function E(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function R(e,t,i){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](i)}function F(e,t){var i;if("object"==typeof e)for(i in e)this.set(i,e[i]);else if(e=P(e),x(this[e]))return this[e](t);return this}function q(e,t,i){var n=""+Math.abs(e),o=t-n.length;return(e>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}function L(e,t,i,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),e&&(Tt[e]=o),t&&(Tt[t[0]]=function(){return q(o.apply(this,arguments),t[1],t[2])}),i&&(Tt[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Y(e){var t,i,n=e.match(kt);for(t=0,i=n.length;t<i;t++)Tt[n[t]]?n[t]=Tt[n[t]]:n[t]=z(n[t]);return function(t){var o,s="";for(o=0;o<i;o++)s+=n[o]instanceof Function?n[o].call(t,e):n[o];return s}}function N(e,t){return e.isValid()?(t=W(t,e.localeData()),St[t]=St[t]||Y(t),St[t](e)):e.localeData().invalidDate()}function W(e,t){var i=5;for(Ct.lastIndex=0;i>=0&&Ct.test(e);)e=e.replace(Ct,function(e){return t.longDateFormat(e)||e}),Ct.lastIndex=0,i-=1;return e}function U(e,t,i){Wt[e]=x(t)?t:function(e,n){return e&&i?i:t}}function H(e,t){return o(Wt,e)?Wt[e](t._strict,t._locale):new RegExp(B(e))}function B(e){return V(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,o){return t||i||n||o}))}function V(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function G(e,t){var i,n=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(n=function(e,i){i[t]=g(e)}),i=0;i<e.length;i++)Ut[e[i]]=n}function X(e,t){G(e,function(e,i,n,o){n._w=n._w||{},t(e,n._w,n,o)})}function Q(e,t,i){null!=t&&o(Ut,e)&&Ut[e](t,i._a,i,e)}function J(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function Z(e,t,i){var n,o,s,r=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=a([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===t?-1!==(o=yt.call(this._shortMonthsParse,r))?o:null:-1!==(o=yt.call(this._longMonthsParse,r))?o:null:"MMM"===t?-1!==(o=yt.call(this._shortMonthsParse,r))?o:-1!==(o=yt.call(this._longMonthsParse,r))?o:null:-1!==(o=yt.call(this._longMonthsParse,r))?o:-1!==(o=yt.call(this._shortMonthsParse,r))?o:null}function K(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=g(t);else if("number"!=typeof(t=e.localeData().monthsParse(t)))return e;return i=Math.min(e.date(),J(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function ee(t){return null!=t?(K(this,t),e.updateOffset(this,!0),this):E(this,"Month")}function te(){function e(e,t){return t.length-e.length}var t,i,n=[],o=[],s=[];for(t=0;t<12;t++)i=a([2e3,t]),n.push(this.monthsShort(i,"")),o.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(n.sort(e),o.sort(e),s.sort(e),t=0;t<12;t++)n[t]=V(n[t]),o[t]=V(o[t]),s[t]=V(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function ie(e){var t,i=e._a;return i&&-2===l(e).overflow&&(t=i[Bt]<0||i[Bt]>11?Bt:i[Vt]<1||i[Vt]>J(i[Ht],i[Bt])?Vt:i[Gt]<0||i[Gt]>24||24===i[Gt]&&(0!==i[Xt]||0!==i[Qt]||0!==i[Jt])?Gt:i[Xt]<0||i[Xt]>59?Xt:i[Qt]<0||i[Qt]>59?Qt:i[Jt]<0||i[Jt]>999?Jt:-1,l(e)._overflowDayOfYear&&(t<Ht||t>Vt)&&(t=Vt),l(e)._overflowWeeks&&-1===t&&(t=Zt),l(e)._overflowWeekday&&-1===t&&(t=Kt),l(e).overflow=t),e}function ne(e){var t,i,n,o,s,a,r=e._i,c=si.exec(r)||ai.exec(r);if(c){for(l(e).iso=!0,t=0,i=li.length;t<i;t++)if(li[t][1].exec(c[1])){o=li[t][0],n=!1!==li[t][2];break}if(null==o)return void(e._isValid=!1);if(c[3]){for(t=0,i=ci.length;t<i;t++)if(ci[t][1].exec(c[3])){s=(c[2]||" ")+ci[t][0];break}if(null==s)return void(e._isValid=!1)}if(!n&&null!=s)return void(e._isValid=!1);if(c[4]){if(!ri.exec(c[4]))return void(e._isValid=!1);a="Z"}e._f=o+(s||"")+(a||""),ve(e)}else e._isValid=!1}function oe(t){var i=di.exec(t._i);null===i?(ne(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t))):t._d=new Date(+i[1])}function se(e,t,i,n,o,s,a){var r=new Date(e,t,i,n,o,s,a);return e<100&&e>=0&&isFinite(r.getFullYear())&&r.setFullYear(e),r}function ae(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function re(e){return le(e)?366:365}function le(e){return e%4==0&&e%100!=0||e%400==0}function ce(e,t,i){var n=7+t-i;return-((7+ae(e,0,n).getUTCDay()-t)%7)+n-1}function de(e,t,i,n,o){var s,a,r=1+7*(t-1)+(7+i-n)%7+ce(e,n,o);return r<=0?a=re(s=e-1)+r:r>re(e)?(s=e+1,a=r-re(e)):(s=e,a=r),{year:s,dayOfYear:a}}function ue(e,t,i){var n,o,s=ce(e.year(),t,i),a=Math.floor((e.dayOfYear()-s-1)/7)+1;return a<1?n=a+he(o=e.year()-1,t,i):a>he(e.year(),t,i)?(n=a-he(e.year(),t,i),o=e.year()+1):(o=e.year(),n=a),{week:n,year:o}}function he(e,t,i){var n=ce(e,t,i),o=ce(e+1,t,i);return(re(e)-n+o)/7}function pe(e,t,i){return null!=e?e:null!=t?t:i}function fe(t){var i=new Date(e.now());return t._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function me(e){var t,i,n,o,s=[];if(!e._d){for(n=fe(e),e._w&&null==e._a[Vt]&&null==e._a[Bt]&&ge(e),e._dayOfYear&&(o=pe(e._a[Ht],n[Ht]),e._dayOfYear>re(o)&&(l(e)._overflowDayOfYear=!0),i=ae(o,0,e._dayOfYear),e._a[Bt]=i.getUTCMonth(),e._a[Vt]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=n[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Gt]&&0===e._a[Xt]&&0===e._a[Qt]&&0===e._a[Jt]&&(e._nextDay=!0,e._a[Gt]=0),e._d=(e._useUTC?ae:se).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Gt]=24)}}function ge(e){var t,i,n,o,s,a,r,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(s=1,a=4,i=pe(t.GG,e._a[Ht],ue(Te(),1,4).year),n=pe(t.W,1),((o=pe(t.E,1))<1||o>7)&&(c=!0)):(s=e._locale._week.dow,a=e._locale._week.doy,i=pe(t.gg,e._a[Ht],ue(Te(),s,a).year),n=pe(t.w,1),null!=t.d?((o=t.d)<0||o>6)&&(c=!0):null!=t.e?(o=t.e+s,(t.e<0||t.e>6)&&(c=!0)):o=s),n<1||n>he(i,s,a)?l(e)._overflowWeeks=!0:null!=c?l(e)._overflowWeekday=!0:(r=de(i,n,o,s,a),e._a[Ht]=r.year,e._dayOfYear=r.dayOfYear)}function ve(t){if(t._f!==e.ISO_8601){t._a=[],l(t).empty=!0;var i,n,o,s,a,r=""+t._i,c=r.length,d=0;for(o=W(t._f,t._locale).match(kt)||[],i=0;i<o.length;i++)s=o[i],(n=(r.match(H(s,t))||[])[0])&&((a=r.substr(0,r.indexOf(n))).length>0&&l(t).unusedInput.push(a),r=r.slice(r.indexOf(n)+n.length),d+=n.length),Tt[s]?(n?l(t).empty=!1:l(t).unusedTokens.push(s),Q(s,n,t)):t._strict&&!n&&l(t).unusedTokens.push(s);l(t).charsLeftOver=c-d,r.length>0&&l(t).unusedInput.push(r),!0===l(t).bigHour&&t._a[Gt]<=12&&t._a[Gt]>0&&(l(t).bigHour=void 0),l(t).parsedDateParts=t._a.slice(0),l(t).meridiem=t._meridiem,t._a[Gt]=be(t._locale,t._a[Gt],t._meridiem),me(t),ie(t)}else ne(t)}function be(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?((n=e.isPM(i))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}function ye(e){var t,i,n,o,a;if(0===e._f.length)return l(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)a=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],ve(t),c(t)&&(a+=l(t).charsLeftOver,a+=10*l(t).unusedTokens.length,l(t).score=a,(null==n||a<n)&&(n=a,i=t));s(e,i||t)}function we(e){if(!e._d){var t=I(e._i);e._a=n([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),me(e)}}function xe(e){var t=new p(ie(ke(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function ke(e){var n=e._i,o=e._f;return e._locale=e._locale||O(e._l),null===n||void 0===o&&""===n?d({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),f(n)?new p(ie(n)):(t(o)?ye(e):o?ve(e):i(n)?e._d=n:Ce(e),c(e)||(e._d=null),e))}function Ce(o){var s=o._i;void 0===s?o._d=new Date(e.now()):i(s)?o._d=new Date(s.valueOf()):"string"==typeof s?oe(o):t(s)?(o._a=n(s.slice(0),function(e){return parseInt(e,10)}),me(o)):"object"==typeof s?we(o):"number"==typeof s?o._d=new Date(s):e.createFromInputFallback(o)}function Se(e,t,i,n,o){var s={};return"boolean"==typeof i&&(n=i,i=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=o,s._l=i,s._i=e,s._f=t,s._strict=n,xe(s)}function Te(e,t,i,n){return Se(e,t,i,n,!1)}function De(e,i){var n,o;if(1===i.length&&t(i[0])&&(i=i[0]),!i.length)return Te();for(n=i[0],o=1;o<i.length;++o)i[o].isValid()&&!i[o][e](n)||(n=i[o]);return n}function $e(e){var t=I(e),i=t.year||0,n=t.quarter||0,o=t.month||0,s=t.week||0,a=t.day||0,r=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._milliseconds=+d+1e3*c+6e4*l+1e3*r*60*60,this._days=+a+7*s,this._months=+o+3*n+12*i,this._data={},this._locale=O(),this._bubble()}function _e(e){return e instanceof $e}function Me(e,t){L(e,0,0,function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+q(~~(e/60),2)+t+q(~~e%60,2)})}function Oe(e,t){var i=(t||"").match(e)||[],n=((i[i.length-1]||[])+"").match(fi)||["-",0,0],o=60*n[1]+g(n[2]);return"+"===n[0]?o:-o}function Ae(t,n){var o,s;return n._isUTC?(o=n.clone(),s=(f(t)||i(t)?t.valueOf():Te(t).valueOf())-o.valueOf(),o._d.setTime(o._d.valueOf()+s),e.updateOffset(o,!1),o):Te(t).local()}function Pe(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ie(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function je(e,t){var i,n,s,a=e,r=null;return _e(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(r=mi.exec(e))?(i="-"===r[1]?-1:1,a={y:0,d:g(r[Vt])*i,h:g(r[Gt])*i,m:g(r[Xt])*i,s:g(r[Qt])*i,ms:g(r[Jt])*i}):(r=gi.exec(e))?(i="-"===r[1]?-1:1,a={y:Ee(r[2],i),M:Ee(r[3],i),w:Ee(r[4],i),d:Ee(r[5],i),h:Ee(r[6],i),m:Ee(r[7],i),s:Ee(r[8],i)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(s=Fe(Te(a.from),Te(a.to)),(a={}).ms=s.milliseconds,a.M=s.months),n=new $e(a),_e(e)&&o(e,"_locale")&&(n._locale=e._locale),n}function Ee(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Re(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function Fe(e,t){var i;return e.isValid()&&t.isValid()?(t=Ae(t,e),e.isBefore(t)?i=Re(e,t):((i=Re(t,e)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function qe(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Le(e,t){return function(i,n){var o,s;return null===n||isNaN(+n)||(w(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),s=i,i=n,n=s),i="string"==typeof i?+i:i,o=je(i,n),ze(this,o,e),this}}function ze(t,i,n,o){var s=i._milliseconds,a=qe(i._days),r=qe(i._months);t.isValid()&&(o=null==o||o,s&&t._d.setTime(t._d.valueOf()+s*n),a&&R(t,"Date",E(t,"Date")+a*n),r&&K(t,E(t,"Month")+r*n),o&&e.updateOffset(t,a||r))}function Ye(e,t){var i,n=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(n,"months");return i=t-o<0?(t-o)/(o-e.clone().add(n-1,"months")):(t-o)/(e.clone().add(n+1,"months")-o),-(n+i)||0}function Ne(e){var t;return void 0===e?this._locale._abbr:(null!=(t=O(e))&&(this._locale=t),this)}function We(){return this._locale}function Ue(e,t){L(0,[e,e.length],0,t)}function He(e,t,i,n,o){var s;return null==e?ue(this,n,o).year:(s=he(e,n,o),t>s&&(t=s),Be.call(this,e,t,i,n,o))}function Be(e,t,i,n,o){var s=de(e,t,i,n,o),a=ae(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Ve(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Ge(e,t,i){var n,o,s,r=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=a([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===t?-1!==(o=yt.call(this._weekdaysParse,r))?o:null:"ddd"===t?-1!==(o=yt.call(this._shortWeekdaysParse,r))?o:null:-1!==(o=yt.call(this._minWeekdaysParse,r))?o:null:"dddd"===t?-1!==(o=yt.call(this._weekdaysParse,r))?o:-1!==(o=yt.call(this._shortWeekdaysParse,r))?o:-1!==(o=yt.call(this._minWeekdaysParse,r))?o:null:"ddd"===t?-1!==(o=yt.call(this._shortWeekdaysParse,r))?o:-1!==(o=yt.call(this._weekdaysParse,r))?o:-1!==(o=yt.call(this._minWeekdaysParse,r))?o:null:-1!==(o=yt.call(this._minWeekdaysParse,r))?o:-1!==(o=yt.call(this._weekdaysParse,r))?o:-1!==(o=yt.call(this._shortWeekdaysParse,r))?o:null}function Xe(){function e(e,t){return t.length-e.length}var t,i,n,o,s,r=[],l=[],c=[],d=[];for(t=0;t<7;t++)i=a([2e3,1]).day(t),n=this.weekdaysMin(i,""),o=this.weekdaysShort(i,""),s=this.weekdays(i,""),r.push(n),l.push(o),c.push(s),d.push(n),d.push(o),d.push(s);for(r.sort(e),l.sort(e),c.sort(e),d.sort(e),t=0;t<7;t++)l[t]=V(l[t]),c[t]=V(c[t]),d[t]=V(d[t]);this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Qe(){return this.hours()%12||12}function Je(e,t){L(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ze(e,t){return t._meridiemParse}function Ke(e){return e}function et(e,t,i,n){var o=O(),s=a().set(n,t);return o[i](s,e)}function tt(e,t,i){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return et(e,t,i,"month");var n,o=[];for(n=0;n<12;n++)o[n]=et(e,n,i,"month");return o}function it(e,t,i,n){"boolean"==typeof e?("number"==typeof t&&(i=t,t=void 0),t=t||""):(i=t=e,e=!1,"number"==typeof t&&(i=t,t=void 0),t=t||"");var o=O(),s=e?o._week.dow:0;if(null!=i)return et(t,(i+s)%7,n,"day");var a,r=[];for(a=0;a<7;a++)r[a]=et(t,(a+s)%7,n,"day");return r}function nt(e,t,i,n){var o=je(t,i);return e._milliseconds+=n*o._milliseconds,e._days+=n*o._days,e._months+=n*o._months,e._bubble()}function ot(e){return e<0?Math.floor(e):Math.ceil(e)}function st(e){return 4800*e/146097}function at(e){return 146097*e/4800}function rt(e){return function(){return this.as(e)}}function lt(e){return function(){return this._data[e]}}function ct(e,t,i,n,o){return o.relativeTime(t||1,!!i,e,n)}function dt(e,t,i){var n=je(e).abs(),o=on(n.as("s")),s=on(n.as("m")),a=on(n.as("h")),r=on(n.as("d")),l=on(n.as("M")),c=on(n.as("y")),d=o<sn.s&&["s",o]||s<=1&&["m"]||s<sn.m&&["mm",s]||a<=1&&["h"]||a<sn.h&&["hh",a]||r<=1&&["d"]||r<sn.d&&["dd",r]||l<=1&&["M"]||l<sn.M&&["MM",l]||c<=1&&["y"]||["yy",c];return d[2]=t,d[3]=+e>0,d[4]=i,ct.apply(null,d)}function ut(){var e,t,i,n=an(this._milliseconds)/1e3,o=an(this._days),s=an(this._months);t=m((e=m(n/60))/60),n%=60,e%=60;var a=i=m(s/12),r=s%=12,l=o,c=t,d=e,u=n,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(a?a+"Y":"")+(r?r+"M":"")+(l?l+"D":"")+(c||d||u?"T":"")+(c?c+"H":"")+(d?d+"M":"")+(u?u+"S":""):"P0D"}var ht,pt;pt=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),i=t.length>>>0,n=0;n<i;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var ft=e.momentProperties=[],mt=!1,gt={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var vt;vt=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)o(e,t)&&i.push(t);return i};var bt,yt,wt={},xt={},kt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ct=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,St={},Tt={},Dt=/\d/,$t=/\d\d/,_t=/\d{3}/,Mt=/\d{4}/,Ot=/[+-]?\d{6}/,At=/\d\d?/,Pt=/\d\d\d\d?/,It=/\d\d\d\d\d\d?/,jt=/\d{1,3}/,Et=/\d{1,4}/,Rt=/[+-]?\d{1,6}/,Ft=/\d+/,qt=/[+-]?\d+/,Lt=/Z|[+-]\d\d:?\d\d/gi,zt=/Z|[+-]\d\d(?::?\d\d)?/gi,Yt=/[+-]?\d+(\.\d{1,3})?/,Nt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Wt={},Ut={},Ht=0,Bt=1,Vt=2,Gt=3,Xt=4,Qt=5,Jt=6,Zt=7,Kt=8;yt=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},L("M",["MM",2],"Mo",function(){return this.month()+1}),L("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),L("MMMM",0,0,function(e){return this.localeData().months(this,e)}),A("month","M"),U("M",At),U("MM",At,$t),U("MMM",function(e,t){return t.monthsShortRegex(e)}),U("MMMM",function(e,t){return t.monthsRegex(e)}),G(["M","MM"],function(e,t){t[Bt]=g(e)-1}),G(["MMM","MMMM"],function(e,t,i,n){var o=i._locale.monthsParse(e,n,i._strict);null!=o?t[Bt]=o:l(i).invalidMonth=e});var ei=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,ti="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ii="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ni=Nt,oi=Nt,si=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ai=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ri=/Z|[+-]\d\d(?::?\d\d)?/,li=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ci=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],di=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=y("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),L("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),L(0,["YY",2],0,function(){return this.year()%100}),L(0,["YYYY",4],0,"year"),L(0,["YYYYY",5],0,"year"),L(0,["YYYYYY",6,!0],0,"year"),A("year","y"),U("Y",qt),U("YY",At,$t),U("YYYY",Et,Mt),U("YYYYY",Rt,Ot),U("YYYYYY",Rt,Ot),G(["YYYYY","YYYYYY"],Ht),G("YYYY",function(t,i){i[Ht]=2===t.length?e.parseTwoDigitYear(t):g(t)}),G("YY",function(t,i){i[Ht]=e.parseTwoDigitYear(t)}),G("Y",function(e,t){t[Ht]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return g(e)+(g(e)>68?1900:2e3)};var ui=j("FullYear",!0);e.ISO_8601=function(){};var hi=y("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Te.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:d()}),pi=y("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Te.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:d()});Me("Z",":"),Me("ZZ",""),U("Z",zt),U("ZZ",zt),G(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=Oe(zt,e)});var fi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var mi=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,gi=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;je.fn=$e.prototype;var vi=Le(1,"add"),bi=Le(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var yi=y("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});L(0,["gg",2],0,function(){return this.weekYear()%100}),L(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ue("gggg","weekYear"),Ue("ggggg","weekYear"),Ue("GGGG","isoWeekYear"),Ue("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),U("G",qt),U("g",qt),U("GG",At,$t),U("gg",At,$t),U("GGGG",Et,Mt),U("gggg",Et,Mt),U("GGGGG",Rt,Ot),U("ggggg",Rt,Ot),X(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=g(e)}),X(["gg","GG"],function(t,i,n,o){i[o]=e.parseTwoDigitYear(t)}),L("Q",0,"Qo","quarter"),A("quarter","Q"),U("Q",Dt),G("Q",function(e,t){t[Bt]=3*(g(e)-1)}),L("w",["ww",2],"wo","week"),L("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),U("w",At),U("ww",At,$t),U("W",At),U("WW",At,$t),X(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=g(e)});var wi={dow:0,doy:6};L("D",["DD",2],"Do","date"),A("date","D"),U("D",At),U("DD",At,$t),U("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),G(["D","DD"],Vt),G("Do",function(e,t){t[Vt]=g(e.match(At)[0],10)});var xi=j("Date",!0);L("d",0,"do","day"),L("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),L("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),L("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),L("e",0,0,"weekday"),L("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),U("d",At),U("e",At),U("E",At),U("dd",function(e,t){return t.weekdaysMinRegex(e)}),U("ddd",function(e,t){return t.weekdaysShortRegex(e)}),U("dddd",function(e,t){return t.weekdaysRegex(e)}),X(["dd","ddd","dddd"],function(e,t,i,n){var o=i._locale.weekdaysParse(e,n,i._strict);null!=o?t.d=o:l(i).invalidWeekday=e}),X(["d","e","E"],function(e,t,i,n){t[n]=g(e)});var ki="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ci="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Si="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ti=Nt,Di=Nt,$i=Nt;L("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),U("DDD",jt),U("DDDD",_t),G(["DDD","DDDD"],function(e,t,i){i._dayOfYear=g(e)}),L("H",["HH",2],0,"hour"),L("h",["hh",2],0,Qe),L("k",["kk",2],0,function(){return this.hours()||24}),L("hmm",0,0,function(){return""+Qe.apply(this)+q(this.minutes(),2)}),L("hmmss",0,0,function(){return""+Qe.apply(this)+q(this.minutes(),2)+q(this.seconds(),2)}),L("Hmm",0,0,function(){return""+this.hours()+q(this.minutes(),2)}),L("Hmmss",0,0,function(){return""+this.hours()+q(this.minutes(),2)+q(this.seconds(),2)}),Je("a",!0),Je("A",!1),A("hour","h"),U("a",Ze),U("A",Ze),U("H",At),U("h",At),U("HH",At,$t),U("hh",At,$t),U("hmm",Pt),U("hmmss",It),U("Hmm",Pt),U("Hmmss",It),G(["H","HH"],Gt),G(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),G(["h","hh"],function(e,t,i){t[Gt]=g(e),l(i).bigHour=!0}),G("hmm",function(e,t,i){var n=e.length-2;t[Gt]=g(e.substr(0,n)),t[Xt]=g(e.substr(n)),l(i).bigHour=!0}),G("hmmss",function(e,t,i){var n=e.length-4,o=e.length-2;t[Gt]=g(e.substr(0,n)),t[Xt]=g(e.substr(n,2)),t[Qt]=g(e.substr(o)),l(i).bigHour=!0}),G("Hmm",function(e,t,i){var n=e.length-2;t[Gt]=g(e.substr(0,n)),t[Xt]=g(e.substr(n))}),G("Hmmss",function(e,t,i){var n=e.length-4,o=e.length-2;t[Gt]=g(e.substr(0,n)),t[Xt]=g(e.substr(n,2)),t[Qt]=g(e.substr(o))});var _i=/[ap]\.?m?\.?/i,Mi=j("Hours",!0);L("m",["mm",2],0,"minute"),A("minute","m"),U("m",At),U("mm",At,$t),G(["m","mm"],Xt);var Oi=j("Minutes",!1);L("s",["ss",2],0,"second"),A("second","s"),U("s",At),U("ss",At,$t),G(["s","ss"],Qt);var Ai=j("Seconds",!1);L("S",0,0,function(){return~~(this.millisecond()/100)}),L(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),L(0,["SSS",3],0,"millisecond"),L(0,["SSSS",4],0,function(){return 10*this.millisecond()}),L(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),L(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),L(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),L(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),L(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),A("millisecond","ms"),U("S",jt,Dt),U("SS",jt,$t),U("SSS",jt,_t);var Pi;for(Pi="SSSS";Pi.length<=9;Pi+="S")U(Pi,Ft);for(Pi="S";Pi.length<=9;Pi+="S")G(Pi,function(e,t){t[Jt]=g(1e3*("0."+e))});var Ii=j("Milliseconds",!1);L("z",0,0,"zoneAbbr"),L("zz",0,0,"zoneName");var ji=p.prototype;ji.add=vi,ji.calendar=function(e,t){var i=e||Te(),n=Ae(i,this).startOf("day"),o=this.diff(n,"days",!0),s=o<-6?"sameElse":o<-1?"lastWeek":o<0?"lastDay":o<1?"sameDay":o<2?"nextDay":o<7?"nextWeek":"sameElse",a=t&&(x(t[s])?t[s]():t[s]);return this.format(a||this.localeData().calendar(s,this,Te(i)))},ji.clone=function(){return new p(this)},ji.diff=function(e,t,i){var n,o,s,a;return this.isValid()&&(n=Ae(e,this)).isValid()?(o=6e4*(n.utcOffset()-this.utcOffset()),"year"===(t=P(t))||"month"===t||"quarter"===t?(a=Ye(this,n),"quarter"===t?a/=3:"year"===t&&(a/=12)):(s=this-n,a="second"===t?s/1e3:"minute"===t?s/6e4:"hour"===t?s/36e5:"day"===t?(s-o)/864e5:"week"===t?(s-o)/6048e5:s),i?a:m(a)):NaN},ji.endOf=function(e){return void 0===(e=P(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},ji.format=function(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var i=N(this,t);return this.localeData().postformat(i)},ji.from=function(e,t){return this.isValid()&&(f(e)&&e.isValid()||Te(e).isValid())?je({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},ji.fromNow=function(e){return this.from(Te(),e)},ji.to=function(e,t){return this.isValid()&&(f(e)&&e.isValid()||Te(e).isValid())?je({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},ji.toNow=function(e){return this.to(Te(),e)},ji.get=F,ji.invalidAt=function(){return l(this).overflow},ji.isAfter=function(e,t){var i=f(e)?e:Te(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=P(u(t)?"millisecond":t))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())},ji.isBefore=function(e,t){var i=f(e)?e:Te(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=P(u(t)?"millisecond":t))?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())},ji.isBetween=function(e,t,i,n){return("("===(n=n||"()")[0]?this.isAfter(e,i):!this.isBefore(e,i))&&(")"===n[1]?this.isBefore(t,i):!this.isAfter(t,i))},ji.isSame=function(e,t){var i,n=f(e)?e:Te(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=P(t||"millisecond"))?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))},ji.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},ji.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},ji.isValid=function(){return c(this)},ji.lang=yi,ji.locale=Ne,ji.localeData=We,ji.max=pi,ji.min=hi,ji.parsingFlags=function(){return s({},l(this))},ji.set=F,ji.startOf=function(e){switch(e=P(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},ji.subtract=bi,ji.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},ji.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},ji.toDate=function(){return this._offset?new Date(this.valueOf()):this._d},ji.toISOString=function(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?x(Date.prototype.toISOString)?this.toDate().toISOString():N(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},ji.toJSON=function(){return this.isValid()?this.toISOString():null},ji.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ji.unix=function(){return Math.floor(this.valueOf()/1e3)},ji.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ji.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ji.year=ui,ji.isLeapYear=function(){return le(this.year())},ji.weekYear=function(e){return He.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ji.isoWeekYear=function(e){return He.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},ji.quarter=ji.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},ji.month=ee,ji.daysInMonth=function(){return J(this.year(),this.month())},ji.week=ji.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},ji.isoWeek=ji.isoWeeks=function(e){var t=ue(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},ji.weeksInYear=function(){var e=this.localeData()._week;return he(this.year(),e.dow,e.doy)},ji.isoWeeksInYear=function(){return he(this.year(),1,4)},ji.date=xi,ji.day=ji.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ve(e,this.localeData()),this.add(e-t,"d")):t},ji.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},ji.isoWeekday=function(e){return this.isValid()?null==e?this.day()||7:this.day(this.day()%7?e:e-7):null!=e?this:NaN},ji.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},ji.hour=ji.hours=Mi,ji.minute=ji.minutes=Oi,ji.second=ji.seconds=Ai,ji.millisecond=ji.milliseconds=Ii,ji.utcOffset=function(t,i){var n,o=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Oe(zt,t):Math.abs(t)<16&&(t*=60),!this._isUTC&&i&&(n=Pe(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),o!==t&&(!i||this._changeInProgress?ze(this,je(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:Pe(this):null!=t?this:NaN},ji.utc=function(e){return this.utcOffset(0,e)},ji.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Pe(this),"m")),this},ji.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Oe(Lt,this._i)),this},ji.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Te(e).utcOffset():0,(this.utcOffset()-e)%60==0)},ji.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ji.isDSTShifted=function(){if(!u(this._isDSTShifted))return this._isDSTShifted;var e={};if(h(e,this),(e=ke(e))._a){var t=e._isUTC?a(e._a):Te(e._a);this._isDSTShifted=this.isValid()&&v(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted},ji.isLocal=function(){return!!this.isValid()&&!this._isUTC},ji.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ji.isUtc=Ie,ji.isUTC=Ie,ji.zoneAbbr=function(){return this._isUTC?"UTC":""},ji.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ji.dates=y("dates accessor is deprecated. Use date instead.",xi),ji.months=y("months accessor is deprecated. Use month instead",ee),ji.years=y("years accessor is deprecated. Use year instead",ui),ji.zone=y("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()});var Ei=ji,Ri={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Fi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},qi=/\d{1,2}/,Li={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},zi=S.prototype;zi._calendar=Ri,zi.calendar=function(e,t,i){var n=this._calendar[e];return x(n)?n.call(t,i):n},zi._longDateFormat=Fi,zi.longDateFormat=function(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},zi._invalidDate="Invalid date",zi.invalidDate=function(){return this._invalidDate},zi._ordinal="%d",zi.ordinal=function(e){return this._ordinal.replace("%d",e)},zi._ordinalParse=qi,zi.preparse=Ke,zi.postformat=Ke,zi._relativeTime=Li,zi.relativeTime=function(e,t,i,n){var o=this._relativeTime[i];return x(o)?o(e,t,i,n):o.replace(/%d/i,e)},zi.pastFuture=function(e,t){var i=this._relativeTime[e>0?"future":"past"];return x(i)?i(t):i.replace(/%s/i,t)},zi.set=function(e){var t,i;for(i in e)x(t=e[i])?this[i]=t:this["_"+i]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},zi.months=function(e,i){return t(this._months)?this._months[e.month()]:this._months[ei.test(i)?"format":"standalone"][e.month()]},zi._months=ti,zi.monthsShort=function(e,i){return t(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ei.test(i)?"format":"standalone"][e.month()]},zi._monthsShort=ii,zi.monthsParse=function(e,t,i){var n,o,s;if(this._monthsParseExact)return Z.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=a([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}},zi._monthsRegex=oi,zi.monthsRegex=function(e){return this._monthsParseExact?(o(this,"_monthsRegex")||te.call(this),e?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex},zi._monthsShortRegex=ni,zi.monthsShortRegex=function(e){return this._monthsParseExact?(o(this,"_monthsRegex")||te.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex},zi.week=function(e){return ue(e,this._week.dow,this._week.doy).week},zi._week=wi,zi.firstDayOfYear=function(){return this._week.doy},zi.firstDayOfWeek=function(){return this._week.dow},zi.weekdays=function(e,i){return t(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(i)?"format":"standalone"][e.day()]},zi._weekdays=ki,zi.weekdaysMin=function(e){return this._weekdaysMin[e.day()]},zi._weekdaysMin=Si,zi.weekdaysShort=function(e){return this._weekdaysShort[e.day()]},zi._weekdaysShort=Ci,zi.weekdaysParse=function(e,t,i){var n,o,s;if(this._weekdaysParseExact)return Ge.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=a([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}},zi._weekdaysRegex=Ti,zi.weekdaysRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex},zi._weekdaysShortRegex=Di,zi.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex},zi._weekdaysMinRegex=$i,zi.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex},zi.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},zi._meridiemParse=_i,zi.meridiem=function(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"},_("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===g(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=y("moment.lang is deprecated. Use moment.locale instead.",_),e.langData=y("moment.langData is deprecated. Use moment.localeData instead.",O);var Yi=Math.abs,Ni=rt("ms"),Wi=rt("s"),Ui=rt("m"),Hi=rt("h"),Bi=rt("d"),Vi=rt("w"),Gi=rt("M"),Xi=rt("y"),Qi=lt("milliseconds"),Ji=lt("seconds"),Zi=lt("minutes"),Ki=lt("hours"),en=lt("days"),tn=lt("months"),nn=lt("years"),on=Math.round,sn={s:45,m:45,h:22,d:26,M:11},an=Math.abs,rn=$e.prototype;return rn.abs=function(){var e=this._data;return this._milliseconds=Yi(this._milliseconds),this._days=Yi(this._days),this._months=Yi(this._months),e.milliseconds=Yi(e.milliseconds),e.seconds=Yi(e.seconds),e.minutes=Yi(e.minutes),e.hours=Yi(e.hours),e.months=Yi(e.months),e.years=Yi(e.years),this},rn.add=function(e,t){return nt(this,e,t,1)},rn.subtract=function(e,t){return nt(this,e,t,-1)},rn.as=function(e){var t,i,n=this._milliseconds;if("month"===(e=P(e))||"year"===e)return t=this._days+n/864e5,i=this._months+st(t),"month"===e?i:i/12;switch(t=this._days+Math.round(at(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},rn.asMilliseconds=Ni,rn.asSeconds=Wi,rn.asMinutes=Ui,rn.asHours=Hi,rn.asDays=Bi,rn.asWeeks=Vi,rn.asMonths=Gi,rn.asYears=Xi,rn.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)},rn._bubble=function(){var e,t,i,n,o,s=this._milliseconds,a=this._days,r=this._months,l=this._data;return s>=0&&a>=0&&r>=0||s<=0&&a<=0&&r<=0||(s+=864e5*ot(at(r)+a),a=0,r=0),l.milliseconds=s%1e3,e=m(s/1e3),l.seconds=e%60,t=m(e/60),l.minutes=t%60,i=m(t/60),l.hours=i%24,a+=m(i/24),o=m(st(a)),r+=o,a-=ot(at(o)),n=m(r/12),r%=12,l.days=a,l.months=r,l.years=n,this},rn.get=function(e){return e=P(e),this[e+"s"]()},rn.milliseconds=Qi,rn.seconds=Ji,rn.minutes=Zi,rn.hours=Ki,rn.days=en,rn.weeks=function(){return m(this.days()/7)},rn.months=tn,rn.years=nn,rn.humanize=function(e){var t=this.localeData(),i=dt(this,!e,t);return e&&(i=t.pastFuture(+this,i)),t.postformat(i)},rn.toISOString=ut,rn.toString=ut,rn.toJSON=ut,rn.locale=Ne,rn.localeData=We,rn.toIsoString=y("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ut),rn.lang=yi,L("X",0,0,"unix"),L("x",0,0,"valueOf"),U("x",qt),U("X",Yt),G("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),G("x",function(e,t,i){i._d=new Date(g(e))}),e.version="2.13.0",function(e){ht=e}(Te),e.fn=Ei,e.min=function(){return De("isBefore",[].slice.call(arguments,0))},e.max=function(){return De("isAfter",[].slice.call(arguments,0))},e.now=function(){return Date.now?Date.now():+new Date},e.utc=a,e.unix=function(e){return Te(1e3*e)},e.months=function(e,t){return tt(e,t,"months")},e.isDate=i,e.locale=_,e.invalid=d,e.duration=je,e.isMoment=f,e.weekdays=function(e,t,i){return it(e,t,i,"weekdays")},e.parseZone=function(){return Te.apply(null,arguments).parseZone()},e.localeData=O,e.isDuration=_e,e.monthsShort=function(e,t){return tt(e,t,"monthsShort")},e.weekdaysMin=function(e,t,i){return it(e,t,i,"weekdaysMin")},e.defineLocale=M,e.updateLocale=function(e,t){if(null!=t){var i;null!=wt[e]&&(t=C(wt[e]._config,t)),(i=new S(t)).parentLocale=wt[e],wt[e]=i,_(e)}else null!=wt[e]&&(null!=wt[e].parentLocale?wt[e]=wt[e].parentLocale:null!=wt[e]&&delete wt[e]);return wt[e]},e.locales=function(){return vt(wt)},e.weekdaysShort=function(e,t,i){return it(e,t,i,"weekdaysShort")},e.normalizeUnits=P,e.relativeTimeThreshold=function(e,t){return void 0!==sn[e]&&(void 0===t?sn[e]:(sn[e]=t,!0))},e.prototype=Ei,e}),function(e){"function"==typeof define&&define.amd?define("picker",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):this.Picker=e(jQuery)}(function(e){function t(s,r,u,h){function p(){return t._.node("div",t._.node("div",t._.node("div",t._.node("div",$.component.nodes(k.open),S.box),S.wrap),S.frame),S.holder,'tabindex="-1"')}function f(){T.data(r,$).addClass(S.input).val(T.data("value")?$.get("select",C.format):s.value),C.editable||T.on("focus."+k.id+" click."+k.id,function(e){e.preventDefault(),$.open()}).on("keydown."+k.id,w),o(s,{haspopup:!0,expanded:!1,readonly:!1,owns:s.id+"_root"})}function m(){o($.$root[0],"hidden",!0)}function g(){$.$holder.on({keydown:w,"focus.toOpen":y,blur:function(){T.removeClass(S.target)},focusin:function(e){$.$root.removeClass(S.focused),e.stopPropagation()},"mousedown click":function(t){var i=t.target;i!=$.$holder[0]&&(t.stopPropagation(),"mousedown"!=t.type||e(i).is("input, select, textarea, button, option")||(t.preventDefault(),$.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var t=e(this),i=t.data(),n=t.hasClass(S.navDisabled)||t.hasClass(S.disabled),o=a();o=o&&(o.type||o.href),(n||o&&!e.contains($.$root[0],o))&&$.$holder[0].focus(),!n&&i.nav?$.set("highlight",$.component.item.highlight,{nav:i.nav}):!n&&"pick"in i?($.set("select",i.pick),C.closeOnSelect&&$.close(!0)):i.clear?($.clear(),C.closeOnClear&&$.close(!0)):i.close&&$.close(!0)})}function v(){var t;!0===C.hiddenName?(t=s.name,s.name=""):t=(t=["string"==typeof C.hiddenPrefix?C.hiddenPrefix:"","string"==typeof C.hiddenSuffix?C.hiddenSuffix:"_submit"])[0]+s.name+t[1],$._hidden=e('<input type=hidden name="'+t+'"'+(T.data("value")||s.value?' value="'+$.get("select",C.formatSubmit)+'"':"")+">")[0],T.on("change."+k.id,function(){$._hidden.value=s.value?$.get("select",C.formatSubmit):""})}function b(){x&&d?$.$holder.find("."+S.frame).one("transitionend",function(){$.$holder[0].focus()}):$.$holder[0].focus()}function y(e){e.stopPropagation(),T.addClass(S.target),$.$root.addClass(S.focused),$.open()}function w(e){var t=e.keyCode,i=/^(8|46)$/.test(t);if(27==t)return $.close(!0),!1;(32==t||i||!k.open&&$.component.key[t])&&(e.preventDefault(),e.stopPropagation(),i?$.clear().close():$.open())}if(!s)return t;var x=!1,k={id:s.id||"P"+Math.abs(~~(Math.random()*new Date))},C=u?e.extend(!0,{},u.defaults,h):h||{},S=e.extend({},t.klasses(),C.klass),T=e(s),D=function(){return this.start()},$=D.prototype={constructor:D,$node:T,start:function(){return k&&k.start?$:(k.methods={},k.start=!0,k.open=!1,k.type=s.type,s.autofocus=s==a(),s.readOnly=!C.editable,s.id=s.id||k.id,"text"!=s.type&&(s.type="text"),$.component=new u($,C),$.$root=e('<div class="'+S.picker+'" id="'+s.id+'_root" />'),m(),$.$holder=e(p()).appendTo($.$root),g(),C.formatSubmit&&v(),f(),C.containerHidden?e(C.containerHidden).append($._hidden):T.after($._hidden),C.container?e(C.container).append($.$root):T.after($.$root),$.on({start:$.component.onStart,render:$.component.onRender,stop:$.component.onStop,open:$.component.onOpen,close:$.component.onClose,set:$.component.onSet}).on({start:C.onStart,render:C.onRender,stop:C.onStop,open:C.onOpen,close:C.onClose,set:C.onSet}),x=i($.$holder[0]),s.autofocus&&$.open(),$.trigger("start").trigger("render"))},render:function(t){return t?($.$holder=e(p()),g(),$.$root.html($.$holder)):$.$root.find("."+S.box).html($.component.nodes(k.open)),$.trigger("render")},stop:function(){return k.start?($.close(),$._hidden&&$._hidden.parentNode.removeChild($._hidden),$.$root.remove(),T.removeClass(S.input).removeData(r),setTimeout(function(){T.off("."+k.id)},0),s.type=k.type,s.readOnly=!1,$.trigger("stop"),k.methods={},k.start=!1,$):$},open:function(i){return k.open?$:(T.addClass(S.active),o(s,"expanded",!0),setTimeout(function(){$.$root.addClass(S.opened),o($.$root[0],"hidden",!1)},0),!1!==i&&(k.open=!0,x&&c.css("overflow","hidden").css("padding-right","+="+n()),b(),l.on("click."+k.id+" focusin."+k.id,function(e){var t=e.target;t!=s&&t!=document&&3!=e.which&&$.close(t===$.$holder[0])}).on("keydown."+k.id,function(i){var n=i.keyCode,o=$.component.key[n],s=i.target;27==n?$.close(!0):s!=$.$holder[0]||!o&&13!=n?e.contains($.$root[0],s)&&13==n&&(i.preventDefault(),s.click()):(i.preventDefault(),o?t._.trigger($.component.key.go,$,[t._.trigger(o)]):$.$root.find("."+S.highlighted).hasClass(S.disabled)||($.set("select",$.component.item.highlight),C.closeOnSelect&&$.close(!0)))})),$.trigger("open"))},close:function(e){return e&&(C.editable?s.focus():($.$holder.off("focus.toOpen").focus(),setTimeout(function(){$.$holder.on("focus.toOpen",y)},0))),T.removeClass(S.active),o(s,"expanded",!1),setTimeout(function(){$.$root.removeClass(S.opened+" "+S.focused),o($.$root[0],"hidden",!0)},0),k.open?(k.open=!1,x&&c.css("overflow","").css("padding-right","-="+n()),l.off("."+k.id),$.trigger("close")):$},clear:function(e){return $.set("clear",null,e)},set:function(t,i,n){var o,s,a=e.isPlainObject(t),r=a?t:{};if(n=a&&e.isPlainObject(i)?i:n||{},t){a||(r[t]=i);for(o in r)s=r[o],o in $.component.item&&(void 0===s&&(s=null),$.component.set(o,s,n)),"select"!=o&&"clear"!=o||T.val("clear"==o?"":$.get(o,C.format)).trigger("change");$.render()}return n.muted?$:$.trigger("set",r)},get:function(e,i){if(e=e||"value",null!=k[e])return k[e];if("valueSubmit"==e){if($._hidden)return $._hidden.value;e="value"}if("value"==e)return s.value;if(e in $.component.item){if("string"==typeof i){var n=$.component.get(e);return n?t._.trigger($.component.formats.toString,$.component,[i,n]):""}return $.component.get(e)}},on:function(t,i,n){var o,s,a=e.isPlainObject(t),r=a?t:{};if(t){a||(r[t]=i);for(o in r)s=r[o],n&&(o="_"+o),k.methods[o]=k.methods[o]||[],k.methods[o].push(s)}return $},off:function(){var e,t,i=arguments;for(e=0,namesCount=i.length;e<namesCount;e+=1)(t=i[e])in k.methods&&delete k.methods[t];return $},trigger:function(e,i){var n=function(e){var n=k.methods[e];n&&n.map(function(e){t._.trigger(e,$,[i])})};return n("_"+e),n(e),$}};return new D}function i(e){var t;return e.currentStyle?t=e.currentStyle.position:window.getComputedStyle&&(t=getComputedStyle(e).position),"fixed"==t}function n(){if(c.height()<=r.height())return 0;var t=e('<div style="visibility:hidden;width:100px" />').appendTo("body"),i=t[0].offsetWidth;t.css("overflow","scroll");var n=e('<div style="width:100%" />').appendTo(t)[0].offsetWidth;return t.remove(),i-n}function o(t,i,n){if(e.isPlainObject(i))for(var o in i)s(t,o,i[o]);else s(t,i,n)}function s(e,t,i){e.setAttribute(("role"==t?"":"aria-")+t,i)}function a(){try{return document.activeElement}catch(e){}}var r=e(window),l=e(document),c=e(document.documentElement),d=null!=document.documentElement.style.transition;return t.klasses=function(e){return e=e||"picker",{picker:e,opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",target:e+"__input--target",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},t._={group:function(e){for(var i,n="",o=t._.trigger(e.min,e);o<=t._.trigger(e.max,e,[o]);o+=e.i)i=t._.trigger(e.item,e,[o]),n+=t._.node(e.node,i[0],i[1],i[2]);return n},node:function(t,i,n,o){return i?(i=e.isArray(i)?i.join(""):i,n=n?' class="'+n+'"':"",o=o?" "+o:"","<"+t+n+o+">"+i+"</"+t+">"):""},lead:function(e){return(e<10?"0":"")+e},trigger:function(e,t,i){return"function"==typeof e?e.apply(t,i||[]):e},digits:function(e){return/\d/.test(e[1])?2:1},isDate:function(e){return{}.toString.call(e).indexOf("Date")>-1&&this.isInteger(e.getDate())},isInteger:function(e){return{}.toString.call(e).indexOf("Number")>-1&&e%1==0},ariaAttr:function(t,i){e.isPlainObject(t)||(t={attribute:i}),i="";for(var n in t){var o=("role"==n?"":"aria-")+n;i+=null==t[n]?"":o+'="'+t[n]+'"'}return i}},t.extend=function(i,n){e.fn[i]=function(o,s){var a=this.data(i);return"picker"==o?a:a&&"string"==typeof o?t._.trigger(a[o],a,[s]):this.each(function(){e(this).data(i)||new t(this,i,n,o)})},e.fn[i].defaults=n.defaults},t}),function(e){"function"==typeof define&&define.amd?define(["picker","jquery"],e):"object"==typeof exports?module.exports=e(require("./picker.js"),require("jquery")):e(Picker,jQuery)}(function(e,t){function i(e,t){var i=this,n=e.$node[0].value,o=e.$node.data("value"),s=o||n,a=o?t.formatSubmit:t.format;i.settings=t,i.$node=e.$node,i.queue={interval:"i",min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse create validate",view:"parse create validate",disable:"deactivate",enable:"activate"},i.item={},i.item.clear=null,i.item.interval=t.interval||30,i.item.disable=(t.disable||[]).slice(0),i.item.enable=-function(e){return!0===e[0]?e.shift():-1}(i.item.disable),i.set("min",t.min).set("max",t.max).set("now"),s?i.set("select",s,{format:a}):i.set("select",null).set("highlight",i.item.now),i.key={40:1,38:-1,39:1,37:-1,go:function(e){i.set("highlight",i.item.highlight.pick+e*i.item.interval,{interval:e*i.item.interval}),this.render()}},e.on("render",function(){var i=e.$root.children(),n=i.find("."+t.klass.viewset),o=function(e){return["webkit","moz","ms","o",""].map(function(t){return(t?"-"+t+"-":"")+e})},s=function(e,t){o("transform").map(function(i){e.css(i,t)}),o("transition").map(function(i){e.css(i,t)})};n.length&&(s(i,"none"),i[0].scrollTop=~~n.position().top-2*n[0].clientHeight,s(i,""))},1).on("open",function(){e.$root.find("button").attr("disabled",!1)},1).on("close",function(){e.$root.find("button").attr("disabled",!0)},1)}var n=60,o=1440,s=e._;i.prototype.set=function(e,t,i){var n=this,o=n.item;return null===t?("clear"==e&&(e="select"),o[e]=t,n):(o["enable"==e?"disable":"flip"==e?"enable":e]=n.queue[e].split(" ").map(function(o){return t=n[o](e,t,i)}).pop(),"select"==e?n.set("highlight",o.select,i):"highlight"==e?n.set("view",o.highlight,i):"interval"==e?n.set("min",o.min,i).set("max",o.max,i):e.match(/^(flip|min|max|disable|enable)$/)&&(o.select&&n.disabled(o.select)&&n.set("select",t,i),o.highlight&&n.disabled(o.highlight)&&n.set("highlight",t,i),"min"==e&&n.set("max",o.max,i)),n)},i.prototype.get=function(e){return this.item[e]},i.prototype.create=function(e,i,a){var r=this;return i=void 0===i?e:i,s.isDate(i)&&(i=[i.getHours(),i.getMinutes()]),t.isPlainObject(i)&&s.isInteger(i.pick)?i=i.pick:t.isArray(i)?i=+i[0]*n+ +i[1]:s.isInteger(i)||(i=r.now(e,i,a)),"max"==e&&i<r.item.min.pick&&(i+=o),"min"!=e&&"max"!=e&&(i-r.item.min.pick)%r.item.interval!=0&&(i+=r.item.interval),i=r.normalize(e,i,a),{hour:~~(24+i/n)%24,mins:(n+i%n)%n,time:(o+i)%o,pick:i%o}},i.prototype.createRange=function(e,i){var n=this,o=function(e){return!0===e||t.isArray(e)||s.isDate(e)?n.create(e):e};return s.isInteger(e)||(e=o(e)),s.isInteger(i)||(i=o(i)),s.isInteger(e)&&t.isPlainObject(i)?e=[i.hour,i.mins+e*n.settings.interval]:s.isInteger(i)&&t.isPlainObject(e)&&(i=[e.hour,e.mins+i*n.settings.interval]),{from:o(e),to:o(i)}},i.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},i.prototype.overlapRanges=function(e,t){var i=this;return e=i.createRange(e.from,e.to),t=i.createRange(t.from,t.to),i.withinRange(e,t.from)||i.withinRange(e,t.to)||i.withinRange(t,e.from)||i.withinRange(t,e.to)},i.prototype.now=function(e,t){var i,o=this.item.interval,a=new Date,r=a.getHours()*n+a.getMinutes(),l=s.isInteger(t);return r-=r%o,i=0>t&&-o>=o*t+r,r+="min"==e&&i?0:o,l&&(r+=o*(i&&"max"!=e?t+1:t)),r},i.prototype.normalize=function(e,t){var i=this.item.interval,n=this.item.min&&this.item.min.pick||0;return t-="min"==e?0:(t-n)%i},i.prototype.measure=function(e,i,n){var o=this;return i||(i="min"==e?[0,0]:[23,59]),"string"==typeof i?i=o.parse(e,i):!0===i||s.isInteger(i)?i=o.now(e,i,n):t.isPlainObject(i)&&s.isInteger(i.pick)&&(i=o.normalize(e,i.pick,n)),i},i.prototype.validate=function(e,t,i){var n=this,o=i&&i.interval?i.interval:n.item.interval;return n.disabled(t)&&(t=n.shift(t,o)),t=n.scope(t),n.disabled(t)&&(t=n.shift(t,-1*o)),t},i.prototype.disabled=function(e){var i=this,n=i.item.disable.filter(function(n){return s.isInteger(n)?e.hour==n:t.isArray(n)||s.isDate(n)?e.pick==i.create(n).pick:t.isPlainObject(n)?i.withinRange(n,e):void 0});return n=n.length&&!n.filter(function(e){return t.isArray(e)&&"inverted"==e[2]||t.isPlainObject(e)&&e.inverted}).length,-1===i.item.enable?!n:n||e.pick<i.item.min.pick||e.pick>i.item.max.pick},i.prototype.shift=function(e,t){var i=this,n=i.item.min.pick,o=i.item.max.pick;for(t=t||i.item.interval;i.disabled(e)&&!((e=i.create(e.pick+=t)).pick<=n||e.pick>=o););return e},i.prototype.scope=function(e){var t=this.item.min.pick,i=this.item.max.pick;return this.create(e.pick>i?i:e.pick<t?t:e)},i.prototype.parse=function(e,t,i){var o,a,r,l,c,d=this,u={};if(!t||"string"!=typeof t)return t;i&&i.format||(i=i||{},i.format=d.settings.format),d.formats.toArray(i.format).map(function(e){var i,n=d.formats[e],o=n?s.trigger(n,d,[t,u]):e.replace(/^!/,"").length;n&&(i=t.substr(0,o),u[e]=i.match(/^\d+$/)?+i:i),t=t.substr(o)});for(l in u)c=u[l],s.isInteger(c)?l.match(/^(h|hh)$/i)?(o=c,("h"==l||"hh"==l)&&(o%=12)):"i"==l&&(a=c):l.match(/^a$/i)&&c.match(/^p/i)&&("h"in u||"hh"in u)&&(r=!0);return(r?o+12:o)*n+a},i.prototype.formats={h:function(e,t){return e?s.digits(e):t.hour%12||12},hh:function(e,t){return e?2:s.lead(t.hour%12||12)},H:function(e,t){return e?s.digits(e):""+t.hour%24},HH:function(e,t){return e?s.digits(e):s.lead(t.hour%24)},i:function(e,t){return e?2:s.lead(t.mins)},a:function(e,t){return e?4:720>t.time%o?"a.m.":"p.m."},A:function(e,t){return e?2:720>t.time%o?"AM":"PM"},toArray:function(e){return e.split(/(h{1,2}|H{1,2}|i|a|A|!.)/g)},toString:function(e,t){var i=this;return i.formats.toArray(e).map(function(e){return s.trigger(i.formats[e],i,[0,t])||e.replace(/^!/,"")}).join("")}},i.prototype.isTimeExact=function(e,i){var n=this;return s.isInteger(e)&&s.isInteger(i)||"boolean"==typeof e&&"boolean"==typeof i?e===i:(s.isDate(e)||t.isArray(e))&&(s.isDate(i)||t.isArray(i))?n.create(e).pick===n.create(i).pick:!(!t.isPlainObject(e)||!t.isPlainObject(i))&&(n.isTimeExact(e.from,i.from)&&n.isTimeExact(e.to,i.to))},i.prototype.isTimeOverlap=function(e,i){var n=this;return s.isInteger(e)&&(s.isDate(i)||t.isArray(i))?e===n.create(i).hour:s.isInteger(i)&&(s.isDate(e)||t.isArray(e))?i===n.create(e).hour:!(!t.isPlainObject(e)||!t.isPlainObject(i))&&n.overlapRanges(e,i)},i.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},i.prototype.deactivate=function(e,i){var n=this,o=n.item.disable.slice(0);return"flip"==i?n.flipEnable():!1===i?(n.flipEnable(1),o=[]):!0===i?(n.flipEnable(-1),o=[]):i.map(function(e){for(var i,a=0;a<o.length;a+=1)if(n.isTimeExact(e,o[a])){i=!0;break}i||(s.isInteger(e)||s.isDate(e)||t.isArray(e)||t.isPlainObject(e)&&e.from&&e.to)&&o.push(e)}),o},i.prototype.activate=function(e,i){var n=this,o=n.item.disable,a=o.length;return"flip"==i?n.flipEnable():!0===i?(n.flipEnable(1),o=[]):!1===i?(n.flipEnable(-1),o=[]):i.map(function(e){var i,r,l,c;for(l=0;a>l;l+=1){if(r=o[l],n.isTimeExact(r,e)){i=o[l]=null,c=!0;break}if(n.isTimeOverlap(r,e)){t.isPlainObject(e)?(e.inverted=!0,i=e):t.isArray(e)?(i=e)[2]||i.push("inverted"):s.isDate(e)&&(i=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(i)for(l=0;a>l;l+=1)if(n.isTimeExact(o[l],e)){o[l]=null;break}if(c)for(l=0;a>l;l+=1)if(n.isTimeOverlap(o[l],e)){o[l]=null;break}i&&o.push(i)}),o.filter(function(e){return null!=e})},i.prototype.i=function(e,t){return s.isInteger(t)&&t>0?t:this.item.interval},i.prototype.nodes=function(e){var t=this,i=t.settings,n=t.item.select,o=t.item.highlight,a=t.item.view,r=t.item.disable;return s.node("ul",s.group({min:t.item.min.pick,max:t.item.max.pick,i:t.item.interval,node:"li",item:function(e){var l=(e=t.create(e)).pick,c=n&&n.pick==l,d=o&&o.pick==l,u=r&&t.disabled(e),h=s.trigger(t.formats.toString,t,[i.format,e]);return[s.trigger(t.formats.toString,t,[s.trigger(i.formatLabel,t,[e])||i.format,e]),function(e){return c&&e.push(i.klass.selected),d&&e.push(i.klass.highlighted),a&&a.pick==l&&e.push(i.klass.viewset),u&&e.push(i.klass.disabled),e.join(" ")}([i.klass.listItem]),"data-pick="+e.pick+" "+s.ariaAttr({role:"option",label:h,selected:!(!c||t.$node.val()!==h)||null,activedescendant:!!d||null,disabled:!!u||null})]}})+s.node("li",s.node("button",i.clear,i.klass.buttonClear,"type=button data-clear=1"+(e?"":" disabled")+" "+s.ariaAttr({controls:t.$node[0].id})),"",s.ariaAttr({role:"presentation"})),i.klass.list,s.ariaAttr({role:"listbox",controls:t.$node[0].id}))},i.defaults=function(e){return{clear:"Clear",format:"h:i A",interval:30,closeOnSelect:!0,closeOnClear:!0,klass:{picker:e+" "+e+"--time",holder:e+"__holder",list:e+"__list",listItem:e+"__list-item",disabled:e+"__list-item--disabled",selected:e+"__list-item--selected",highlighted:e+"__list-item--highlighted",viewset:e+"__list-item--viewset",now:e+"__list-item--now",buttonClear:e+"__button--clear"}}}(e.klasses().picker),e.extend("pickatime",i)}),function(e){"function"==typeof define&&define.amd?define(["picker","jquery"],e):"object"==typeof exports?module.exports=e(require("./picker.js"),require("jquery")):e(Picker,jQuery)}(function(e,t){function i(e,t){var i=this,n=e.$node[0],o=n.value,s=e.$node.data("value"),a=s||o,r=s?t.formatSubmit:t.format,l=function(){return n.currentStyle?"rtl"==n.currentStyle.direction:"rtl"==getComputedStyle(e.$root[0]).direction};i.settings=t,i.$node=e.$node,i.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},i.item={},i.item.clear=null,i.item.disable=(t.disable||[]).slice(0),i.item.enable=-function(e){return!0===e[0]?e.shift():-1}(i.item.disable),i.set("min",t.min).set("max",t.max).set("now"),a?i.set("select",a,{format:r,defaultValue:!0}):i.set("select",null).set("highlight",i.item.now),i.key={40:7,38:-7,39:function(){return l()?-1:1},37:function(){return l()?1:-1},go:function(e){var t=i.item.highlight,n=new Date(t.year,t.month,t.date+e);i.set("highlight",n,{interval:e}),this.render()}},e.on("render",function(){e.$root.find("."+t.klass.selectMonth).on("change",function(){var i=this.value;i&&(e.set("highlight",[e.get("view").year,i,e.get("highlight").date]),e.$root.find("."+t.klass.selectMonth).trigger("focus"))}),e.$root.find("."+t.klass.selectYear).on("change",function(){var i=this.value;i&&(e.set("highlight",[i,e.get("view").month,e.get("highlight").date]),e.$root.find("."+t.klass.selectYear).trigger("focus"))})},1).on("open",function(){var n="";i.disabled(i.get("now"))&&(n=":not(."+t.klass.buttonToday+")"),e.$root.find("button"+n+", select").attr("disabled",!1)},1).on("close",function(){e.$root.find("button, select").attr("disabled",!0)},1)}var n=e._;i.prototype.set=function(e,t,i){var n=this,o=n.item;return null===t?("clear"==e&&(e="select"),o[e]=t,n):(o["enable"==e?"disable":"flip"==e?"enable":e]=n.queue[e].split(" ").map(function(o){return t=n[o](e,t,i)}).pop(),"select"==e?n.set("highlight",o.select,i):"highlight"==e?n.set("view",o.highlight,i):e.match(/^(flip|min|max|disable|enable)$/)&&(o.select&&n.disabled(o.select)&&n.set("select",o.select,i),o.highlight&&n.disabled(o.highlight)&&n.set("highlight",o.highlight,i)),n)},i.prototype.get=function(e){return this.item[e]},i.prototype.create=function(e,i,o){var s,a=this;return(i=void 0===i?e:i)==-1/0||i==1/0?s=i:t.isPlainObject(i)&&n.isInteger(i.pick)?i=i.obj:t.isArray(i)?(i=new Date(i[0],i[1],i[2]),i=n.isDate(i)?i:a.create().obj):i=n.isInteger(i)||n.isDate(i)?a.normalize(new Date(i),o):a.now(e,i,o),{year:s||i.getFullYear(),month:s||i.getMonth(),date:s||i.getDate(),day:s||i.getDay(),obj:s||i,pick:s||i.getTime()}},i.prototype.createRange=function(e,i){var o=this,s=function(e){return!0===e||t.isArray(e)||n.isDate(e)?o.create(e):e};return n.isInteger(e)||(e=s(e)),n.isInteger(i)||(i=s(i)),n.isInteger(e)&&t.isPlainObject(i)?e=[i.year,i.month,i.date+e]:n.isInteger(i)&&t.isPlainObject(e)&&(i=[e.year,e.month,e.date+i]),{from:s(e),to:s(i)}},i.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},i.prototype.overlapRanges=function(e,t){var i=this;return e=i.createRange(e.from,e.to),t=i.createRange(t.from,t.to),i.withinRange(e,t.from)||i.withinRange(e,t.to)||i.withinRange(t,e.from)||i.withinRange(t,e.to)},i.prototype.now=function(e,t,i){return t=new Date,i&&i.rel&&t.setDate(t.getDate()+i.rel),this.normalize(t,i)},i.prototype.navigate=function(e,i,n){var o,s,a,r,l=t.isArray(i),c=t.isPlainObject(i),d=this.item.view;if(l||c){for(c?(s=i.year,a=i.month,r=i.date):(s=+i[0],a=+i[1],r=+i[2]),n&&n.nav&&d&&d.month!==a&&(s=d.year,a=d.month),s=(o=new Date(s,a+(n&&n.nav?n.nav:0),1)).getFullYear(),a=o.getMonth();new Date(s,a,r).getMonth()!==a;)r-=1;i=[s,a,r]}return i},i.prototype.normalize=function(e){return e.setHours(0,0,0,0),e},i.prototype.measure=function(e,t){var i=this;return t?"string"==typeof t?t=i.parse(e,t):n.isInteger(t)&&(t=i.now(e,t,{rel:t})):t="min"==e?-1/0:1/0,t},i.prototype.viewset=function(e,t){return this.create([t.year,t.month,1])},i.prototype.validate=function(e,i,o){var s,a,r,l,c=this,d=i,u=o&&o.interval?o.interval:1,h=-1===c.item.enable,p=c.item.min,f=c.item.max,m=h&&c.item.disable.filter(function(e){if(t.isArray(e)){var o=c.create(e).pick;o<i.pick?s=!0:o>i.pick&&(a=!0)}return n.isInteger(e)}).length;if((!o||!o.nav&&!o.defaultValue)&&(!h&&c.disabled(i)||h&&c.disabled(i)&&(m||s||a)||!h&&(i.pick<=p.pick||i.pick>=f.pick)))for(h&&!m&&(!a&&u>0||!s&&u<0)&&(u*=-1);c.disabled(i)&&(Math.abs(u)>1&&(i.month<d.month||i.month>d.month)&&(i=d,u=u>0?1:-1),i.pick<=p.pick?(r=!0,u=1,i=c.create([p.year,p.month,p.date+(i.pick===p.pick?0:-1)])):i.pick>=f.pick&&(l=!0,u=-1,i=c.create([f.year,f.month,f.date+(i.pick===f.pick?0:1)])),!r||!l);)i=c.create([i.year,i.month,i.date+u]);return i},i.prototype.disabled=function(e){var i=this,o=i.item.disable.filter(function(o){return n.isInteger(o)?e.day===(i.settings.firstDay?o:o-1)%7:t.isArray(o)||n.isDate(o)?e.pick===i.create(o).pick:t.isPlainObject(o)?i.withinRange(o,e):void 0});return o=o.length&&!o.filter(function(e){return t.isArray(e)&&"inverted"==e[3]||t.isPlainObject(e)&&e.inverted}).length,-1===i.item.enable?!o:o||e.pick<i.item.min.pick||e.pick>i.item.max.pick},i.prototype.parse=function(e,t,i){var o=this,s={};return t&&"string"==typeof t?(i&&i.format||((i=i||{}).format=o.settings.format),o.formats.toArray(i.format).map(function(e){var i=o.formats[e],a=i?n.trigger(i,o,[t,s]):e.replace(/^!/,"").length;i&&(s[e]=t.substr(0,a)),t=t.substr(a)}),[s.yyyy||s.yy,+(s.mm||s.m)-1,s.dd||s.d]):t},i.prototype.formats=function(){function e(e,t,i){var n=e.match(/[^\x00-\x7F]+|\w+/)[0];return i.mm||i.m||(i.m=t.indexOf(n)+1),n.length}function t(e){return e.match(/\w+/)[0].length}return{d:function(e,t){return e?n.digits(e):t.date},dd:function(e,t){return e?2:n.lead(t.date)},ddd:function(e,i){return e?t(e):this.settings.weekdaysShort[i.day]},dddd:function(e,i){return e?t(e):this.settings.weekdaysFull[i.day]},m:function(e,t){return e?n.digits(e):t.month+1},mm:function(e,t){return e?2:n.lead(t.month+1)},mmm:function(t,i){var n=this.settings.monthsShort;return t?e(t,n,i):n[i.month]},mmmm:function(t,i){var n=this.settings.monthsFull;return t?e(t,n,i):n[i.month]},yy:function(e,t){return e?2:(""+t.year).slice(2)},yyyy:function(e,t){return e?4:t.year},toArray:function(e){return e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(e,t){var i=this;return i.formats.toArray(e).map(function(e){return n.trigger(i.formats[e],i,[0,t])||e.replace(/^!/,"")}).join("")}}}(),i.prototype.isDateExact=function(e,i){var o=this;return n.isInteger(e)&&n.isInteger(i)||"boolean"==typeof e&&"boolean"==typeof i?e===i:(n.isDate(e)||t.isArray(e))&&(n.isDate(i)||t.isArray(i))?o.create(e).pick===o.create(i).pick:!(!t.isPlainObject(e)||!t.isPlainObject(i))&&(o.isDateExact(e.from,i.from)&&o.isDateExact(e.to,i.to))},i.prototype.isDateOverlap=function(e,i){var o=this,s=o.settings.firstDay?1:0;return n.isInteger(e)&&(n.isDate(i)||t.isArray(i))?(e=e%7+s)===o.create(i).day+1:n.isInteger(i)&&(n.isDate(e)||t.isArray(e))?(i=i%7+s)===o.create(e).day+1:!(!t.isPlainObject(e)||!t.isPlainObject(i))&&o.overlapRanges(e,i)},i.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},i.prototype.deactivate=function(e,i){var o=this,s=o.item.disable.slice(0);return"flip"==i?o.flipEnable():!1===i?(o.flipEnable(1),s=[]):!0===i?(o.flipEnable(-1),s=[]):i.map(function(e){for(var i,a=0;a<s.length;a+=1)if(o.isDateExact(e,s[a])){i=!0;break}i||(n.isInteger(e)||n.isDate(e)||t.isArray(e)||t.isPlainObject(e)&&e.from&&e.to)&&s.push(e)}),s},i.prototype.activate=function(e,i){var o=this,s=o.item.disable,a=s.length;return"flip"==i?o.flipEnable():!0===i?(o.flipEnable(1),s=[]):!1===i?(o.flipEnable(-1),s=[]):i.map(function(e){var i,r,l,c;for(l=0;l<a;l+=1){if(r=s[l],o.isDateExact(r,e)){i=s[l]=null,c=!0;break}if(o.isDateOverlap(r,e)){t.isPlainObject(e)?(e.inverted=!0,i=e):t.isArray(e)?(i=e)[3]||i.push("inverted"):n.isDate(e)&&(i=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(i)for(l=0;l<a;l+=1)if(o.isDateExact(s[l],e)){s[l]=null;break}if(c)for(l=0;l<a;l+=1)if(o.isDateOverlap(s[l],e)){s[l]=null;break}i&&s.push(i)}),s.filter(function(e){return null!=e})},i.prototype.nodes=function(e){var t=this,i=t.settings,o=t.item,s=o.now,a=o.select,r=o.highlight,l=o.view,c=o.disable,d=o.min,u=o.max,h=function(e,t){return i.firstDay&&(e.push(e.shift()),t.push(t.shift())),n.node("thead",n.node("tr",n.group({min:0,max:6,i:1,node:"th",item:function(n){return[e[n],i.klass.weekdays,'scope=col title="'+t[n]+'"']}})))}((i.showWeekdaysFull?i.weekdaysFull:i.weekdaysShort).slice(0),i.weekdaysFull.slice(0)),p=function(e){return n.node("div"," ",i.klass["nav"+(e?"Next":"Prev")]+(e&&l.year>=u.year&&l.month>=u.month||!e&&l.year<=d.year&&l.month<=d.month?" "+i.klass.navDisabled:""),"data-nav="+(e||-1)+" "+n.ariaAttr({role:"button",controls:t.$node[0].id+"_table"})+' title="'+(e?i.labelMonthNext:i.labelMonthPrev)+'"')},f=function(){var o=i.showMonthsShort?i.monthsShort:i.monthsFull;return i.selectMonths?n.node("select",n.group({min:0,max:11,i:1,node:"option",item:function(e){return[o[e],0,"value="+e+(l.month==e?" selected":"")+(l.year==d.year&&e<d.month||l.year==u.year&&e>u.month?" disabled":"")]}}),i.klass.selectMonth,(e?"":"disabled")+" "+n.ariaAttr({controls:t.$node[0].id+"_table"})+' title="'+i.labelMonthSelect+'"'):n.node("div",o[l.month],i.klass.month)},m=function(){var o=l.year,s=!0===i.selectYears?5:~~(i.selectYears/2);if(s){var a=d.year,r=u.year,c=o-s,h=o+s;if(a>c&&(h+=a-c,c=a),r<h){var p=c-a,f=h-r;c-=p>f?f:p,h=r}return n.node("select",n.group({min:c,max:h,i:1,node:"option",item:function(e){return[e,0,"value="+e+(o==e?" selected":"")]}}),i.klass.selectYear,(e?"":"disabled")+" "+n.ariaAttr({controls:t.$node[0].id+"_table"})+' title="'+i.labelYearSelect+'"')}return n.node("div",o,i.klass.year)};return n.node("div",(i.selectYears?m()+f():f()+m())+p()+p(1),i.klass.header)+n.node("table",h+n.node("tbody",n.group({min:0,max:5,i:1,node:"tr",item:function(e){var o=i.firstDay&&0===t.create([l.year,l.month,1]).day?-7:0;return[n.group({min:7*e-l.day+o+1,max:function(){return this.min+7-1},i:1,node:"td",item:function(e){e=t.create([l.year,l.month,e+(i.firstDay?1:0)]);var o=a&&a.pick==e.pick,h=r&&r.pick==e.pick,p=c&&t.disabled(e)||e.pick<d.pick||e.pick>u.pick,f=n.trigger(t.formats.toString,t,[i.format,e]);return[n.node("div",e.date,function(t){return t.push(l.month==e.month?i.klass.infocus:i.klass.outfocus),s.pick==e.pick&&t.push(i.klass.now),o&&t.push(i.klass.selected),h&&t.push(i.klass.highlighted),p&&t.push(i.klass.disabled),t.join(" ")}([i.klass.day]),"data-pick="+e.pick+" "+n.ariaAttr({role:"gridcell",label:f,selected:!(!o||t.$node.val()!==f)||null,activedescendant:!!h||null,disabled:!!p||null})),"",n.ariaAttr({role:"presentation"})]}})]}})),i.klass.table,'id="'+t.$node[0].id+'_table" '+n.ariaAttr({role:"grid",controls:t.$node[0].id,readonly:!0}))+n.node("div",n.node("button",i.today,i.klass.buttonToday,"type=button data-pick="+s.pick+(e&&!t.disabled(s)?"":" disabled")+" "+n.ariaAttr({controls:t.$node[0].id}))+n.node("button",i.clear,i.klass.buttonClear,"type=button data-clear=1"+(e?"":" disabled")+" "+n.ariaAttr({controls:t.$node[0].id}))+n.node("button",i.close,i.klass.buttonClose,"type=button data-close=true "+(e?"":" disabled")+" "+n.ariaAttr({controls:t.$node[0].id})),i.klass.footer)},i.defaults=function(e){return{labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",close:"Close",closeOnSelect:!0,closeOnClear:!0,format:"d mmmm, yyyy",klass:{table:e+"table",header:e+"header",navPrev:e+"nav--prev",navNext:e+"nav--next",navDisabled:e+"nav--disabled",month:e+"month",year:e+"year",selectMonth:e+"select--month",selectYear:e+"select--year",weekdays:e+"weekday",day:e+"day",disabled:e+"day--disabled",selected:e+"day--selected",highlighted:e+"day--highlighted",now:e+"day--today",infocus:e+"day--infocus",outfocus:e+"day--outfocus",footer:e+"footer",buttonClear:e+"button--clear",buttonToday:e+"button--today",buttonClose:e+"button--close"}}}(e.klasses().picker+"__"),e.extend("pickadate",i)}),jQuery.extend(jQuery.fn.pickadate.defaults,{monthsFull:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthsShort:["jan","feb","maa","apr","mei","jun","jul","aug","sep","okt","nov","dec"],weekdaysFull:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],weekdaysShort:["zo","ma","di","wo","do","vr","za"],today:"vandaag",clear:"verwijderen",close:"sluiten",firstDay:1,format:"dddd d mmmm yyyy",formatSubmit:"yyyy/mm/dd"}),jQuery.extend(jQuery.fn.pickatime.defaults,{clear:"verwijderen"}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(),function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;e(this).one("bsTransitionEnd",function(){i=!0});return setTimeout(function(){i||e(n).trigger(e.support.transition.end)},t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),function(e){"use strict";var t='[data-dismiss="alert"]',i=function(i){e(i).on("click",t,this.close)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var o=e(this),s=o.attr("data-target");s||(s=o.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var a=e(s);t&&t.preventDefault(),a.length||(a=o.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var n=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var n=e(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof t&&o[t].call(n)})},e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=n,this},e(document).on("click.bs.alert.data-api",t,i.prototype.close)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.button"),s="object"==typeof t&&t;o||n.data("bs.button",o=new i(this,s)),"toggle"==t?o.toggle():t&&o.setState(t)})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.6",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var i="disabled",n=this.$element,o=n.is("input")?"val":"html",s=n.data();t+="Text",null==s.resetText&&n.data("resetText",n[o]()),setTimeout(e.proxy(function(){n[o](null==s[t]?this.options[t]:s[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),e&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=t,e.fn.button.Constructor=i,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=e(i.target);n.hasClass("btn")||(n=n.closest(".btn")),t.call(n,"toggle"),e(i.target).is('input[type="radio"]')||e(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.carousel"),s=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t),a="string"==typeof t?t:s.slide;o||n.data("bs.carousel",o=new i(this,s)),"number"==typeof t?o.to(t):a?o[a]():s.interval&&o.pause().cycle()})}var i=function(t,i){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},i.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},i.prototype.getItemForDirection=function(e,t){var i=this.getItemIndex(t);if(("prev"==e&&0===i||"next"==e&&i==this.$items.length-1)&&!this.options.wrap)return t;var n=(i+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(n)},i.prototype.to=function(e){var t=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",this.$items.eq(e))},i.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(t,n){var o=this.$element.find(".item.active"),s=n||this.getItemForDirection(t,o),a=this.interval,r="next"==t?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var c=s[0],d=e.Event("slide.bs.carousel",{relatedTarget:c,direction:r});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=e(this.$indicators.children()[this.getItemIndex(s)]);u&&u.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:c,direction:r});return e.support.transition&&this.$element.hasClass("slide")?(s.addClass(t),s[0].offsetWidth,o.addClass(r),s.addClass(r),o.one("bsTransitionEnd",function(){s.removeClass([t,r].join(" ")).addClass("active"),o.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(o.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(h)),a&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=i,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this};var o=function(i){var n,o=e(this),s=e(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var a=e.extend({},s.data(),o.data()),r=o.attr("data-slide-to");r&&(a.interval=!1),t.call(s,a),r&&s.data("bs.carousel").to(r),i.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var i=e(this);t.call(i,i.data())})})}(jQuery),function(e){"use strict";function t(t){var i,n=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return e(n)}function i(t){return this.each(function(){var i=e(this),o=i.data("bs.collapse"),s=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);!o&&s.toggle&&/show|hide/.test(t)&&(s.toggle=!1),o||i.data("bs.collapse",o=new n(this,s)),"string"==typeof t&&o[t]()})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.6",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(t=o.data("bs.collapse"))&&t.transitioning)){var s=e.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){o&&o.length&&(i.call(o,"hide"),t||o.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return r.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[a](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[i](0).one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(n.TRANSITION_DURATION):o.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(i,n){var o=e(n);this.addAriaAndCollapsedClass(t(o),o)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i),t.toggleClass("collapsed",!i).attr("aria-expanded",i)};var o=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=o,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var o=e(this);o.attr("data-target")||n.preventDefault();var s=t(o),a=s.data("bs.collapse")?"toggle":o.data();i.call(s,a)})}(jQuery),function(e){"use strict";function t(t){var i=t.attr("data-target");i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&e(i);return n&&n.length?n:t.parent()}function i(i){i&&3===i.which||(e(n).remove(),e(o).each(function(){var n=e(this),o=t(n),s={relatedTarget:this};o.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&e.contains(o[0],i.target)||(o.trigger(i=e.Event("hide.bs.dropdown",s)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),o.removeClass("open").trigger(e.Event("hidden.bs.dropdown",s)))))}))}var n=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(t){e(t).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.6",s.prototype.toggle=function(n){var o=e(this);if(!o.is(".disabled, :disabled")){var s=t(o),a=s.hasClass("open");if(i(),!a){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",i);var r={relatedTarget:this};if(s.trigger(n=e.Event("show.bs.dropdown",r)),n.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger(e.Event("shown.bs.dropdown",r))}return!1}},s.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=e(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var s=t(n),a=s.hasClass("open");if(!a&&27!=i.which||a&&27==i.which)return 27==i.which&&s.find(o).trigger("focus"),n.trigger("click");var r=s.find(".dropdown-menu li:not(.disabled):visible a");if(r.length){var l=r.index(i.target);38==i.which&&l>0&&l--,40==i.which&&l<r.length-1&&l++,~l||(l=0),r.eq(l).trigger("focus")}}}};var a=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var i=e(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new s(this)),"string"==typeof t&&n[t].call(i)})},e.fn.dropdown.Constructor=s,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery),function(e){"use strict";function t(t,n){return this.each(function(){var o=e(this),s=o.data("bs.modal"),a=e.extend({},i.DEFAULTS,o.data(),"object"==typeof t&&t);s||o.data("bs.modal",s=new i(this,a)),"string"==typeof t?s[t](n):a.show&&s.show(n)})}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var n=this,o=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),o&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:t});o?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(t){var n=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=e.support.transition&&o;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;s?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=e(this),o=n.attr("href"),s=e(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),a=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(o)&&o},s.data(),n.data());n.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(e){e.isDefaultPrevented()||s.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(s,a,this)})}(jQuery),function(e){"use strict";var t=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};t.VERSION="3.3.6",t.TRANSITION_DURATION=150,t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},t.prototype.init=function(t,i,n){if(this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),s=o.length;s--;){var a=o[s];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,n){i[e]!=n&&(t[e]=n)}),t},t.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),t instanceof e.Event&&(i.inState["focusin"==t.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},t.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},t.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),t instanceof e.Event&&(i.inState["focusout"==t.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},t.prototype.show=function(){var i=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(i);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(i.isDefaultPrevented()||!n)return;var o=this,s=this.tip(),a=this.getUID(this.type);this.setContent(),s.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&s.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(r);c&&(r=r.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),u=s[0].offsetWidth,h=s[0].offsetHeight;if(c){var p=r,f=this.getPosition(this.$viewport);r="bottom"==r&&d.bottom+h>f.bottom?"top":"top"==r&&d.top-h<f.top?"bottom":"right"==r&&d.right+u>f.width?"left":"left"==r&&d.left-u<f.left?"right":r,s.removeClass(p).addClass(r)}var m=this.getCalculatedOffset(r,d,u,h);this.applyPlacement(m,r);var g=function(){var e=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==e&&o.leave(o)};e.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",g).emulateTransitionEnd(t.TRANSITION_DURATION):g()}},t.prototype.applyPlacement=function(t,i){var n=this.tip(),o=n[0].offsetWidth,s=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),r=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),t.top+=a,t.left+=r,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==i&&c!=s&&(t.top=t.top+s-c);var d=this.getViewportAdjustedDelta(i,t,l,c);d.left?t.left+=d.left:t.top+=d.top;var u=/top|bottom/.test(i),h=u?2*d.left-o+l:2*d.top-s+c,p=u?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(h,n[0][p],u)},t.prototype.replaceArrow=function(e,t,i){this.arrow().css(i?"left":"top",50*(1-e/t)+"%").css(i?"top":"left","")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(i){function n(){"in"!=o.hoverState&&s.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),i&&i()}var o=this,s=e(this.$tip),a=e.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(t.TRANSITION_DURATION):n(),this.hoverState=null,this)},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(t){var i=(t=t||this.$element)[0],n="BODY"==i.tagName,o=i.getBoundingClientRect();null==o.width&&(o=e.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var s=n?{top:0,left:0}:t.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},r=n?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},o,a,r,s)},t.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},t.prototype.getViewportAdjustedDelta=function(e,t,i,n){var o={top:0,left:0};if(!this.$viewport)return o;var s=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var r=t.top-s-a.scroll,l=t.top+s-a.scroll+n;r<a.top?o.top=a.top-r:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var c=t.left-s,d=t.left+s+i;c<a.left?o.left=a.left-c:d>a.right&&(o.left=a.left+a.width-d)}return o},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},t.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var i=this;t&&((i=e(t.currentTarget).data("bs."+this.type))||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i))),t?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},t.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null})};var i=e.fn.tooltip;e.fn.tooltip=function(i){return this.each(function(){var n=e(this),o=n.data("bs.tooltip"),s="object"==typeof i&&i;(o||!/destroy|hide/.test(i))&&(o||n.data("bs.tooltip",o=new t(this,s)),"string"==typeof i&&o[i]())})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.6",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=e.fn.popover;e.fn.popover=function(i){return this.each(function(){var n=e(this),o=n.data("bs.popover"),s="object"==typeof i&&i;(o||!/destroy|hide/.test(i))&&(o||n.data("bs.popover",o=new t(this,s)),"string"==typeof i&&o[i]())})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),function(e){"use strict";function t(i,n){this.$body=e(document.body),this.$scrollElement=e(e(i).is(document.body)?window:i),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=e(this),o=n.data("bs.scrollspy"),s="object"==typeof i&&i;o||n.data("bs.scrollspy",o=new t(this,s)),"string"==typeof i&&o[i]()})}t.VERSION="3.3.6",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),o=t.data("target")||t.attr("href"),s=/^#./.test(o)&&e(o);return s&&s.length&&s.is(":visible")&&[[s[i]().top+n,o]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,s=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),t>=n)return a!=(e=s[s.length-1])&&this.activate(e);if(a&&t<o[0])return this.activeTarget=null,this.clear();for(e=o.length;e--;)a!=s[e]&&t>=o[e]&&(void 0===o[e+1]||t<o[e+1])&&this.activate(s[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=e.fn.scrollspy;e.fn.scrollspy=i,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new i(this)),"string"==typeof t&&o[t]()})}var i=function(t){this.element=e(t)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=i.find(".active:last a"),s=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(s),t.trigger(a),!a.isDefaultPrevented()&&!s.isDefaultPrevented()){var r=e(n);this.activate(t.closest("li"),i),this.activate(r,r.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},i.prototype.activate=function(t,n,o){function s(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var a=n.find("> .active"),r=o&&e.support.transition&&(a.length&&a.hasClass("fade")||!!n.find("> .fade").length);a.length&&r?a.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),a.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=n,this};var o=function(i){i.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.affix"),s="object"==typeof t&&t;o||n.data("bs.affix",o=new i(this,s)),"string"==typeof t&&o[t]()})}var i=function(t,n){this.options=e.extend({},i.DEFAULTS,n),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.6",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(e,t,i,n){var o=this.$target.scrollTop(),s=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return i>o&&"top";if("bottom"==this.affixed)return null!=i?!(o+this.unpin<=s.top)&&"bottom":!(e-n>=o+a)&&"bottom";var r=null==this.affixed,l=r?o:s.top,c=r?a:t;return null!=i&&i>=o?"top":null!=n&&l+c>=e-n&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},i.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),n=this.options.offset,o=n.top,s=n.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof n&&(s=o=n),"function"==typeof o&&(o=n.top(this.$element)),"function"==typeof s&&(s=n.bottom(this.$element));var r=this.getState(a,t,o,s);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:a-t-s})}};var n=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=i,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var i=e(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),t.call(i,n)})})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):"object"==typeof exports?e(require("jquery"),require("moment")):e(jQuery,moment)}(function(e,t){function i(i,s){if(this.element=i,this.options=e.extend(!0,{},o,s),this.options.moment&&(t=this.options.moment),this.constraints={next:!0,today:!0,previous:!0,nextYear:!0,previousYear:!0},this.options.events.length&&(this.options.multiDayEvents?this.options.events=this.addMultiDayMomentObjectsToEvents(this.options.events):this.options.events=this.addMomentObjectToEvents(this.options.events)),this.options.lengthOfTime.months||this.options.lengthOfTime.days?this.options.lengthOfTime.months?(this.options.lengthOfTime.days=null,this.options.lengthOfTime.startDate?this.intervalStart=t(this.options.lengthOfTime.startDate).startOf("month"):this.options.startWithMonth?this.intervalStart=t(this.options.startWithMonth).startOf("month"):this.intervalStart=t().startOf("month"),this.intervalEnd=t(this.intervalStart).add(this.options.lengthOfTime.months,"months").subtract(1,"days"),this.month=this.intervalStart.clone()):this.options.lengthOfTime.days&&(this.options.lengthOfTime.startDate?this.intervalStart=t(this.options.lengthOfTime.startDate).startOf("day"):this.intervalStart=t().weekday(0).startOf("day"),this.intervalEnd=t(this.intervalStart).add(this.options.lengthOfTime.days-1,"days").endOf("day"),this.month=this.intervalStart.clone()):(this.month=t().startOf("month"),this.intervalStart=t(this.month),this.intervalEnd=t(this.month).endOf("month")),this.options.startWithMonth&&(this.month=t(this.options.startWithMonth).startOf("month"),this.intervalStart=t(this.month),this.intervalEnd=t(this.month).endOf("month")),this.options.constraints){if(this.options.constraints.startDate){var a=t(this.options.constraints.startDate);this.intervalStart.isBefore(a,"month")&&(this.intervalStart.set("month",a.month()).set("year",a.year()),this.month.set("month",a.month()).set("year",a.year()))}if(this.options.constraints.endDate){var r=t(this.options.constraints.endDate);this.intervalEnd.isAfter(r,"month")&&(this.intervalEnd.set("month",r.month()).set("year",r.year()),this.month.set("month",r.month()).set("year",r.year()))}}this._defaults=o,this._name=n,this.init()}var n="clndr",o={events:[],ready:null,extras:null,render:null,moment:null,weekOffset:0,constraints:null,forceSixRows:null,selectedDate:null,doneRendering:null,daysOfTheWeek:null,multiDayEvents:null,startWithMonth:null,dateParameter:"date",template:"<div class='clndr-controls'><div class='clndr-control-button'><span class='clndr-previous-button'>previous</span></div><div class='month'><%= month %> <%= year %></div><div class='clndr-control-button rightalign'><span class='clndr-next-button'>next</span></div></div><table class='clndr-table' border='0' cellspacing='0' cellpadding='0'><thead><tr class='header-days'><% for(var i = 0; i < daysOfTheWeek.length; i++) { %><td class='header-day'><%= daysOfTheWeek[i] %></td><% } %></tr></thead><tbody><% for(var i = 0; i < numberOfRows; i++){ %><tr><% for(var j = 0; j < 7; j++){ %><% var d = j + i * 7; %><td class='<%= days[d].classes %>'><div class='day-contents'><%= days[d].day %></div></td><% } %></tr><% } %></tbody></table>",showAdjacentMonths:!0,trackSelectedDate:!1,adjacentDaysChangeMonth:!1,ignoreInactiveDaysInSelection:null,lengthOfTime:{days:null,interval:1,months:null},clickEvents:{click:null,today:null,nextYear:null,nextMonth:null,nextInterval:null,previousYear:null,onYearChange:null,previousMonth:null,onMonthChange:null,previousInterval:null,onIntervalChange:null},targets:{day:"day",empty:"empty",nextButton:"clndr-next-button",todayButton:"clndr-today-button",previousButton:"clndr-previous-button",nextYearButton:"clndr-next-year-button",previousYearButton:"clndr-previous-year-button"},classes:{past:"past",today:"today",event:"event",inactive:"inactive",selected:"selected",lastMonth:"last-month",nextMonth:"next-month",adjacentMonth:"adjacent-month"}};i.prototype.init=function(){if(this.daysOfTheWeek=this.options.daysOfTheWeek||[],!this.options.daysOfTheWeek){this.daysOfTheWeek=[];for(var i=0;7>i;i++)this.daysOfTheWeek.push(t().weekday(i).format("dd").charAt(0))}if(this.options.weekOffset&&(this.daysOfTheWeek=this.shiftWeekdayLabels(this.options.weekOffset)),!e.isFunction(this.options.render)){if(this.options.render=null,"undefined"==typeof _)throw new Error("Underscore was not found. Please include underscore.js OR provide a custom render function.");this.compiledClndrTemplate=_.template(this.options.template)}e(this.element).html("<div class='clndr'></div>"),this.calendarContainer=e(".clndr",this.element),this.bindEvents(),this.render(),this.options.ready&&this.options.ready.apply(this,[])},i.prototype.shiftWeekdayLabels=function(e){for(var t=this.daysOfTheWeek,i=0;e>i;i++)t.push(t.shift());return t},i.prototype.createDaysObject=function(i,n){var o,s,a,r,l,c,d=[],u=i.clone();if(n.diff(i,"days"),this._currentIntervalStart=i.clone(),this.eventsLastMonth=[],this.eventsNextMonth=[],this.eventsThisInterval=[],this.options.events.length&&(this.eventsThisInterval=e(this.options.events).filter(function(){var e=this._clndrStartDateObject.isAfter(n);return!this._clndrEndDateObject.isBefore(i)&&!e}).toArray(),this.options.showAdjacentMonths&&(o=i.clone().subtract(1,"months").startOf("month"),s=o.clone().endOf("month"),a=n.clone().add(1,"months").startOf("month"),r=a.clone().endOf("month"),this.eventsLastMonth=e(this.options.events).filter(function(){var e=this._clndrEndDateObject.isBefore(o),t=this._clndrStartDateObject.isAfter(s);return!e&&!t}).toArray(),this.eventsNextMonth=e(this.options.events).filter(function(){var e=this._clndrEndDateObject.isBefore(a),t=this._clndrStartDateObject.isAfter(r);return!e&&!t}).toArray())),!this.options.lengthOfTime.days)if(0>(l=u.weekday()-this.options.weekOffset)&&(l+=7),this.options.showAdjacentMonths)for(p=0;l>p;p++){var h=t([i.year(),i.month(),p-l+1]);d.push(this.createDayObject(h,this.eventsLastMonth))}else for(var p=0;l>p;p++)d.push(this.calendarDay({classes:this.options.targets.empty+" "+this.options.classes.lastMonth}));for(c=i.clone();c.isBefore(n)||c.isSame(n,"day");)d.push(this.createDayObject(c.clone(),this.eventsThisInterval)),c.add(1,"days");if(!this.options.lengthOfTime.days)for(;d.length%7!=0;)this.options.showAdjacentMonths?d.push(this.createDayObject(c.clone(),this.eventsNextMonth)):d.push(this.calendarDay({classes:this.options.targets.empty+" "+this.options.classes.nextMonth})),c.add(1,"days");if(this.options.forceSixRows&&42!==d.length)for(;d.length<42;)this.options.showAdjacentMonths?(d.push(this.createDayObject(c.clone(),this.eventsNextMonth)),c.add(1,"days")):d.push(this.calendarDay({classes:this.options.targets.empty+" "+this.options.classes.nextMonth}));return d},i.prototype.createDayObject=function(e,i){var n,o,s,a=0,r=t(),l=[],c="",d={isToday:!1,isInactive:!1,isAdjacentMonth:!1};for(!e.isValid()&&e.hasOwnProperty("_d")&&void 0!=e._d&&(e=t(e._d)),a;a<i.length;a++){var u=i[a]._clndrStartDateObject,h=i[a]._clndrEndDateObject;(e.isSame(u,"day")||e.isAfter(u,"day"))&&(e.isSame(h,"day")||e.isBefore(h,"day"))&&l.push(i[a])}return r.format("YYYY-MM-DD")==e.format("YYYY-MM-DD")&&(c+=" "+this.options.classes.today,d.isToday=!0),e.isBefore(r,"day")&&(c+=" "+this.options.classes.past),l.length&&(c+=" "+this.options.classes.event),this.options.lengthOfTime.days||(this._currentIntervalStart.month()>e.month()?(c+=" "+this.options.classes.adjacentMonth,d.isAdjacentMonth=!0,c+=this._currentIntervalStart.year()===e.year()?" "+this.options.classes.lastMonth:" "+this.options.classes.nextMonth):this._currentIntervalStart.month()<e.month()&&(c+=" "+this.options.classes.adjacentMonth,d.isAdjacentMonth=!0,c+=this._currentIntervalStart.year()===e.year()?" "+this.options.classes.nextMonth:" "+this.options.classes.lastMonth)),this.options.constraints&&(o=t(this.options.constraints.endDate),n=t(this.options.constraints.startDate),this.options.constraints.startDate&&e.isBefore(n)&&(c+=" "+this.options.classes.inactive,d.isInactive=!0),this.options.constraints.endDate&&e.isAfter(o)&&(c+=" "+this.options.classes.inactive,d.isInactive=!0)),!e.isValid()&&e.hasOwnProperty("_d")&&void 0!=e._d&&(e=t(e._d)),s=t(this.options.selectedDate),this.options.selectedDate&&e.isSame(s,"day")&&(c+=" "+this.options.classes.selected),c+=" calendar-day-"+e.format("YYYY-MM-DD"),c+=" calendar-dow-"+e.weekday(),this.calendarDay({date:e,day:e.date(),events:l,properties:d,classes:this.options.targets.day+c})},i.prototype.render=function(){var e,i,n,o={},s=null,a=null,r=this.intervalEnd.clone().add(1,"years"),l=this.intervalStart.clone().subtract(1,"years");if(this.calendarContainer.empty(),this.options.lengthOfTime.days)u=this.createDaysObject(this.intervalStart.clone(),this.intervalEnd.clone()),o={days:u,months:[],year:null,month:null,eventsLastMonth:[],eventsNextMonth:[],eventsThisMonth:[],extras:this.options.extras,daysOfTheWeek:this.daysOfTheWeek,intervalEnd:this.intervalEnd.clone(),numberOfRows:Math.ceil(u.length/7),intervalStart:this.intervalStart.clone(),eventsThisInterval:this.eventsThisInterval};else if(this.options.lengthOfTime.months){for(e=[],n=0,i=[],p=0;p<this.options.lengthOfTime.months;p++){var c=this.intervalStart.clone().add(p,"months"),d=c.clone().endOf("month"),u=this.createDaysObject(c,d);i.push(this.eventsThisInterval),e.push({days:u,month:c})}for(p in e)n+=Math.ceil(e[p].days.length/7);o={days:[],year:null,month:null,months:e,eventsThisMonth:[],numberOfRows:n,extras:this.options.extras,intervalEnd:this.intervalEnd,intervalStart:this.intervalStart,daysOfTheWeek:this.daysOfTheWeek,eventsLastMonth:this.eventsLastMonth,eventsNextMonth:this.eventsNextMonth,eventsThisInterval:i}}else u=this.createDaysObject(this.month.clone().startOf("month"),this.month.clone().endOf("month")),this.month,o={days:u,months:[],intervalEnd:null,intervalStart:null,year:this.month.year(),eventsThisInterval:null,extras:this.options.extras,month:this.month.format("MMMM"),daysOfTheWeek:this.daysOfTheWeek,eventsLastMonth:this.eventsLastMonth,eventsNextMonth:this.eventsNextMonth,numberOfRows:Math.ceil(u.length/7),eventsThisMonth:this.eventsThisInterval};if(this.options.render?this.calendarContainer.html(this.options.render.apply(this,[o])):this.calendarContainer.html(this.compiledClndrTemplate(o)),this.options.constraints){for(var h in this.options.targets)h!=this.options.targets.day&&this.element.find("."+this.options.targets[h]).toggleClass(this.options.classes.inactive,!1);for(var p in this.constraints)this.constraints[p]=!0;this.options.constraints.startDate&&(a=t(this.options.constraints.startDate)),this.options.constraints.endDate&&(s=t(this.options.constraints.endDate)),a&&(a.isAfter(this.intervalStart)||a.isSame(this.intervalStart,"day"))&&(this.element.find("."+this.options.targets.previousButton).toggleClass(this.options.classes.inactive,!0),this.constraints.previous=!this.constraints.previous),s&&(s.isBefore(this.intervalEnd)||s.isSame(this.intervalEnd,"day"))&&(this.element.find("."+this.options.targets.nextButton).toggleClass(this.options.classes.inactive,!0),this.constraints.next=!this.constraints.next),a&&a.isAfter(l)&&(this.element.find("."+this.options.targets.previousYearButton).toggleClass(this.options.classes.inactive,!0),this.constraints.previousYear=!this.constraints.previousYear),s&&s.isBefore(r)&&(this.element.find("."+this.options.targets.nextYearButton).toggleClass(this.options.classes.inactive,!0),this.constraints.nextYear=!this.constraints.nextYear),(a&&a.isAfter(t(),"month")||s&&s.isBefore(t(),"month"))&&(this.element.find("."+this.options.targets.today).toggleClass(this.options.classes.inactive,!0),this.constraints.today=!this.constraints.today)}this.options.doneRendering&&this.options.doneRendering.apply(this,[])},i.prototype.bindEvents=function(){var t=this,i=e(this.element),n=this.options.targets,o=t.options.classes,s=(!0===this.options.useTouchEvents?"touchstart":"click")+".clndr";i.off(s,"."+n.day).off(s,"."+n.empty).off(s,"."+n.nextButton).off(s,"."+n.todayButton).off(s,"."+n.previousButton).off(s,"."+n.nextYearButton).off(s,"."+n.previousYearButton),i.on(s,"."+n.day,function(i){var n,s=e(i.currentTarget);if(t.options.clickEvents.click&&(n=t.buildTargetObject(i.currentTarget,!0),t.options.clickEvents.click.apply(t,[n])),t.options.adjacentDaysChangeMonth&&(s.is("."+o.lastMonth)?t.backActionWithContext(t):s.is("."+o.nextMonth)&&t.forwardActionWithContext(t)),t.options.trackSelectedDate){if(t.options.ignoreInactiveDaysInSelection&&s.hasClass(o.inactive))return;t.options.selectedDate=t.getTargetDateString(i.currentTarget),s.siblings().removeClass(o.selected).end().addClass(o.selected)}}),i.on(s,"."+n.empty,function(i){var n,s=e(i.currentTarget);t.options.clickEvents.click&&(n=t.buildTargetObject(i.currentTarget,!1),t.options.clickEvents.click.apply(t,[n])),t.options.adjacentDaysChangeMonth&&(s.is("."+o.lastMonth)?t.backActionWithContext(t):s.is("."+o.nextMonth)&&t.forwardActionWithContext(t))}),data={context:this},i.on(s,"."+n.todayButton,data,this.todayAction).on(s,"."+n.nextButton,data,this.forwardAction).on(s,"."+n.previousButton,data,this.backAction).on(s,"."+n.nextYearButton,data,this.nextYearAction).on(s,"."+n.previousYearButton,data,this.previousYearAction)},i.prototype.buildTargetObject=function(i,n){var o,s,a={date:null,events:[],element:i};return n&&(o=this.getTargetDateString(i),a.date=o?t(o):null,this.options.events&&(s=this.options.multiDayEvents?function(){var e=a.date.isSame(this._clndrStartDateObject,"day"),t=a.date.isAfter(this._clndrStartDateObject,"day"),i=a.date.isSame(this._clndrEndDateObject,"day"),n=a.date.isBefore(this._clndrEndDateObject,"day");return(e||t)&&(i||n)}:function(){return this._clndrStartDateObject.format("YYYY-MM-DD")==o},a.events=e.makeArray(e(this.options.events).filter(s)))),a},i.prototype.getTargetDateString=function(e){var t=e.className.indexOf("calendar-day-");return-1!==t?e.className.substring(t+13,t+23):null},i.prototype.triggerEvents=function(e,i){var n,o,s,a,r,l,c,d,u,h=e.options.lengthOfTime,p=e.options.clickEvents,f={end:e.intervalEnd,start:e.intervalStart},m=[t(e.intervalStart),t(e.intervalEnd)],g=[t(e.month)];a=f.start.isAfter(i.start)&&(1==Math.abs(f.start.month()-i.start.month())||11===i.start.month()&&0===f.start.month()),r=f.start.isBefore(i.start)&&(1==Math.abs(i.start.month()-f.start.month())||0===i.start.month()&&11===f.start.month()),l=f.start.month()!==i.start.month()||f.start.year()!==i.start.year(),n=f.start.year()-i.start.year()==1||f.end.year()-i.end.year()==1,o=i.start.year()-f.start.year()==1||i.end.year()-f.end.year()==1,s=f.start.year()!==i.start.year(),h.days||h.months?(c=f.start.isAfter(i.start),d=f.start.isBefore(i.start),u=c||d,c&&p.nextInterval&&p.nextInterval.apply(e,m),d&&p.previousInterval&&p.previousInterval.apply(e,m),u&&p.onIntervalChange&&p.onIntervalChange.apply(e,m)):(a&&p.nextMonth&&p.nextMonth.apply(e,g),r&&p.previousMonth&&p.previousMonth.apply(e,g),l&&p.onMonthChange&&p.onMonthChange.apply(e,g),n&&p.nextYear&&p.nextYear.apply(e,g),o&&p.previousYear&&p.previousYear.apply(e,g),s&&p.onYearChange&&p.onYearChange.apply(e,g))},i.prototype.back=function(t){var i=arguments.length>1?arguments[1]:this,n=i.options.lengthOfTime,o={withCallbacks:!1},s={end:i.intervalEnd.clone(),start:i.intervalStart.clone()};return t=e.extend(!0,{},o,t),i.constraints.previous?(n.days?(i.intervalStart.subtract(n.interval,"days").startOf("day"),i.intervalEnd=i.intervalStart.clone().add(n.days-1,"days").endOf("day"),i.month=i.intervalStart.clone()):(i.intervalStart.subtract(n.interval,"months").startOf("month"),i.intervalEnd=i.intervalStart.clone().add(n.months||n.interval,"months").subtract(1,"days").endOf("month"),i.month=i.intervalStart.clone()),i.render(),t.withCallbacks&&i.triggerEvents(i,s),i):i},i.prototype.backAction=function(e){var t=e.data.context;t.backActionWithContext(t)},i.prototype.backActionWithContext=function(e){e.back({withCallbacks:!0},e)},i.prototype.previous=function(e){return this.back(e)},i.prototype.forward=function(t){var i=arguments.length>1?arguments[1]:this,n=i.options.lengthOfTime,o={withCallbacks:!1},s={end:i.intervalEnd.clone(),start:i.intervalStart.clone()};return t=e.extend(!0,{},o,t),i.constraints.next?(i.options.lengthOfTime.days?(i.intervalStart.add(n.interval,"days").startOf("day"),i.intervalEnd=i.intervalStart.clone().add(n.days-1,"days").endOf("day"),i.month=i.intervalStart.clone()):(i.intervalStart.add(n.interval,"months").startOf("month"),i.intervalEnd=i.intervalStart.clone().add(n.months||n.interval,"months").subtract(1,"days").endOf("month"),i.month=i.intervalStart.clone()),i.render(),t.withCallbacks&&i.triggerEvents(i,s),i):i},i.prototype.forwardAction=function(e){var t=e.data.context;t.forwardActionWithContext(t)},i.prototype.forwardActionWithContext=function(e){e.forward({withCallbacks:!0},e)},i.prototype.next=function(e){return this.forward(e)},i.prototype.previousYear=function(t){var i=arguments.length>1?arguments[1]:this,n={withCallbacks:!1},o={end:i.intervalEnd.clone(),start:i.intervalStart.clone()};return t=e.extend(!0,{},n,t),i.constraints.previousYear?(i.month.subtract(1,"year"),i.intervalStart.subtract(1,"year"),i.intervalEnd.subtract(1,"year"),i.render(),t.withCallbacks&&i.triggerEvents(i,o),i):i},i.prototype.previousYearAction=function(e){var t=e.data.context;t.previousYear({withCallbacks:!0},t)},i.prototype.nextYear=function(t){var i=arguments.length>1?arguments[1]:this,n={withCallbacks:!1},o={end:i.intervalEnd.clone(),start:i.intervalStart.clone()};return t=e.extend(!0,{},n,t),i.constraints.nextYear?(i.month.add(1,"year"),i.intervalStart.add(1,"year"),i.intervalEnd.add(1,"year"),i.render(),t.withCallbacks&&i.triggerEvents(i,o),i):i},i.prototype.nextYearAction=function(e){var t=e.data.context;t.nextYear({withCallbacks:!0},t)},i.prototype.today=function(i){var n=arguments.length>1?arguments[1]:this,o=n.options.lengthOfTime,s={withCallbacks:!1},a={end:n.intervalEnd.clone(),start:n.intervalStart.clone()};i=e.extend(!0,{},s,i),n.month=t().startOf("month"),o.days?(o.startDate?n.intervalStart=t().weekday(o.startDate.weekday()).startOf("day"):n.intervalStart=t().weekday(0).startOf("day"),n.intervalEnd=n.intervalStart.clone().add(o.days-1,"days").endOf("day")):(n.intervalStart=t().startOf("month"),n.intervalEnd=n.intervalStart.clone().add(o.months||o.interval,"months").subtract(1,"days").endOf("month")),n.intervalStart.isSame(a.start)&&n.intervalEnd.isSame(a.end)||n.render(),i.withCallbacks&&(n.options.clickEvents.today&&n.options.clickEvents.today.apply(n,[t(n.month)]),n.triggerEvents(n,a))},i.prototype.todayAction=function(e){var t=e.data.context;t.today({withCallbacks:!0},t)},i.prototype.setMonth=function(e,t){var i=this.options.lengthOfTime,n={end:this.intervalEnd.clone(),start:this.intervalStart.clone()};return i.days||i.months?(console.log("You are using a custom date interval. Use Clndr.setIntervalStart(startDate) instead."),this):(this.month.month(e),this.intervalStart=this.month.clone().startOf("month"),this.intervalEnd=this.intervalStart.clone().endOf("month"),this.render(),t&&t.withCallbacks&&this.triggerEvents(this,n),this)},i.prototype.setYear=function(e,t){var i={end:this.intervalEnd.clone(),start:this.intervalStart.clone()};return this.month.year(e),this.intervalEnd.year(e),this.intervalStart.year(e),this.render(),t&&t.withCallbacks&&this.triggerEvents(this,i),this},i.prototype.setIntervalStart=function(e,i){var n=this.options.lengthOfTime,o={end:this.intervalEnd.clone(),start:this.intervalStart.clone()};return n.days||n.months?(n.days?(this.intervalStart=t(e).startOf("day"),this.intervalEnd=this.intervalStart.clone().add(n-1,"days").endOf("day")):(this.intervalStart=t(e).startOf("month"),this.intervalEnd=this.intervalStart.clone().add(n.months||n.interval,"months").subtract(1,"days").endOf("month")),this.month=this.intervalStart.clone(),this.render(),i&&i.withCallbacks&&this.triggerEvents(this,o),this):(console.log("You are using a custom date interval. Use Clndr.setIntervalStart(startDate) instead."),this)},i.prototype.setEvents=function(e){return this.options.multiDayEvents?this.options.events=this.addMultiDayMomentObjectsToEvents(e):this.options.events=this.addMomentObjectToEvents(e),this.render(),this},i.prototype.addEvents=function(t){return this.options.multiDayEvents?this.options.events=e.merge(this.options.events,this.addMultiDayMomentObjectsToEvents(t)):this.options.events=e.merge(this.options.events,this.addMomentObjectToEvents(t)),this.render(),this},i.prototype.removeEvents=function(e){for(var t=this.options.events.length-1;t>=0;t--)1==e(this.options.events[t])&&this.options.events.splice(t,1);return this.render(),this},i.prototype.addMomentObjectToEvents=function(e){var i=0,n=this;for(i;i<e.length;i++)e[i]._clndrStartDateObject=t(e[i][n.options.dateParameter]),e[i]._clndrEndDateObject=t(e[i][n.options.dateParameter]);return e},i.prototype.addMultiDayMomentObjectsToEvents=function(e){var i=0,n=this.options.multiDayEvents;for(i;i<e.length;i++){var o=e[i][n.endDate],s=e[i][n.startDate];o||s?(e[i]._clndrEndDateObject=t(o||s),e[i]._clndrStartDateObject=t(s||o)):(e[i]._clndrEndDateObject=t(e[i][n.singleDay]),e[i]._clndrStartDateObject=t(e[i][n.singleDay]))}return e},i.prototype.calendarDay=function(t){var i={day:"",date:null,events:[],classes:this.options.targets.empty};return e.extend({},i,t)},i.prototype.destroy=function(){var t=e(this.calendarContainer);t.parent().data("plugin_clndr",null),this.options=o,t.empty().remove(),this.element=null},e.fn.clndr=function(e){var t;if(this.length>1)throw new Error("CLNDR does not support multiple elements yet. Make sure your clndr selector returns only one element.");if(!this.length)throw new Error("CLNDR cannot be instantiated on an empty selector.");return this.data("plugin_clndr")?this.data("plugin_clndr"):(t=new i(this,e),this.data("plugin_clndr",t),t)}}),function(e){if("function"==typeof define&&define.amd)define(e);else if("object"==typeof exports)module.exports=e();else{var t=window.Cookies,i=window.Cookies=e();i.noConflict=function(){return window.Cookies=t,i}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}function t(i){function n(t,o,s){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(s=e({path:"/"},n.defaults,s)).expires){var r=new Date;r.setMilliseconds(r.getMilliseconds()+864e5*s.expires),s.expires=r}try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(e){}return o=i.write?i.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",o,s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,d=0;d<l.length;d++){var u=l[d].split("="),h=u.slice(1).join("=");'"'===h.charAt(0)&&(h=h.slice(1,-1));try{var p=u[0].replace(c,decodeURIComponent);if(h=i.read?i.read(h,p):i(h,p)||h.replace(c,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===p){a=h;break}t||(a[p]=h)}catch(e){}}return a}}return n.set=n,n.get=function(e){return n(e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,i){n(t,"",e(i,{expires:-1}))},n.withConverter=t,n}return t(function(){})}),function(e){e.cookieCuttr=function(t){var i={cookieCutter:!1,cookieCutterDeclineOnly:!1,cookieAnalytics:!0,cookieDeclineButton:!1,cookieAcceptButton:!0,cookieResetButton:!1,cookieOverlayEnabled:!1,cookiePolicyLink:"/privacy-policy/",cookieMessage:'We use cookies on this website, you can <a href="{{cookiePolicyLink}}" title="read about our cookies">read about them here</a>. To use the website as intended please...',cookieAnalyticsMessage:"We use cookies, just to track visits to our website, we store no personal details.",cookieErrorMessage:"We're sorry, this feature places cookies in your browser and has been disabled. <br>To continue using this functionality, please",cookieWhatAreTheyLink:"http://www.allaboutcookies.org/",cookieDisable:"",cookieExpires:365,cookieAcceptButtonText:"ACCEPT COOKIES",cookieDeclineButtonText:"DECLINE COOKIES",cookieResetButtonText:"RESET COOKIES FOR THIS WEBSITE",cookieWhatAreLinkText:"What are cookies?",cookieNotificationLocationBottom:!1,cookiePolicyPage:!1,cookiePolicyPageMessage:"Please read the information below and then choose from the following options",cookieDiscreetLink:!1,cookieDiscreetReset:!1,cookieDiscreetLinkText:"Cookies?",cookieDiscreetPosition:"topleft",cookieNoMessage:!1,cookieDomain:""},t=e.extend(i,t),n=i.cookieMessage.replace("{{cookiePolicyLink}}",i.cookiePolicyLink);i.cookieMessage='We use cookies on this website, you can <a href="'+i.cookiePolicyLink+'" title="read about our cookies">read about them here</a>. To use the website as intended please...';var o=t.cookiePolicyLink,s=t.cookieCutter,a=t.cookieCutterDeclineOnly,r=t.cookieAnalytics,l=t.cookieDeclineButton,c=t.cookieAcceptButton,d=t.cookieResetButton,u=t.cookieOverlayEnabled,h=(t.cookiePolicyLink,n),p=t.cookieAnalyticsMessage,f=t.cookieErrorMessage,m=t.cookieDisable,g=t.cookieWhatAreTheyLink,v=t.cookieExpires,b=t.cookieAcceptButtonText,y=t.cookieDeclineButtonText,w=t.cookieResetButtonText,x=t.cookieWhatAreLinkText,k=t.cookieNotificationLocationBottom,C=t.cookiePolicyPage,S=t.cookiePolicyPageMessage,T=t.cookieDiscreetLink,D=t.cookieDiscreetReset,$=t.cookieDiscreetLinkText,_=t.cookieDiscreetPosition,M=t.cookieNoMessage,O="cc_cookie_accept"==e.cookie("cc_cookie_accept");e.cookieAccepted=function(){return O};var A="cc_cookie_decline"==e.cookie("cc_cookie_decline");if(e.cookieDeclined=function(){return A},c)P=' <a href="#accept" class="cc-cookie-accept">'+b+"</a> ";else var P="";if(l)I=' <a href="#decline" class="cc-cookie-decline">'+y+"</a> ";else var I="";if(u)j="cc-overlay";else var j="";if(k||"bottomright"==_||"bottomleft"==_)E=!0;else var E=!1;if(O||A)if(d&&D)E?e("body").append('<div class="cc-cookies cc-discreet"><a class="cc-cookie-reset" href="#" title="'+w+'">'+w+"</a></div>"):e("body").prepend('<div class="cc-cookies cc-discreet"><a class="cc-cookie-reset" href="#" title="'+w+'">'+w+"</a></div>"),"topleft"==_&&(e("div.cc-cookies").css("top","0"),e("div.cc-cookies").css("left","0")),"topright"==_&&(e("div.cc-cookies").css("top","0"),e("div.cc-cookies").css("right","0")),"bottomleft"==_&&(e("div.cc-cookies").css("bottom","0"),e("div.cc-cookies").css("left","0")),"bottomright"==_&&(e("div.cc-cookies").css("bottom","0"),e("div.cc-cookies").css("right","0"));else if(d)E?e("body").append('<div class="cc-cookies"><a href="#" class="cc-cookie-reset">'+w+"</a></div>"):e("body").prepend('<div class="cc-cookies"><a href="#" class="cc-cookie-reset">'+w+"</a></div>");else d="";else M&&!C||(T&&!C?(E?e("body").append('<div class="cc-cookies cc-discreet"><a href="'+o+'" title="'+$+'">'+$+"</a></div>"):e("body").prepend('<div class="cc-cookies cc-discreet"><a href="'+o+'" title="'+$+'">'+$+"</a></div>"),"topleft"==_&&(e("div.cc-cookies").css("top","0"),e("div.cc-cookies").css("left","0")),"topright"==_&&(e("div.cc-cookies").css("top","0"),e("div.cc-cookies").css("right","0")),"bottomleft"==_&&(e("div.cc-cookies").css("bottom","0"),e("div.cc-cookies").css("left","0")),"bottomright"==_&&(e("div.cc-cookies").css("bottom","0"),e("div.cc-cookies").css("right","0"))):r&&(E?e("body").append('<div class="cc-cookies '+j+'">'+p+P+I+'<a href="'+g+'" title="Visit All about cookies (External link)">'+x+"</a></div>"):e("body").prepend('<div class="cc-cookies '+j+'">'+p+P+I+'<a href="'+g+'" title="Visit All about cookies (External link)">'+x+"</a></div>"))),C?E?e("body").append('<div class="cc-cookies '+j+'">'+S+'  <a href="#accept" class="cc-cookie-accept">'+b+'</a>  <a href="#decline" class="cc-cookie-decline">'+y+"</a> </div>"):e("body").prepend('<div class="cc-cookies '+j+'">'+S+'  <a href="#accept" class="cc-cookie-accept">'+b+'</a>  <a href="#decline" class="cc-cookie-decline">'+y+"</a> </div>"):r||T||(E?e("body").append('<div class="cc-cookies '+j+'">'+h+P+I+"</div>"):e("body").prepend('<div class="cc-cookies '+j+'">'+h+P+I+"</div>"));!s||a||!A&&O||e(m).html('<div class="cc-cookies-error">'+f+' <a href="#accept" class="cc-cookie-accept">'+b+"</a> </div>"),s&&a&&A&&e(m).html('<div class="cc-cookies-error">'+f+' <a href="#accept" class="cc-cookie-accept">'+b+"</a> </div>"),k&&!T&&(e("div.cc-cookies").css("top","auto"),e("div.cc-cookies").css("bottom","0")),k&&T&&C&&(e("div.cc-cookies").css("top","auto"),e("div.cc-cookies").css("bottom","0")),e(".cc-cookie-accept, .cc-cookie-decline").click(function(i){i.preventDefault(),e(this).is("[href$=#decline]")?(e.cookie("cc_cookie_accept",null,{path:"/"}),e.cookie("cc_cookie_decline","cc_cookie_decline",{expires:v,path:"/"}),t.cookieDomain&&(e.cookie("__utma",null,{domain:"."+t.cookieDomain,path:"/"}),e.cookie("__utmb",null,{domain:"."+t.cookieDomain,path:"/"}),e.cookie("__utmc",null,{domain:"."+t.cookieDomain,path:"/"}),e.cookie("__utmz",null,{domain:"."+t.cookieDomain,path:"/"}))):(e.cookie("cc_cookie_decline",null,{path:"/"}),e.cookie("cc_cookie_accept","cc_cookie_accept",{expires:v,path:"/"})),e(".cc-cookies").fadeOut(function(){location.reload()})}),e("a.cc-cookie-reset").click(function(t){t.preventDefault(),e.cookie("cc_cookie_accept",null,{path:"/"}),e.cookie("cc_cookie_decline",null,{path:"/"}),e(".cc-cookies").fadeOut(function(){location.reload()})}),e(".cc-cookies-error a.cc-cookie-accept").click(function(t){t.preventDefault(),e.cookie("cc_cookie_accept","cc_cookie_accept",{expires:v,path:"/"}),e.cookie("cc_cookie_decline",null,{path:"/"}),location.reload()})}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){"use strict";function t(e){return"number"==typeof e&&!isNaN(e)}function i(e){return void 0===e}function n(e,i){var n=[];return t(i)&&n.push(i),n.slice.apply(e,n)}function o(e,t){var i=n(arguments,2);return function(){return e.apply(t,i.concat(n(arguments)))}}function s(e){var t=e.match(/^(https?:)\/\/([^\:\/\?#]+):?(\d*)/i);return t&&(t[1]!==w.protocol||t[2]!==w.hostname||t[3]!==w.port)}function a(e){var t="timestamp="+(new Date).getTime();return e+(-1===e.indexOf("?")?"?":"&")+t}function r(e){return e?' crossOrigin="'+e+'"':""}function l(e,t){var i;return e.naturalWidth&&!le?t(e.naturalWidth,e.naturalHeight):(i=document.createElement("img"),i.onload=function(){t(this.width,this.height)},void(i.src=e.src))}function c(e){var i=[],n=e.rotate,o=e.scaleX,s=e.scaleY;return t(n)&&0!==n&&i.push("rotate("+n+"deg)"),t(o)&&1!==o&&i.push("scaleX("+o+")"),t(s)&&1!==s&&i.push("scaleY("+s+")"),i.length?i.join(" "):"none"}function d(e,t){var i,n,o=he(e.degree)%180,s=(o>90?180-o:o)*Math.PI/180,a=pe(s),r=fe(s),l=e.width,c=e.height,d=e.aspectRatio;return t?(i=l/(r+a/d),n=i/d):(i=l*r+c*a,n=l*a+c*r),{width:i,height:n}}function u(i,n){var o,s,a,r=e("<canvas>")[0],l=r.getContext("2d"),c=0,u=0,h=n.naturalWidth,p=n.naturalHeight,f=n.rotate,m=n.scaleX,g=n.scaleY,v=t(m)&&t(g)&&(1!==m||1!==g),b=t(f)&&0!==f,y=b||v,w=h*he(m||1),x=p*he(g||1);return v&&(o=w/2,s=x/2),b&&(a=d({width:w,height:x,degree:f}),w=a.width,x=a.height,o=w/2,s=x/2),r.width=w,r.height=x,y&&(c=-h/2,u=-p/2,l.save(),l.translate(o,s)),b&&l.rotate(f*Math.PI/180),v&&l.scale(m,g),l.drawImage(i,ve(c),ve(u),ve(h),ve(p)),y&&l.restore(),r}function h(t){var i=t.length,n=0,o=0;return i&&(e.each(t,function(e,t){n+=t.pageX,o+=t.pageY}),n/=i,o/=i),{pageX:n,pageY:o}}function p(e,t,i){var n,o="";for(n=t,i+=t;n<i;n++)o+=be(e.getUint8(n));return o}function f(e){var t,i,n,o,s,a,r,l,c,d,u=new S(e),h=u.byteLength;if(255===u.getUint8(0)&&216===u.getUint8(1))for(c=2;c<h;){if(255===u.getUint8(c)&&225===u.getUint8(c+1)){r=c;break}c++}if(r&&(i=r+4,n=r+10,"Exif"===p(u,i,4)&&(a=u.getUint16(n),((s=18761===a)||19789===a)&&42===u.getUint16(n+2,s)&&(o=u.getUint32(n+4,s))>=8&&(l=n+o))),l)for(h=u.getUint16(l,s),d=0;d<h;d++)if(c=l+12*d+2,274===u.getUint16(c,s)){c+=8,t=u.getUint16(c,s),le&&u.setUint16(c,1,s);break}return t}function m(e){var t,i=e.replace(Q,""),n=atob(i),o=n.length,s=new k(o),a=new C(s);for(t=0;t<o;t++)a[t]=n.charCodeAt(t);return s}function g(e){var t,i=new C(e),n=i.length,o="";for(t=0;t<n;t++)o+=be(i[t]);return"data:image/jpeg;base64,"+T(o)}function v(t,i){this.$element=e(t),this.options=e.extend({},v.DEFAULTS,e.isPlainObject(i)&&i),this.isLoaded=!1,this.isBuilt=!1,this.isCompleted=!1,this.isRotated=!1,this.isCropped=!1,this.isDisabled=!1,this.isReplaced=!1,this.isLimited=!1,this.wheeling=!1,this.isImg=!1,this.originalUrl="",this.canvas=null,this.cropBox=null,this.init()}var b=e(window),y=e(document),w=window.location,x=window.navigator,k=window.ArrayBuffer,C=window.Uint8Array,S=window.DataView,T=window.btoa,D="cropper",$="cropper-modal",_="cropper-hide",M="cropper-hidden",O="cropper-move",A="cropper-crop",P="cropper-disabled",I="mousedown touchstart pointerdown MSPointerDown",j="mousemove touchmove pointermove MSPointerMove",E="mouseup touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",R="wheel mousewheel DOMMouseScroll",F="dblclick",q="load."+D,L="error."+D,z="resize."+D,Y="build."+D,N="built."+D,W="cropstart."+D,U="cropmove."+D,H="cropend."+D,B="crop."+D,V="zoom."+D,G=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,X=/^data:/,Q=/^data:([^;]+);base64,/,J=/^data:image\/jpeg.*;base64,/,Z="preview",K="action",ee="se",te="sw",ie="ne",ne="nw",oe="crop",se="move",ae="zoom",re=e.isFunction(e("<canvas>")[0].getContext),le=x&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(x.userAgent),ce=Number,de=Math.min,ue=Math.max,he=Math.abs,pe=Math.sin,fe=Math.cos,me=Math.sqrt,ge=Math.round,ve=Math.floor,be=String.fromCharCode;v.prototype={constructor:v,init:function(){var e,t=this.$element;if(t.is("img")){if(this.isImg=!0,this.originalUrl=e=t.attr("src"),!e)return;e=t.prop("src")}else t.is("canvas")&&re&&(e=t[0].toDataURL());this.load(e)},trigger:function(t,i){var n=e.Event(t,i);return this.$element.trigger(n),n},load:function(t){var i,n,o=this.options,r=this.$element;if(t&&(r.one(Y,o.build),!this.trigger(Y).isDefaultPrevented())){if(this.url=t,this.image={},!o.checkOrientation||!k)return this.clone();if(i=e.proxy(this.read,this),X.test(t))return J.test(t)?i(m(t)):this.clone();(n=new XMLHttpRequest).onerror=n.onabort=e.proxy(function(){this.clone()},this),n.onload=function(){i(this.response)},o.checkCrossOrigin&&s(t)&&r.prop("crossOrigin")&&(t=a(t)),n.open("get",t),n.responseType="arraybuffer",n.send()}},read:function(e){var t=this.options,i=f(e),n=this.image,o=0,s=1,a=1;if(i>1)switch(this.url=g(e),i){case 2:s=-1;break;case 3:o=-180;break;case 4:a=-1;break;case 5:o=90,a=-1;break;case 6:o=90;break;case 7:o=90,s=-1;break;case 8:o=-90}t.rotatable&&(n.rotate=o),t.scalable&&(n.scaleX=s,n.scaleY=a),this.clone()},clone:function(){var t,i,n=this.options,o=this.$element,l=this.url,c="";n.checkCrossOrigin&&s(l)&&((c=o.prop("crossOrigin"))?t=l:(c="anonymous",t=a(l))),this.crossOrigin=c,this.crossOriginUrl=t,this.$clone=i=e("<img"+r(c)+' src="'+(t||l)+'">'),this.isImg?o[0].complete?this.start():o.one(q,e.proxy(this.start,this)):i.one(q,e.proxy(this.start,this)).one(L,e.proxy(this.stop,this)).addClass(_).insertAfter(o)},start:function(){var t=this.$element,i=this.$clone;this.isImg||(i.off(L,this.stop),t=i),l(t[0],e.proxy(function(t,i){e.extend(this.image,{naturalWidth:t,naturalHeight:i,aspectRatio:t/i}),this.isLoaded=!0,this.build()},this))},stop:function(){this.$clone.remove(),this.$clone=null},build:function(){var t,i,n,o=this.options,s=this.$element,a=this.$clone;this.isLoaded&&(this.isBuilt&&this.unbuild(),this.$container=s.parent(),this.$cropper=t=e(v.TEMPLATE),this.$canvas=t.find(".cropper-canvas").append(a),this.$dragBox=t.find(".cropper-drag-box"),this.$cropBox=i=t.find(".cropper-crop-box"),this.$viewBox=t.find(".cropper-view-box"),this.$face=n=i.find(".cropper-face"),s.addClass(M).after(t),this.isImg||a.removeClass(_),this.initPreview(),this.bind(),o.aspectRatio=ue(0,o.aspectRatio)||NaN,o.viewMode=ue(0,de(3,ge(o.viewMode)))||0,o.autoCrop?(this.isCropped=!0,o.modal&&this.$dragBox.addClass($)):i.addClass(M),o.guides||i.find(".cropper-dashed").addClass(M),o.center||i.find(".cropper-center").addClass(M),o.cropBoxMovable&&n.addClass(O).data(K,"all"),o.highlight||n.addClass("cropper-invisible"),o.background&&t.addClass("cropper-bg"),o.cropBoxResizable||i.find(".cropper-line, .cropper-point").addClass(M),this.setDragMode(o.dragMode),this.render(),this.isBuilt=!0,this.setData(o.data),s.one(N,o.built),setTimeout(e.proxy(function(){this.trigger(N),this.trigger(B,this.getData()),this.isCompleted=!0},this),0))},unbuild:function(){this.isBuilt&&(this.isBuilt=!1,this.isCompleted=!1,this.initialImage=null,this.initialCanvas=null,this.initialCropBox=null,this.container=null,this.canvas=null,this.cropBox=null,this.unbind(),this.resetPreview(),this.$preview=null,this.$viewBox=null,this.$cropBox=null,this.$dragBox=null,this.$canvas=null,this.$container=null,this.$cropper.remove(),this.$cropper=null)},render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.isCropped&&this.renderCropBox()},initContainer:function(){var e=this.options,t=this.$element,i=this.$container,n=this.$cropper;n.addClass(M),t.removeClass(M),n.css(this.container={width:ue(i.width(),ce(e.minContainerWidth)||200),height:ue(i.height(),ce(e.minContainerHeight)||100)}),t.addClass(M),n.removeClass(M)},initCanvas:function(){var t,i=this.options.viewMode,n=this.container,o=n.width,s=n.height,a=this.image,r=a.naturalWidth,l=a.naturalHeight,c=90===he(a.rotate),d=c?l:r,u=c?r:l,h=d/u,p=o,f=s;s*h>o?3===i?p=s*h:f=o/h:3===i?f=o/h:p=s*h,(t={naturalWidth:d,naturalHeight:u,aspectRatio:h,width:p,height:f}).oldLeft=t.left=(o-p)/2,t.oldTop=t.top=(s-f)/2,this.canvas=t,this.isLimited=1===i||2===i,this.limitCanvas(!0,!0),this.initialImage=e.extend({},a),this.initialCanvas=e.extend({},t)},limitCanvas:function(e,t){var i,n,o,s,a=this.options,r=a.viewMode,l=this.container,c=l.width,d=l.height,u=this.canvas,h=u.aspectRatio,p=this.cropBox,f=this.isCropped&&p;e&&(i=ce(a.minCanvasWidth)||0,n=ce(a.minCanvasHeight)||0,r&&(r>1?(i=ue(i,c),n=ue(n,d),3===r&&(n*h>i?i=n*h:n=i/h)):i?i=ue(i,f?p.width:0):n?n=ue(n,f?p.height:0):f&&(i=p.width,(n=p.height)*h>i?i=n*h:n=i/h)),i&&n?n*h>i?n=i/h:i=n*h:i?n=i/h:n&&(i=n*h),u.minWidth=i,u.minHeight=n,u.maxWidth=1/0,u.maxHeight=1/0),t&&(r?(o=c-u.width,s=d-u.height,u.minLeft=de(0,o),u.minTop=de(0,s),u.maxLeft=ue(0,o),u.maxTop=ue(0,s),f&&this.isLimited&&(u.minLeft=de(p.left,p.left+p.width-u.width),u.minTop=de(p.top,p.top+p.height-u.height),u.maxLeft=p.left,u.maxTop=p.top,2===r&&(u.width>=c&&(u.minLeft=de(0,o),u.maxLeft=ue(0,o)),u.height>=d&&(u.minTop=de(0,s),u.maxTop=ue(0,s))))):(u.minLeft=-u.width,u.minTop=-u.height,u.maxLeft=c,u.maxTop=d))},renderCanvas:function(e){var t,i,n=this.canvas,o=this.image,s=o.rotate,a=o.naturalWidth,r=o.naturalHeight;this.isRotated&&(this.isRotated=!1,i=d({width:o.width,height:o.height,degree:s}),(t=i.width/i.height)!==n.aspectRatio&&(n.left-=(i.width-n.width)/2,n.top-=(i.height-n.height)/2,n.width=i.width,n.height=i.height,n.aspectRatio=t,n.naturalWidth=a,n.naturalHeight=r,s%180&&(i=d({width:a,height:r,degree:s}),n.naturalWidth=i.width,n.naturalHeight=i.height),this.limitCanvas(!0,!1))),(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=de(ue(n.width,n.minWidth),n.maxWidth),n.height=de(ue(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.oldLeft=n.left=de(ue(n.left,n.minLeft),n.maxLeft),n.oldTop=n.top=de(ue(n.top,n.minTop),n.maxTop),this.$canvas.css({width:n.width,height:n.height,left:n.left,top:n.top}),this.renderImage(),this.isCropped&&this.isLimited&&this.limitCropBox(!0,!0),e&&this.output()},renderImage:function(t){var i,n=this.canvas,o=this.image;o.rotate&&(i=d({width:n.width,height:n.height,degree:o.rotate,aspectRatio:o.aspectRatio},!0)),e.extend(o,i?{width:i.width,height:i.height,left:(n.width-i.width)/2,top:(n.height-i.height)/2}:{width:n.width,height:n.height,left:0,top:0}),this.$clone.css({width:o.width,height:o.height,marginLeft:o.left,marginTop:o.top,transform:c(o)}),t&&this.output()},initCropBox:function(){var t=this.options,i=this.canvas,n=t.aspectRatio,o=ce(t.autoCropArea)||.8,s={width:i.width,height:i.height};n&&(i.height*n>i.width?s.height=s.width/n:s.width=s.height*n),this.cropBox=s,this.limitCropBox(!0,!0),s.width=de(ue(s.width,s.minWidth),s.maxWidth),s.height=de(ue(s.height,s.minHeight),s.maxHeight),s.width=ue(s.minWidth,s.width*o),s.height=ue(s.minHeight,s.height*o),s.oldLeft=s.left=i.left+(i.width-s.width)/2,s.oldTop=s.top=i.top+(i.height-s.height)/2,this.initialCropBox=e.extend({},s)},limitCropBox:function(e,t){var i,n,o,s,a=this.options,r=a.aspectRatio,l=this.container,c=l.width,d=l.height,u=this.canvas,h=this.cropBox,p=this.isLimited;e&&(i=ce(a.minCropBoxWidth)||0,n=ce(a.minCropBoxHeight)||0,i=de(i,c),n=de(n,d),o=de(c,p?u.width:c),s=de(d,p?u.height:d),r&&(i&&n?n*r>i?n=i/r:i=n*r:i?n=i/r:n&&(i=n*r),s*r>o?s=o/r:o=s*r),h.minWidth=de(i,o),h.minHeight=de(n,s),h.maxWidth=o,h.maxHeight=s),t&&(p?(h.minLeft=ue(0,u.left),h.minTop=ue(0,u.top),h.maxLeft=de(c,u.left+u.width)-h.width,h.maxTop=de(d,u.top+u.height)-h.height):(h.minLeft=0,h.minTop=0,h.maxLeft=c-h.width,h.maxTop=d-h.height))},renderCropBox:function(){var e=this.options,t=this.container,i=t.width,n=t.height,o=this.cropBox;(o.width>o.maxWidth||o.width<o.minWidth)&&(o.left=o.oldLeft),(o.height>o.maxHeight||o.height<o.minHeight)&&(o.top=o.oldTop),o.width=de(ue(o.width,o.minWidth),o.maxWidth),o.height=de(ue(o.height,o.minHeight),o.maxHeight),this.limitCropBox(!1,!0),o.oldLeft=o.left=de(ue(o.left,o.minLeft),o.maxLeft),o.oldTop=o.top=de(ue(o.top,o.minTop),o.maxTop),e.movable&&e.cropBoxMovable&&this.$face.data(K,o.width===i&&o.height===n?se:"all"),this.$cropBox.css({width:o.width,height:o.height,left:o.left,top:o.top}),this.isCropped&&this.isLimited&&this.limitCanvas(!0,!0),this.isDisabled||this.output()},output:function(){this.preview(),this.isCompleted&&this.trigger(B,this.getData())},initPreview:function(){var t,i=r(this.crossOrigin),n=i?this.crossOriginUrl:this.url;this.$preview=e(this.options.preview),this.$clone2=t=e("<img"+i+' src="'+n+'">'),this.$viewBox.html(t),this.$preview.each(function(){var t=e(this);t.data(Z,{width:t.width(),height:t.height(),html:t.html()}),t.html("<img"+i+' src="'+n+'" style="display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;">')})},resetPreview:function(){this.$preview.each(function(){var t=e(this),i=t.data(Z);t.css({width:i.width,height:i.height}).html(i.html).removeData(Z)})},preview:function(){var t=this.image,i=this.canvas,n=this.cropBox,o=n.width,s=n.height,a=t.width,r=t.height,l=n.left-i.left-t.left,d=n.top-i.top-t.top;this.isCropped&&!this.isDisabled&&(this.$clone2.css({width:a,height:r,marginLeft:-l,marginTop:-d,transform:c(t)}),this.$preview.each(function(){var i=e(this),n=i.data(Z),u=n.width,h=n.height,p=u,f=h,m=1;o&&(m=u/o,f=s*m),s&&f>h&&(m=h/s,p=o*m,f=h),i.css({width:p,height:f}).find("img").css({width:a*m,height:r*m,marginLeft:-l*m,marginTop:-d*m,transform:c(t)})}))},bind:function(){var t=this.options,i=this.$element,n=this.$cropper;e.isFunction(t.cropstart)&&i.on(W,t.cropstart),e.isFunction(t.cropmove)&&i.on(U,t.cropmove),e.isFunction(t.cropend)&&i.on(H,t.cropend),e.isFunction(t.crop)&&i.on(B,t.crop),e.isFunction(t.zoom)&&i.on(V,t.zoom),n.on(I,e.proxy(this.cropStart,this)),t.zoomable&&t.zoomOnWheel&&n.on(R,e.proxy(this.wheel,this)),t.toggleDragModeOnDblclick&&n.on(F,e.proxy(this.dblclick,this)),y.on(j,this._cropMove=o(this.cropMove,this)).on(E,this._cropEnd=o(this.cropEnd,this)),t.responsive&&b.on(z,this._resize=o(this.resize,this))},unbind:function(){var t=this.options,i=this.$element,n=this.$cropper;e.isFunction(t.cropstart)&&i.off(W,t.cropstart),e.isFunction(t.cropmove)&&i.off(U,t.cropmove),e.isFunction(t.cropend)&&i.off(H,t.cropend),e.isFunction(t.crop)&&i.off(B,t.crop),e.isFunction(t.zoom)&&i.off(V,t.zoom),n.off(I,this.cropStart),t.zoomable&&t.zoomOnWheel&&n.off(R,this.wheel),t.toggleDragModeOnDblclick&&n.off(F,this.dblclick),y.off(j,this._cropMove).off(E,this._cropEnd),t.responsive&&b.off(z,this._resize)},resize:function(){var t,i,n,o=this.options.restore,s=this.$container,a=this.container;!this.isDisabled&&a&&(1==(n=s.width()/a.width)&&s.height()===a.height||(o&&(t=this.getCanvasData(),i=this.getCropBoxData()),this.render(),o&&(this.setCanvasData(e.each(t,function(e,i){t[e]=i*n})),this.setCropBoxData(e.each(i,function(e,t){i[e]=t*n})))))},dblclick:function(){this.isDisabled||(this.$dragBox.hasClass(A)?this.setDragMode(se):this.setDragMode(oe))},wheel:function(t){var i=t.originalEvent||t,n=ce(this.options.wheelZoomRatio)||.1,o=1;this.isDisabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(e.proxy(function(){this.wheeling=!1},this),50),i.deltaY?o=i.deltaY>0?1:-1:i.wheelDelta?o=-i.wheelDelta/120:i.detail&&(o=i.detail>0?1:-1),this.zoom(-o*n,t)))},cropStart:function(t){var i,n,o=this.options,s=t.originalEvent,a=s&&s.touches,r=t;if(!this.isDisabled){if(a){if((i=a.length)>1){if(!o.zoomable||!o.zoomOnTouch||2!==i)return;r=a[1],this.startX2=r.pageX,this.startY2=r.pageY,n=ae}r=a[0]}if(n=n||e(r.target).data(K),G.test(n)){if(this.trigger(W,{originalEvent:s,action:n}).isDefaultPrevented())return;t.preventDefault(),this.action=n,this.cropping=!1,this.startX=r.pageX||s&&s.pageX,this.startY=r.pageY||s&&s.pageY,n===oe&&(this.cropping=!0,this.$dragBox.addClass($))}}},cropMove:function(e){var t,i=this.options,n=e.originalEvent,o=n&&n.touches,s=e,a=this.action;if(!this.isDisabled){if(o){if((t=o.length)>1){if(!i.zoomable||!i.zoomOnTouch||2!==t)return;s=o[1],this.endX2=s.pageX,this.endY2=s.pageY}s=o[0]}if(a){if(this.trigger(U,{originalEvent:n,action:a}).isDefaultPrevented())return;e.preventDefault(),this.endX=s.pageX||n&&n.pageX,this.endY=s.pageY||n&&n.pageY,this.change(s.shiftKey,a===ae?e:null)}}},cropEnd:function(e){var t=e.originalEvent,i=this.action;this.isDisabled||i&&(e.preventDefault(),this.cropping&&(this.cropping=!1,this.$dragBox.toggleClass($,this.isCropped&&this.options.modal)),this.action="",this.trigger(H,{originalEvent:t,action:i}))},change:function(e,t){var i,n,o=this.options.aspectRatio,s=this.action,a=this.container,r=this.canvas,l=this.cropBox,c=l.width,d=l.height,u=l.left,h=l.top,p=u+c,f=h+d,m=0,g=0,v=a.width,b=a.height,y=!0;switch(!o&&e&&(o=c&&d?c/d:1),this.isLimited&&(m=l.minLeft,g=l.minTop,v=m+de(a.width,r.left+r.width),b=g+de(a.height,r.top+r.height)),n={x:this.endX-this.startX,y:this.endY-this.startY},o&&(n.X=n.y*o,n.Y=n.x/o),s){case"all":u+=n.x,h+=n.y;break;case"e":if(n.x>=0&&(p>=v||o&&(h<=g||f>=b))){y=!1;break}c+=n.x,o&&(d=c/o,h-=n.Y/2),c<0&&(s="w",c=0);break;case"n":if(n.y<=0&&(h<=g||o&&(u<=m||p>=v))){y=!1;break}d-=n.y,h+=n.y,o&&(c=d*o,u+=n.X/2),d<0&&(s="s",d=0);break;case"w":if(n.x<=0&&(u<=m||o&&(h<=g||f>=b))){y=!1;break}c-=n.x,u+=n.x,o&&(d=c/o,h+=n.Y/2),c<0&&(s="e",c=0);break;case"s":if(n.y>=0&&(f>=b||o&&(u<=m||p>=v))){y=!1;break}d+=n.y,o&&(c=d*o,u-=n.X/2),d<0&&(s="n",d=0);break;case ie:if(o){if(n.y<=0&&(h<=g||p>=v)){y=!1;break}d-=n.y,h+=n.y,c=d*o}else n.x>=0?p<v?c+=n.x:n.y<=0&&h<=g&&(y=!1):c+=n.x,n.y<=0?h>g&&(d-=n.y,h+=n.y):(d-=n.y,h+=n.y);c<0&&d<0?(s=te,d=0,c=0):c<0?(s=ne,c=0):d<0&&(s=ee,d=0);break;case ne:if(o){if(n.y<=0&&(h<=g||u<=m)){y=!1;break}d-=n.y,h+=n.y,c=d*o,u+=n.X}else n.x<=0?u>m?(c-=n.x,u+=n.x):n.y<=0&&h<=g&&(y=!1):(c-=n.x,u+=n.x),n.y<=0?h>g&&(d-=n.y,h+=n.y):(d-=n.y,h+=n.y);c<0&&d<0?(s=ee,d=0,c=0):c<0?(s=ie,c=0):d<0&&(s=te,d=0);break;case te:if(o){if(n.x<=0&&(u<=m||f>=b)){y=!1;break}c-=n.x,u+=n.x,d=c/o}else n.x<=0?u>m?(c-=n.x,u+=n.x):n.y>=0&&f>=b&&(y=!1):(c-=n.x,u+=n.x),n.y>=0?f<b&&(d+=n.y):d+=n.y;c<0&&d<0?(s=ie,d=0,c=0):c<0?(s=ee,c=0):d<0&&(s=ne,d=0);break;case ee:if(o){if(n.x>=0&&(p>=v||f>=b)){y=!1;break}d=(c+=n.x)/o}else n.x>=0?p<v?c+=n.x:n.y>=0&&f>=b&&(y=!1):c+=n.x,n.y>=0?f<b&&(d+=n.y):d+=n.y;c<0&&d<0?(s=ne,d=0,c=0):c<0?(s=te,c=0):d<0&&(s=ie,d=0);break;case se:this.move(n.x,n.y),y=!1;break;case ae:this.zoom(function(e,t,i,n){var o=me(e*e+t*t);return(me(i*i+n*n)-o)/o}(he(this.startX-this.startX2),he(this.startY-this.startY2),he(this.endX-this.endX2),he(this.endY-this.endY2)),t),this.startX2=this.endX2,this.startY2=this.endY2,y=!1;break;case oe:if(!n.x||!n.y){y=!1;break}i=this.$cropper.offset(),u=this.startX-i.left,h=this.startY-i.top,c=l.minWidth,d=l.minHeight,n.x>0?s=n.y>0?ee:ie:n.x<0&&(u-=c,s=n.y>0?te:ne),n.y<0&&(h-=d),this.isCropped||(this.$cropBox.removeClass(M),this.isCropped=!0,this.isLimited&&this.limitCropBox(!0,!0))}y&&(l.width=c,l.height=d,l.left=u,l.top=h,this.action=s,this.renderCropBox()),this.startX=this.endX,this.startY=this.endY},crop:function(){this.isBuilt&&!this.isDisabled&&(this.isCropped||(this.isCropped=!0,this.limitCropBox(!0,!0),this.options.modal&&this.$dragBox.addClass($),this.$cropBox.removeClass(M)),this.setCropBoxData(this.initialCropBox))},reset:function(){this.isBuilt&&!this.isDisabled&&(this.image=e.extend({},this.initialImage),this.canvas=e.extend({},this.initialCanvas),this.cropBox=e.extend({},this.initialCropBox),this.renderCanvas(),this.isCropped&&this.renderCropBox())},clear:function(){this.isCropped&&!this.isDisabled&&(e.extend(this.cropBox,{left:0,top:0,width:0,height:0}),this.isCropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),this.$dragBox.removeClass($),this.$cropBox.addClass(M))},replace:function(e,t){!this.isDisabled&&e&&(this.isImg&&this.$element.attr("src",e),t?(this.url=e,this.$clone.attr("src",e),this.isBuilt&&this.$preview.find("img").add(this.$clone2).attr("src",e)):(this.isImg&&(this.isReplaced=!0),this.options.data=null,this.load(e)))},enable:function(){this.isBuilt&&(this.isDisabled=!1,this.$cropper.removeClass(P))},disable:function(){this.isBuilt&&(this.isDisabled=!0,this.$cropper.addClass(P))},destroy:function(){var e=this.$element;this.isLoaded?(this.isImg&&this.isReplaced&&e.attr("src",this.originalUrl),this.unbuild(),e.removeClass(M)):this.isImg?e.off(q,this.start):this.$clone&&this.$clone.remove(),e.removeData(D)},move:function(e,t){var n=this.canvas;this.moveTo(i(e)?e:n.left+ce(e),i(t)?t:n.top+ce(t))},moveTo:function(e,n){var o=this.canvas,s=!1;i(n)&&(n=e),e=ce(e),n=ce(n),this.isBuilt&&!this.isDisabled&&this.options.movable&&(t(e)&&(o.left=e,s=!0),t(n)&&(o.top=n,s=!0),s&&this.renderCanvas(!0))},zoom:function(e,t){var i=this.canvas;e=(e=ce(e))<0?1/(1-e):1+e,this.zoomTo(i.width*e/i.naturalWidth,t)},zoomTo:function(e,t){var i,n,o,s,a,r=this.options,l=this.canvas,c=l.width,d=l.height,u=l.naturalWidth,p=l.naturalHeight;if((e=ce(e))>=0&&this.isBuilt&&!this.isDisabled&&r.zoomable){if(n=u*e,o=p*e,t&&(i=t.originalEvent),this.trigger(V,{originalEvent:i,oldRatio:c/u,ratio:n/u}).isDefaultPrevented())return;i?(s=this.$cropper.offset(),a=i.touches?h(i.touches):{pageX:t.pageX||i.pageX||0,pageY:t.pageY||i.pageY||0},l.left-=(n-c)*((a.pageX-s.left-l.left)/c),l.top-=(o-d)*((a.pageY-s.top-l.top)/d)):(l.left-=(n-c)/2,l.top-=(o-d)/2),l.width=n,l.height=o,this.renderCanvas(!0)}},rotate:function(e){this.rotateTo((this.image.rotate||0)+ce(e))},rotateTo:function(e){t(e=ce(e))&&this.isBuilt&&!this.isDisabled&&this.options.rotatable&&(this.image.rotate=e%360,this.isRotated=!0,this.renderCanvas(!0))},scale:function(e,n){var o=this.image,s=!1;i(n)&&(n=e),e=ce(e),n=ce(n),this.isBuilt&&!this.isDisabled&&this.options.scalable&&(t(e)&&(o.scaleX=e,s=!0),t(n)&&(o.scaleY=n,s=!0),s&&this.renderImage(!0))},scaleX:function(e){var i=this.image.scaleY;this.scale(e,t(i)?i:1)},scaleY:function(e){var i=this.image.scaleX;this.scale(t(i)?i:1,e)},getData:function(t){var i,n,o=this.options,s=this.image,a=this.canvas,r=this.cropBox;return this.isBuilt&&this.isCropped?(n={x:r.left-a.left,y:r.top-a.top,width:r.width,height:r.height},i=s.width/s.naturalWidth,e.each(n,function(e,o){o/=i,n[e]=t?ge(o):o})):n={x:0,y:0,width:0,height:0},o.rotatable&&(n.rotate=s.rotate||0),o.scalable&&(n.scaleX=s.scaleX||1,n.scaleY=s.scaleY||1),n},setData:function(i){var n,o,s,a=this.options,r=this.image,l=this.canvas,c={};e.isFunction(i)&&(i=i.call(this.element)),this.isBuilt&&!this.isDisabled&&e.isPlainObject(i)&&(a.rotatable&&t(i.rotate)&&i.rotate!==r.rotate&&(r.rotate=i.rotate,this.isRotated=n=!0),a.scalable&&(t(i.scaleX)&&i.scaleX!==r.scaleX&&(r.scaleX=i.scaleX,o=!0),t(i.scaleY)&&i.scaleY!==r.scaleY&&(r.scaleY=i.scaleY,o=!0)),n?this.renderCanvas():o&&this.renderImage(),s=r.width/r.naturalWidth,t(i.x)&&(c.left=i.x*s+l.left),t(i.y)&&(c.top=i.y*s+l.top),t(i.width)&&(c.width=i.width*s),t(i.height)&&(c.height=i.height*s),this.setCropBoxData(c))},getContainerData:function(){return this.isBuilt?this.container:{}},getImageData:function(){return this.isLoaded?this.image:{}},getCanvasData:function(){var t=this.canvas,i={};return this.isBuilt&&e.each(["left","top","width","height","naturalWidth","naturalHeight"],function(e,n){i[n]=t[n]}),i},setCanvasData:function(i){var n=this.canvas,o=n.aspectRatio;e.isFunction(i)&&(i=i.call(this.$element)),this.isBuilt&&!this.isDisabled&&e.isPlainObject(i)&&(t(i.left)&&(n.left=i.left),t(i.top)&&(n.top=i.top),t(i.width)?(n.width=i.width,n.height=i.width/o):t(i.height)&&(n.height=i.height,n.width=i.height*o),this.renderCanvas(!0))},getCropBoxData:function(){var e,t=this.cropBox;return this.isBuilt&&this.isCropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(i){var n,o,s=this.cropBox,a=this.options.aspectRatio;e.isFunction(i)&&(i=i.call(this.$element)),this.isBuilt&&this.isCropped&&!this.isDisabled&&e.isPlainObject(i)&&(t(i.left)&&(s.left=i.left),t(i.top)&&(s.top=i.top),t(i.width)&&(n=!0,s.width=i.width),t(i.height)&&(o=!0,s.height=i.height),a&&(n?s.height=s.width/a:o&&(s.width=s.height*a)),this.renderCropBox())},getCroppedCanvas:function(t){var i,n,o,s,a,r,l,c,d,h,p;if(this.isBuilt&&re)return this.isCropped?(e.isPlainObject(t)||(t={}),p=this.getData(),i=p.width,n=p.height,c=i/n,e.isPlainObject(t)&&(a=t.width,r=t.height,a?(r=a/c,l=a/i):r&&(a=r*c,l=r/n)),o=ve(a||i),s=ve(r||n),d=e("<canvas>")[0],d.width=o,d.height=s,h=d.getContext("2d"),t.fillColor&&(h.fillStyle=t.fillColor,h.fillRect(0,0,o,s)),h.drawImage.apply(h,function(){var e,t,o,s,a,r,c=u(this.$clone[0],this.image),d=c.width,h=c.height,f=this.canvas,m=[c],g=p.x+f.naturalWidth*(he(p.scaleX||1)-1)/2,v=p.y+f.naturalHeight*(he(p.scaleY||1)-1)/2;return g<=-i||g>d?g=e=o=a=0:g<=0?(o=-g,g=0,e=a=de(d,i+g)):g<=d&&(o=0,e=a=de(i,d-g)),e<=0||v<=-n||v>h?v=t=s=r=0:v<=0?(s=-v,v=0,t=r=de(h,n+v)):v<=h&&(s=0,t=r=de(n,h-v)),m.push(ve(g),ve(v),ve(e),ve(t)),l&&(o*=l,s*=l,a*=l,r*=l),a>0&&r>0&&m.push(ve(o),ve(s),ve(a),ve(r)),m}.call(this)),d):u(this.$clone[0],this.image)},setAspectRatio:function(e){var t=this.options;this.isDisabled||i(e)||(t.aspectRatio=ue(0,e)||NaN,this.isBuilt&&(this.initCropBox(),this.isCropped&&this.renderCropBox()))},setDragMode:function(e){var t,i,n=this.options;this.isLoaded&&!this.isDisabled&&(t=e===oe,i=n.movable&&e===se,e=t||i?e:"none",this.$dragBox.data(K,e).toggleClass(A,t).toggleClass(O,i),n.cropBoxMovable||this.$face.data(K,e).toggleClass(A,t).toggleClass(O,i))}},v.DEFAULTS={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,build:null,built:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},v.setDefaults=function(t){e.extend(v.DEFAULTS,t)},v.TEMPLATE='<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>',v.other=e.fn.cropper,e.fn.cropper=function(t){var o,s=n(arguments,1);return this.each(function(){var i,n,a=e(this),r=a.data(D);if(!r){if(/destroy/.test(t))return;i=e.extend({},a.data(),e.isPlainObject(t)&&t),a.data(D,r=new v(this,i))}"string"==typeof t&&e.isFunction(n=r[t])&&(o=n.apply(r,s))}),i(o)?this:o},e.fn.cropper.Constructor=v,e.fn.cropper.setDefaults=v.setDefaults,e.fn.cropper.noConflict=function(){return e.fn.cropper=v.other,this}}),function(e){"use strict";var t=function(t,i){this.options=e.extend({},e.fn.editableform.defaults,i),this.$div=e(t),this.options.scope||(this.options.scope=this)};t.prototype={constructor:t,initInput:function(){this.input=this.options.input,this.value=this.input.str2value(this.options.value),this.input.prerender()},initTemplate:function(){this.$form=e(e.fn.editableform.template)},initButtons:function(){var t=this.$form.find(".editable-buttons");t.append(e.fn.editableform.buttons),"bottom"===this.options.showbuttons&&t.addClass("editable-buttons-bottom")},render:function(){this.$loading=e(e.fn.editableform.loading),this.$div.empty().append(this.$loading),this.initTemplate(),this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove(),this.showLoading(),this.isSaving=!1,this.$div.triggerHandler("rendering"),this.initInput(),this.$form.find("div.editable-input").append(this.input.$tpl),this.$div.append(this.$form),e.when(this.input.render()).then(e.proxy(function(){if(this.options.showbuttons||this.input.autosubmit(),this.$form.find(".editable-cancel").click(e.proxy(this.cancel,this)),this.input.error)this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(e){e.preventDefault()});else{this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled");var t=null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:this.value;this.input.value2input(t),this.$form.submit(e.proxy(this.submit,this))}this.$div.triggerHandler("rendered"),this.showForm(),this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var e,t;this.$form?(e=this.$form.outerWidth(),t=this.$form.outerHeight(),e&&this.$loading.width(e),t&&this.$loading.height(t),this.$form.hide()):(e=this.$loading.parent().width())&&this.$loading.width(e),this.$loading.show()},showForm:function(e){this.$loading.hide(),this.$form.show(),!1!==e&&this.input.activate(),this.$div.triggerHandler("show")},error:function(t){var i,n=this.$form.find(".control-group"),o=this.$form.find(".editable-error-block");if(!1===t)n.removeClass(e.fn.editableform.errorGroupClass),o.removeClass(e.fn.editableform.errorBlockClass).empty().hide();else{if(t){i=(""+t).split("\n");for(var s=0;s<i.length;s++)i[s]=e("<div>").text(i[s]).html();t=i.join("<br>")}n.addClass(e.fn.editableform.errorGroupClass),o.addClass(e.fn.editableform.errorBlockClass).html(t).show()}},submit:function(t){t.stopPropagation(),t.preventDefault();var i=this.input.input2value(),n=this.validate(i);if("object"===e.type(n)&&void 0!==n.newValue){if(i=n.newValue,this.input.value2input(i),"string"==typeof n.msg)return this.error(n.msg),void this.showForm()}else if(n)return this.error(n),void this.showForm();if(this.options.savenochange||this.input.value2str(i)!=this.input.value2str(this.value)){var o=this.input.value2submit(i);this.isSaving=!0,e.when(this.save(o)).done(e.proxy(function(e){this.isSaving=!1;var t="function"==typeof this.options.success?this.options.success.call(this.options.scope,e,i):null;return!1===t?(this.error(!1),void this.showForm(!1)):"string"==typeof t?(this.error(t),void this.showForm()):(t&&"object"==typeof t&&t.hasOwnProperty("newValue")&&(i=t.newValue),this.error(!1),this.value=i,void this.$div.triggerHandler("save",{newValue:i,submitValue:o,response:e}))},this)).fail(e.proxy(function(e){this.isSaving=!1;var t;t="function"==typeof this.options.error?this.options.error.call(this.options.scope,e,i):"string"==typeof e?e:e.responseText||e.statusText||"Unknown error!",this.error(t),this.showForm()},this))}else this.$div.triggerHandler("nochange")},save:function(t){this.options.pk=e.fn.editableutils.tryParseJson(this.options.pk,!0);var i,n="function"==typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk;if(!!("function"==typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!==n&&void 0!==n)))return this.showLoading(),i={name:this.options.name||"",value:t,pk:n},"function"==typeof this.options.params?i=this.options.params.call(this.options.scope,i):(this.options.params=e.fn.editableutils.tryParseJson(this.options.params,!0),e.extend(i,this.options.params)),"function"==typeof this.options.url?this.options.url.call(this.options.scope,i):e.ajax(e.extend({url:this.options.url,data:i,type:"POST"},this.options.ajaxOptions))},validate:function(e){if(void 0===e&&(e=this.value),"function"==typeof this.options.validate)return this.options.validate.call(this.options.scope,e)},option:function(e,t){e in this.options&&(this.options[e]=t),"value"===e&&this.setValue(t)},setValue:function(e,t){this.value=t?this.input.str2value(e):e,this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}},e.fn.editableform=function(i){var n=arguments;return this.each(function(){var o=e(this),s=o.data("editableform"),a="object"==typeof i&&i;s||o.data("editableform",s=new t(this,a)),"string"==typeof i&&s[i].apply(s,Array.prototype.slice.call(n,1))})},e.fn.editableform.Constructor=t,e.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1},e.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>',e.fn.editableform.loading='<div class="editableform-loading"></div>',e.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>',e.fn.editableform.errorGroupClass=null,e.fn.editableform.errorBlockClass="editable-error",e.fn.editableform.engine="jquery"}(window.jQuery),function(e){"use strict";e.fn.editableutils={inherit:function(e,t){var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.superclass=t.prototype},setCursorPosition:function(e,t){if(e.setSelectionRange)e.setSelectionRange(t,t);else if(e.createTextRange){var i=e.createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}},tryParseJson:function(e,t){if("string"==typeof e&&e.length&&e.match(/^[\{\[].*[\}\]]$/))if(t)try{e=new Function("return "+e)()}catch(e){}finally{return e}else e=new Function("return "+e)();return e},sliceObj:function(t,i,n){var o,s,a={};if(!e.isArray(i)||!i.length)return a;for(var r=0;r<i.length;r++)o=i[r],t.hasOwnProperty(o)&&(a[o]=t[o]),!0!==n&&(s=o.toLowerCase(),t.hasOwnProperty(s)&&(a[o]=t[s]));return a},getConfigData:function(t){var i={};return e.each(t.data(),function(e,t){("object"!=typeof t||t&&"object"==typeof t&&(t.constructor===Object||t.constructor===Array))&&(i[e]=t)}),i},objectKeys:function(e){if(Object.keys)return Object.keys(e);if(e!==Object(e))throw new TypeError("Object.keys called on a non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i},escape:function(t){return e("<div>").text(t).html()},itemsByValue:function(t,i,n){if(!i||null===t)return[];if("function"!=typeof n){var o=n||"value";n=function(e){return e[o]}}var s=e.isArray(t),a=[],r=this;return e.each(i,function(i,o){if(o.children)a=a.concat(r.itemsByValue(t,o.children,n));else if(s)e.grep(t,function(e){return e==(o&&"object"==typeof o?n(o):o)}).length&&a.push(o);else{var l=o&&"object"==typeof o?n(o):o;t==l&&a.push(o)}}),a},createInput:function(t){var i,n,o=t.type;return"date"===o&&("inline"===t.mode?e.fn.editabletypes.datefield?o="datefield":e.fn.editabletypes.dateuifield&&(o="dateuifield"):e.fn.editabletypes.date?o="date":e.fn.editabletypes.dateui&&(o="dateui"),"date"!==o||e.fn.editabletypes.date||(o="combodate")),"datetime"===o&&"inline"===t.mode&&(o="datetimefield"),"wysihtml5"!==o||e.fn.editabletypes[o]||(o="textarea"),"function"==typeof e.fn.editabletypes[o]?(i=e.fn.editabletypes[o],n=this.sliceObj(t,this.objectKeys(i.defaults)),new i(n)):(e.error("Unknown type: "+o),!1)},supportsTransitions:function(){var e=(document.body||document.documentElement).style,t="transition",i=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof e[t])return!0;t=t.charAt(0).toUpperCase()+t.substr(1);for(var n=0;n<i.length;n++)if("string"==typeof e[i[n]+t])return!0;return!1}}}(window.jQuery),function(e){"use strict";var t=function(e,t){this.init(e,t)},i=function(e,t){this.init(e,t)};t.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(i,n){this.$element=e(i),this.options=e.extend({},e.fn.editableContainer.defaults,n),this.splitOptions(),this.formOptions.scope=this.$element[0],this.initContainer(),this.delayedHide=!1,this.$element.on("destroyed",e.proxy(function(){this.destroy()},this)),e(document).data("editable-handlers-attached")||(e(document).on("keyup.editable",function(t){27===t.which&&e(".editable-open").editableContainer("hide")}),e(document).on("click.editable",function(i){var n,o=e(i.target),s=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(e.contains(document.documentElement,i.target)&&!o.is(document)){for(n=0;n<s.length;n++)if(o.is(s[n])||o.parents(s[n]).length)return;t.prototype.closeOthers(i.target)}}),e(document).data("editable-handlers-attached",!0))},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!e.fn[this.containerName])throw new Error(this.containerName+" not found. Have you included corresponding js file?");for(var t in this.options)t in this.defaults?this.containerOptions[t]=this.options[t]:this.formOptions[t]=this.options[t]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var e;return this.containerDataName&&(e=this.$element.data(this.containerDataName))?e:e=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:e.proxy(this.save,this),nochange:e.proxy(function(){this.hide("nochange")},this),cancel:e.proxy(function(){this.hide("cancel")},this),show:e.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:e.proxy(this.setPosition,this),resize:e.proxy(this.setPosition,this),rendered:e.proxy(function(){this.$element.triggerHandler("shown",e(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(t){this.$element.addClass("editable-open"),!1!==t&&this.closeOthers(this.$element[0]),this.innerShow(),this.tip().addClass(this.containerClass),this.$form,this.$form=e("<div>"),this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form),this.renderForm()},hide:function(e){this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")&&(this.$form.data("editableform").isSaving?this.delayedHide={reason:e}:(this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",e||"manual")))},innerShow:function(){},innerHide:function(){},toggle:function(e){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(e)},setPosition:function(){},save:function(e,t){this.$element.triggerHandler("save",t),this.hide("save")},option:function(e,t){this.options[e]=t,e in this.containerOptions?(this.containerOptions[e]=t,this.setContainerOption(e,t)):(this.formOptions[e]=t,this.$form&&this.$form.editableform("option",e,t))},setContainerOption:function(e,t){this.call("option",e,t)},destroy:function(){this.hide(),this.innerDestroy(),this.$element.off("destroyed"),this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(t){e(".editable-open").each(function(i,n){if(n!==t&&!e(n).find(t).length){var o=e(n),s=o.data("editableContainer");s&&("cancel"===s.options.onblur?o.data("editableContainer").hide("onblur"):"submit"===s.options.onblur&&o.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}},e.fn.editableContainer=function(n){var o=arguments;return this.each(function(){var s=e(this),a=s.data("editableContainer"),r="object"==typeof n&&n,l="inline"===r.mode?i:t;a||s.data("editableContainer",a=new l(this,r)),"string"==typeof n&&a[n].apply(a,Array.prototype.slice.call(o,1))})},e.fn.editableContainer.Popup=t,e.fn.editableContainer.Inline=i,e.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"},jQuery.event.special.destroyed={remove:function(e){e.handler&&e.handler()}}}(window.jQuery),function(e){"use strict";e.extend(e.fn.editableContainer.Inline.prototype,e.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=e("<span></span>"),this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={},this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide(),this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,e.proxy(function(){this.$element.show(),this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})}(window.jQuery),function(e){"use strict";var t=function(t,i){this.$element=e(t),this.options=e.extend({},e.fn.editable.defaults,i,e.fn.editableutils.getConfigData(this.$element)),this.options.selector?this.initLive():this.init(),this.options.highlight&&!e.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};t.prototype={constructor:t,init:function(){var t,i=!1;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=e.fn.editableutils.createInput(this.options),this.input){switch(void 0===this.options.value||null===this.options.value?(this.value=this.input.html2value(e.trim(this.$element.html())),i=!0):(this.options.value=e.fn.editableutils.tryParseJson(this.options.value,!0),"string"==typeof this.options.value?this.value=this.input.str2value(this.options.value):this.value=this.options.value),this.$element.addClass("editable"),"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped"),"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+".editable",e.proxy(function(e){if(this.options.disabled||e.preventDefault(),"mouseenter"===this.options.toggle)this.show();else{var t="click"!==this.options.toggle;this.toggle(t)}},this))):this.$element.attr("tabindex",-1),"function"==typeof this.options.display&&(this.options.autotext="always"),this.options.autotext){case"always":t=!0;break;case"auto":t=!e.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!i;break;default:t=!1}e.when(!t||this.render()).then(e.proxy(function(){this.options.disabled?this.disable():this.enable(),this.$element.triggerHandler("init",this)},this))}},initLive:function(){var t=this.options.selector;this.options.selector=!1,this.options.autotext="never",this.$element.on(this.options.toggle+".editable",t,e.proxy(function(t){var i=e(t.target);i.data("editable")||(i.hasClass(this.options.emptyclass)&&i.empty(),i.editable(this.options).trigger(t))},this))},render:function(e){if(!1!==this.options.display)return this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,e):"function"==typeof this.options.display?this.options.display.call(this.$element[0],this.value,e):this.input.value2html(this.value,this.$element[0])},enable:function(){this.options.disabled=!1,this.$element.removeClass("editable-disabled"),this.handleEmpty(this.isEmpty),"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0,this.hide(),this.$element.addClass("editable-disabled"),this.handleEmpty(this.isEmpty),this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(t,i){if(t&&"object"==typeof t)e.each(t,e.proxy(function(t,i){this.option(e.trim(t),i)},this));else{if(this.options[t]=i,"disabled"===t)return i?this.disable():this.enable();"value"===t&&this.setValue(i),this.container&&this.container.option(t,i),this.input.option&&this.input.option(t,i)}},handleEmpty:function(t){!1!==this.options.display&&(void 0!==t?this.isEmpty=t:"function"==typeof this.input.isEmpty?this.isEmpty=this.input.isEmpty(this.$element):this.isEmpty=""===e.trim(this.$element.html()),this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(t){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible"))return}else{var i=e.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(i),this.$element.on("save.internal",e.proxy(this.save,this)),this.container=this.$element.data("editableContainer")}this.container.show(t)}},hide:function(){this.container&&this.container.hide()},toggle:function(e){this.container&&this.container.tip().is(":visible")?this.hide():this.show(e)},save:function(e,t){if(this.options.unsavedclass){var i=!1;(i=(i=(i=(i=i||"function"==typeof this.options.url)||!1===this.options.display)||void 0!==t.response)||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(t.newValue))?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var n=this.$element,o=n.css("background-color");n.css("background-color",this.options.highlight),setTimeout(function(){"transparent"===o&&(o=""),n.css("background-color",o),n.addClass("editable-bg-transition"),setTimeout(function(){n.removeClass("editable-bg-transition")},1700)},10)}this.setValue(t.newValue,!1,t.response)},validate:function(){if("function"==typeof this.options.validate)return this.options.validate.call(this,this.value)},setValue:function(t,i,n){this.value=i?this.input.str2value(t):t,this.container&&this.container.option("value",this.value),e.when(this.render(n)).then(e.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable(),this.container&&this.container.destroy(),this.input.destroy(),"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable")),this.$element.off("save.internal"),this.$element.removeClass("editable editable-open editable-disabled"),this.$element.removeData("editable")}},e.fn.editable=function(i){var n={},o=arguments;switch(i){case"validate":return this.each(function(){var t,i=e(this).data("editable");i&&(t=i.validate())&&(n[i.options.name]=t)}),n;case"getValue":return 2===arguments.length&&!0===arguments[1]?n=this.eq(0).data("editable").value:this.each(function(){var t=e(this).data("editable");t&&void 0!==t.value&&null!==t.value&&(n[t.options.name]=t.input.value2submit(t.value))}),n;case"submit":var s=arguments[1]||{},a=this,r=this.editable("validate");if(e.isEmptyObject(r)){var l={};if(1===a.length){var c=a.data("editable"),d={name:c.options.name||"",value:c.input.value2submit(c.value),pk:"function"==typeof c.options.pk?c.options.pk.call(c.options.scope):c.options.pk};"function"==typeof c.options.params?d=c.options.params.call(c.options.scope,d):(c.options.params=e.fn.editableutils.tryParseJson(c.options.params,!0),e.extend(d,c.options.params)),l={url:c.options.url,data:d,type:"POST"},s.success=s.success||c.options.success,s.error=s.error||c.options.error}else{var u=this.editable("getValue");l={url:s.url,data:u,type:"POST"}}l.success="function"==typeof s.success?function(e){s.success.call(a,e,s)}:e.noop,l.error="function"==typeof s.error?function(){s.error.apply(a,arguments)}:e.noop,s.ajaxOptions&&e.extend(l,s.ajaxOptions),s.data&&e.extend(l.data,s.data),e.ajax(l)}else"function"==typeof s.error&&s.error.call(a,r);return this}return this.each(function(){var n=e(this),s=n.data("editable"),a="object"==typeof i&&i;a&&a.selector?s=new t(this,a):(s||n.data("editable",s=new t(this,a)),"string"==typeof i&&s[i].apply(s,Array.prototype.slice.call(o,1)))})},e.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery),function(e){"use strict";e.fn.editabletypes={};var t=function(){};t.prototype={init:function(t,i,n){this.type=t,this.options=e.extend({},n,i)},prerender:function(){this.$tpl=e(this.options.tpl),this.$input=this.$tpl,this.$clear=null,this.error=null},render:function(){},value2html:function(t,i){e(i)[this.options.escape?"text":"html"](e.trim(t))},html2value:function(t){return e("<div>").html(t).text()},value2str:function(e){return e},str2value:function(e){return e},value2submit:function(e){return e},value2input:function(e){this.$input.val(e)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(t){return e("<div>").text(t).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(e){void 0!==this.options[e]&&null!==this.options[e]&&this.$input.attr(e,this.options[e])},option:function(e,t){this.options[e]=t}},t.defaults={tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0},e.extend(e.fn.editabletypes,{abstractinput:t})}(window.jQuery),function(e){"use strict";var t=function(e){};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){var t=e.Deferred();return this.error=null,this.onSourceReady(function(){this.renderList(),t.resolve()},function(){this.error=this.options.sourceError,t.resolve()}),t.promise()},html2value:function(e){return null},value2html:function(t,i,n,o){var s=e.Deferred(),a=function(){"function"==typeof n?n.call(i,t,this.sourceData,o):this.value2htmlFinal(t,i),s.resolve()};return null===t?a.call(this):this.onSourceReady(a,function(){s.resolve()}),s.promise()},onSourceReady:function(t,i){var n;if(e.isFunction(this.options.source)?(n=this.options.source.call(this.options.scope),this.sourceData=null):n=this.options.source,this.options.sourceCache&&e.isArray(this.sourceData))t.call(this);else{try{n=e.fn.editableutils.tryParseJson(n,!1)}catch(e){return void i.call(this)}if("string"==typeof n){if(this.options.sourceCache){var o,s=n;if(e(document).data(s)||e(document).data(s,{}),!1===(o=e(document).data(s)).loading&&o.sourceData)return this.sourceData=o.sourceData,this.doPrepend(),void t.call(this);if(!0===o.loading)return o.callbacks.push(e.proxy(function(){this.sourceData=o.sourceData,this.doPrepend(),t.call(this)},this)),void o.err_callbacks.push(e.proxy(i,this));o.loading=!0,o.callbacks=[],o.err_callbacks=[]}var a=e.extend({url:n,type:"get",cache:!1,dataType:"json",success:e.proxy(function(n){o&&(o.loading=!1),this.sourceData=this.makeArray(n),e.isArray(this.sourceData)?(o&&(o.sourceData=this.sourceData,e.each(o.callbacks,function(){this.call()})),this.doPrepend(),t.call(this)):(i.call(this),o&&e.each(o.err_callbacks,function(){this.call()}))},this),error:e.proxy(function(){i.call(this),o&&(o.loading=!1,e.each(o.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);e.ajax(a)}else this.sourceData=this.makeArray(n),e.isArray(this.sourceData)?(this.doPrepend(),t.call(this)):i.call(this)}},doPrepend:function(){null!==this.options.prepend&&void 0!==this.options.prepend&&(e.isArray(this.prependData)||(e.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=e.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"==typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),e.isArray(this.prependData)&&e.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(e,t){},makeArray:function(t){var i,n,o,s,a=[];if(!t||"string"==typeof t)return null;if(e.isArray(t)){s=function(e,t){if(n={value:e,text:t},i++>=2)return!1};for(var r=0;r<t.length;r++)"object"==typeof(o=t[r])?(i=0,e.each(o,s),1===i?a.push(n):i>1&&(o.children&&(o.children=this.makeArray(o.children)),a.push(o))):a.push({value:o,text:o})}else e.each(t,function(e,t){a.push({value:e,text:t})});return a},option:function(e,t){this.options[e]=t,"source"===e&&(this.sourceData=null),"prepend"===e&&(this.prependData=null)}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null}),e.fn.editabletypes.list=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("text",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){this.renderClear(),this.setClass(),this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),e.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=e('<span class="editable-clear-x"></span>'),this.$input.after(this.$clear).css("padding-right",24).keyup(e.proxy(function(t){if(!~e.inArray(t.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var i=this;this.t=setTimeout(function(){i.toggleClear(t)},100)}},this)).parent().css("position","relative"),this.$clear.click(e.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(e){if(this.$clear){var t=this.$input.val().length,i=this.$clear.is(":visible");t&&!i&&this.$clear.show(),!t&&i&&this.$clear.hide()}},clear:function(){this.$clear.hide(),this.$input.val("").focus()}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0}),e.fn.editabletypes.text=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("textarea",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){this.setClass(),this.setAttr("placeholder"),this.setAttr("rows"),this.$input.keydown(function(t){t.ctrlKey&&13===t.which&&e(this).closest("form").submit()})},activate:function(){e.fn.editabletypes.text.prototype.activate.call(this)}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7}),e.fn.editabletypes.textarea=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("select",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.list),e.extend(t.prototype,{renderList:function(){this.$input.empty();var t=function(i,n){var o;if(e.isArray(n))for(var s=0;s<n.length;s++)o={},n[s].children?(o.label=n[s].text,i.append(t(e("<optgroup>",o),n[s].children))):(o.value=n[s].value,n[s].disabled&&(o.disabled=!0),i.append(e("<option>",o).text(n[s].text)));return i};t(this.$input,this.sourceData),this.setClass(),this.$input.on("keydown.editable",function(t){13===t.which&&e(this).closest("form").submit()})},value2htmlFinal:function(t,i){var n="",o=e.fn.editableutils.itemsByValue(t,this.sourceData);o.length&&(n=o[0].text),e.fn.editabletypes.abstractinput.prototype.value2html.call(this,n,i)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){e(this).closest("form").submit()})}}),t.defaults=e.extend({},e.fn.editabletypes.list.defaults,{tpl:"<select></select>"}),e.fn.editabletypes.select=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("checklist",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.list),e.extend(t.prototype,{renderList:function(){var t;if(this.$tpl.empty(),e.isArray(this.sourceData)){for(var i=0;i<this.sourceData.length;i++)t=e("<label>").append(e("<input>",{type:"checkbox",value:this.sourceData[i].value})).append(e("<span>").text(" "+this.sourceData[i].text)),e("<div>").append(t).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]'),this.setClass()}},value2str:function(t){return e.isArray(t)?t.sort().join(e.trim(this.options.separator)):""},str2value:function(t){var i,n=null;return"string"==typeof t&&t.length?(i=new RegExp("\\s*"+e.trim(this.options.separator)+"\\s*"),n=t.split(i)):n=e.isArray(t)?t:[t],n},value2input:function(t){this.$input.prop("checked",!1),e.isArray(t)&&t.length&&this.$input.each(function(i,n){var o=e(n);e.each(t,function(e,t){o.val()==t&&o.prop("checked",!0)})})},input2value:function(){var t=[];return this.$input.filter(":checked").each(function(i,n){t.push(e(n).val())}),t},value2htmlFinal:function(t,i){var n=[],o=e.fn.editableutils.itemsByValue(t,this.sourceData),s=this.options.escape;o.length?(e.each(o,function(t,i){var o=s?e.fn.editableutils.escape(i.text):i.text;n.push(o)}),e(i).html(n.join("<br>"))):e(i).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(t){13===t.which&&e(this).closest("form").submit()})}}),t.defaults=e.extend({},e.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","}),e.fn.editabletypes.checklist=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("password",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text),e.extend(t.prototype,{value2html:function(t,i){t?e(i).text("[hidden]"):e(i).empty()},html2value:function(e){return null}}),t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="password">'}),e.fn.editabletypes.password=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("email",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text),t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="email">'}),e.fn.editabletypes.email=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("url",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text),t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="url">'}),e.fn.editabletypes.url=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("tel",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text),t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'}),e.fn.editabletypes.tel=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("number",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.text),e.extend(t.prototype,{render:function(){t.superclass.render.call(this),this.setAttr("min"),this.setAttr("max"),this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}}),t.defaults=e.extend({},e.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null}),e.fn.editabletypes.number=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("range",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.number),e.extend(t.prototype,{render:function(){this.$input=this.$tpl.filter("input"),this.setClass(),this.setAttr("min"),this.setAttr("max"),this.setAttr("step"),this.$input.on("input",function(){e(this).siblings("output").text(e(this).val())})},activate:function(){this.$input.focus()}}),t.defaults=e.extend({},e.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"}),e.fn.editabletypes.range=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("time",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){this.setClass()}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'}),e.fn.editabletypes.time=t}(window.jQuery),function(e){"use strict";var t=function(i){if(this.init("select2",i,t.defaults),i.select2=i.select2||{},this.sourceData=null,i.placeholder&&(i.select2.placeholder=i.placeholder),!i.select2.tags&&i.source){var n=i.source;e.isFunction(i.source)&&(n=i.source.call(i.scope)),"string"==typeof n?(i.select2.ajax=i.select2.ajax||{},i.select2.ajax.data||(i.select2.ajax.data=function(e){return{query:e}}),i.select2.ajax.results||(i.select2.ajax.results=function(e){return{results:e}}),i.select2.ajax.url=n):(this.sourceData=this.convertSource(n),i.select2.data=this.sourceData)}if(this.options.select2=e.extend({},t.defaults.select2,i.select2),this.isMultiple=this.options.select2.tags||this.options.select2.multiple,this.isRemote="ajax"in this.options.select2,this.idFunc=this.options.select2.id,"function"!=typeof this.idFunc){var o=this.idFunc||"id";this.idFunc=function(e){return e[o]}}this.formatSelection=this.options.select2.formatSelection,"function"!=typeof this.formatSelection&&(this.formatSelection=function(e){return e.text})};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){this.setClass(),this.isRemote&&this.$input.on("select2-loaded",e.proxy(function(e){this.sourceData=e.items.results},this)),this.isMultiple&&this.$input.on("change",function(){e(this).closest("form").parent().triggerHandler("resize")})},value2html:function(i,n){var o,s="",a=this;this.options.select2.tags?o=i:this.sourceData&&(o=e.fn.editableutils.itemsByValue(i,this.sourceData,this.idFunc)),e.isArray(o)?(s=[],e.each(o,function(e,t){s.push(t&&"object"==typeof t?a.formatSelection(t):t)})):o&&(s=a.formatSelection(o)),s=e.isArray(s)?s.join(this.options.viewseparator):s,t.superclass.value2html.call(this,s,n)},html2value:function(e){return this.options.select2.tags?this.str2value(e,this.options.viewseparator):null},value2input:function(t){if(e.isArray(t)&&(t=t.join(this.getSeparator())),this.$input.data("select2")?this.$input.val(t).trigger("change",!0):(this.$input.val(t),this.$input.select2(this.options.select2)),this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var i=this.options.select2.id,n=this.options.select2.formatSelection;if(!i&&!n){var o=e(this.options.scope);if(!o.data("editable").isEmpty){var s={id:t,text:o.text()};this.$input.select2("data",s)}}}},input2value:function(){return this.$input.select2("val")},str2value:function(t,i){if("string"!=typeof t||!this.isMultiple)return t;i=i||this.getSeparator();var n,o,s;if(null===t||t.length<1)return null;for(o=0,s=(n=t.split(i)).length;o<s;o+=1)n[o]=e.trim(n[o]);return n},autosubmit:function(){this.$input.on("change",function(t,i){i||e(this).closest("form").submit()})},getSeparator:function(){return this.options.select2.separator||e.fn.select2.defaults.separator},convertSource:function(t){if(e.isArray(t)&&t.length&&void 0!==t[0].value)for(var i=0;i<t.length;i++)void 0!==t[i].value&&(t[i].id=t[i].value,delete t[i].value);return t},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "}),e.fn.editabletypes.select2=t}(window.jQuery),function(e){var t=function(t,i){this.$element=e(t),this.$element.is("input")?(this.options=e.extend({},e.fn.combodate.defaults,i,this.$element.data()),this.init()):e.error("Combodate should be applied to INPUT element")};t.prototype={constructor:t,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=e('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.$widget.on("change","select",e.proxy(function(t){this.$element.val(this.getValue()).change(),this.options.smartDays&&(e(t.target).is(".month")||e(t.target).is(".year"))&&this.fillCombo("day")},this)),this.$widget.find("select").css("width","auto"),this.$element.hide().after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var t=this.options.template;return e.each(this.map,function(e,i){i=i[0];var n=new RegExp(i+"+"),o=i.length>1?i.substring(1,2):i;t=t.replace(n,"{"+o+"}")}),t=t.replace(/ /g,"&nbsp;"),e.each(this.map,function(e,i){var n=(i=i[0]).length>1?i.substring(1,2):i;t=t.replace("{"+n+"}",'<select class="'+e+'"></select>')}),t},initCombos:function(){for(var e in this.map){var t=this.$widget.find("."+e);this["$"+e]=t.length?t:null,this.fillCombo(e)}},fillCombo:function(e){var t=this["$"+e];if(t){var i=this["fill"+e.charAt(0).toUpperCase()+e.slice(1)](),n=t.val();t.empty();for(var o=0;o<i.length;o++)t.append('<option value="'+i[o][0]+'">'+i[o][1]+"</option>");t.val(n)}},fillCommon:function(e){var t,i=[];if("name"===this.options.firstItem){var n="function"==typeof(t=moment.relativeTime||moment.langData()._relativeTime)[e]?t[e](1,!0,e,!1):t[e];n=n.split(" ").reverse()[0],i.push(["",n])}else"empty"===this.options.firstItem&&i.push(["",""]);return i},fillDay:function(){var e,t,i=this.fillCommon("d"),n=-1!==this.options.template.indexOf("DD"),o=31;if(this.options.smartDays&&this.$month&&this.$year){var s=parseInt(this.$month.val(),10),a=parseInt(this.$year.val(),10);isNaN(s)||isNaN(a)||(o=moment([a,s]).daysInMonth())}for(t=1;t<=o;t++)e=n?this.leadZero(t):t,i.push([t,e]);return i},fillMonth:function(){var e,t,i=this.fillCommon("M"),n=-1!==this.options.template.indexOf("MMMM"),o=-1!==this.options.template.indexOf("MMM"),s=-1!==this.options.template.indexOf("MM");for(t=0;t<=11;t++)e=n?moment().date(1).month(t).format("MMMM"):o?moment().date(1).month(t).format("MMM"):s?this.leadZero(t+1):t+1,i.push([t,e]);return i},fillYear:function(){var e,t,i=[],n=-1!==this.options.template.indexOf("YYYY");for(t=this.options.maxYear;t>=this.options.minYear;t--)e=n?t:(t+"").substring(2),i[this.options.yearDescending?"push":"unshift"]([t,e]);return i=this.fillCommon("y").concat(i)},fillHour:function(){var e,t,i=this.fillCommon("h"),n=-1!==this.options.template.indexOf("h"),o=(this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),s=n?1:0,a=n?12:23;for(t=s;t<=a;t++)e=o?this.leadZero(t):t,i.push([t,e]);return i},fillMinute:function(){var e,t,i=this.fillCommon("m"),n=-1!==this.options.template.indexOf("mm");for(t=0;t<=59;t+=this.options.minuteStep)e=n?this.leadZero(t):t,i.push([t,e]);return i},fillSecond:function(){var e,t,i=this.fillCommon("s"),n=-1!==this.options.template.indexOf("ss");for(t=0;t<=59;t+=this.options.secondStep)e=n?this.leadZero(t):t,i.push([t,e]);return i},fillAmpm:function(){var e=-1!==this.options.template.indexOf("a");this.options.template.indexOf("A");return[["am",e?"am":"AM"],["pm",e?"pm":"PM"]]},getValue:function(t){var i,n={},o=this,s=!1;return e.each(this.map,function(e,t){if("ampm"!==e){var i="day"===e?1:0;return n[e]=o["$"+e]?parseInt(o["$"+e].val(),10):i,isNaN(n[e])?(s=!0,!1):void 0}}),s?"":(this.$ampm&&(12===n.hour?n.hour="am"===this.$ampm.val()?0:12:n.hour="am"===this.$ampm.val()?n.hour:n.hour+12),i=moment([n.year,n.month,n.day,n.hour,n.minute,n.second]),this.highlight(i),null===(t=void 0===t?this.options.format:t)?i.isValid()?i:null:i.isValid()?i.format(t):"")},setValue:function(t){function i(t,i){var n={};return t.children("option").each(function(t,o){var s,a=e(o).attr("value");""!==a&&(s=Math.abs(a-i),(void 0===n.distance||s<n.distance)&&(n={value:a,distance:s}))}),n.value}if(t){var n="string"==typeof t?moment(t,this.options.format):moment(t),o=this,s={};n.isValid()&&(e.each(this.map,function(e,t){"ampm"!==e&&(s[e]=n[t[1]]())}),this.$ampm&&(s.hour>=12?(s.ampm="pm",s.hour>12&&(s.hour-=12)):(s.ampm="am",0===s.hour&&(s.hour=12))),e.each(s,function(e,t){o["$"+e]&&("minute"===e&&o.options.minuteStep>1&&o.options.roundTime&&(t=i(o["$"+e],t)),"second"===e&&o.options.secondStep>1&&o.options.roundTime&&(t=i(o["$"+e],t)),o["$"+e].val(t))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(n.format(this.options.format)).change())}},highlight:function(e){e.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(e){return e<=9?"0"+e:e},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},e.fn.combodate=function(i){var n,o=Array.apply(null,arguments);return o.shift(),"getValue"===i&&this.length&&(n=this.eq(0).data("combodate"))?n.getValue.apply(n,o):this.each(function(){var n=e(this),s=n.data("combodate"),a="object"==typeof i&&i;s||n.data("combodate",s=new t(this,a)),"string"==typeof i&&"function"==typeof s[i]&&s[i].apply(s,o)})},e.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0,smartDays:!1}}(window.jQuery),function(e){"use strict";var t=function(i){this.init("combodate",i,t.defaults),this.options.viewformat||(this.options.viewformat=this.options.format),i.combodate=e.fn.editableutils.tryParseJson(i.combodate,!0),this.options.combodate=e.extend({},t.defaults.combodate,i.combodate,{format:this.options.format,template:this.options.template})};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){this.$input.combodate(this.options.combodate),"bs3"===e.fn.editableform.engine&&this.$input.siblings().find("select").addClass("form-control"),this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(e,i){var n=e?e.format(this.options.viewformat):"";t.superclass.value2html.call(this,n,i)},html2value:function(e){return e?moment(e,this.options.viewformat):null},value2str:function(e){return e?e.format(this.options.format):""},str2value:function(e){return e?moment(e,this.options.format):null},value2submit:function(e){return this.value2str(e)},value2input:function(e){this.$input.combodate("setValue",e)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null}),e.fn.editabletypes.combodate=t}(window.jQuery),function(e){"use strict";var t=e.fn.editableform.Constructor.prototype.initInput;e.extend(e.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=e(e.fn.editableform.template),this.$form.find(".control-group").addClass("form-group"),this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){t.apply(this);var i=null===this.input.options.inputclass||!1===this.input.options.inputclass,n="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");~e.inArray(this.input.type,n)&&(this.input.$input.addClass("form-control"),i&&(this.input.options.inputclass="input-sm",this.input.$input.addClass("input-sm")));for(var o=this.$form.find(".editable-buttons"),s=i?["input-sm"]:this.input.options.inputclass.split(" "),a=0;a<s.length;a++)"input-lg"===s[a].toLowerCase()&&o.find("button").removeClass("btn-sm").addClass("btn-lg")}}),e.fn.editableform.buttons='<button type="submit" class="ui green icon button editable-submit"><i class="check mark icon"></i></button><button type="button" class="ui icon button editable-cancel"><i class="cross icon"></i></button>',e.fn.editableform.errorGroupClass="has-error",e.fn.editableform.errorBlockClass=null,e.fn.editableform.engine="bs3"}(window.jQuery),function(e){"use strict";e.extend(e.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:e.fn.popover.Constructor.DEFAULTS,initContainer:function(){e.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template});var t;this.$element.data("template")&&(t=this.$element.data("template"),this.$element.removeData("template")),this.call(this.containerOptions),t&&this.$element.data("template",t)},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(e,t){this.container().options[e]=t},setPosition:function(){(function(){var e=this.tip(),t="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,n=i.test(t);n&&(t=t.replace(i,"")||"top");var o=this.getPosition(),s=e[0].offsetWidth,a=e[0].offsetHeight;if(n){var r=this.$element.parent(),l=t,c=document.documentElement.scrollTop||document.body.scrollTop,d="body"==this.options.container?window.innerWidth:r.outerWidth(),u="body"==this.options.container?window.innerHeight:r.outerHeight(),h="body"==this.options.container?0:r.offset().left;t="bottom"==t&&o.top+o.height+a-c>u?"top":"top"==t&&o.top-c-a<0?"bottom":"right"==t&&o.right+s>d?"left":"left"==t&&o.left-s<h?"right":t,e.removeClass(l).addClass(t)}var p=this.getCalculatedOffset(t,o,s,a);this.applyPlacement(p,t)}).call(this.container())}})}(window.jQuery),function(e){function t(){return new Date(Date.UTC.apply(Date,arguments))}function i(t,i){var n=e(t).data(),o={},s=new RegExp("^"+i.toLowerCase()+"([A-Z])"),i=new RegExp("^"+i.toLowerCase());for(var a in n)i.test(a)&&(o[a.replace(s,function(e,t){return t.toLowerCase()})]=n[a]);return o}function n(t){var i={};if(d[t]||(t=t.split("-")[0],d[t])){var n=d[t];return e.each(c,function(e,t){t in n&&(i[t]=n[t])}),i}}var o=function(t,i){this._process_options(i),this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(u.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this.o.startDate),this.setEndDate(this.o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};o.prototype={constructor:o,_process_options:function(t){this._o=e.extend({},this._o,t);var i=this.o=e.extend({},this._o),n=i.language;switch(d[n]||(n=n.split("-")[0],d[n]||(n=l.language)),i.language=n,i.startView){case 2:case"decade":i.startView=2;break;case 1:case"year":i.startView=1;break;default:i.startView=0}switch(i.minViewMode){case 1:case"months":i.minViewMode=1;break;case 2:case"years":i.minViewMode=2;break;default:i.minViewMode=0}i.startView=Math.max(i.startView,i.minViewMode),i.weekStart%=7,i.weekEnd=(i.weekStart+6)%7;var o=u.parseFormat(i.format);i.startDate!==-1/0&&(i.startDate=u.parseDate(i.startDate,o,i.language)),i.endDate!==1/0&&(i.endDate=u.parseDate(i.endDate,o,i.language)),i.daysOfWeekDisabled=i.daysOfWeekDisabled||[],e.isArray(i.daysOfWeekDisabled)||(i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/)),i.daysOfWeekDisabled=e.map(i.daysOfWeekDisabled,function(e){return parseInt(e,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t,i,n=0;n<e.length;n++)t=e[n][0],i=e[n][1],t.on(i)},_unapplyEvents:function(e){for(var t,i,n=0;n<e.length;n++)t=e[n][0],i=e[n][1],t.off(i)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{mousedown:e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).size()||this.picker.is(e.target)||this.picker.find(e.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,i){var n=i||this.date,o=new Date(n.getTime()+6e4*n.getTimezoneOffset());this.element.trigger({type:t,date:o,format:e.proxy(function(e){var t=e||this.o.format;return u.formatDate(n,t,this.o.language)},this)})},show:function(e){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),e&&e.preventDefault(),this._trigger("show")},hide:function(e){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},getDate:function(){var e=this.getUTCDate();return new Date(e.getTime()+6e4*e.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(e){this.setUTCDate(new Date(e.getTime()-6e4*e.getTimezoneOffset()))},setUTCDate:function(e){this.date=e,this.setValue()},setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e):this.component&&this.element.find("input").val(e)},getFormattedDate:function(e){return void 0===e&&(e=this.o.format),u.formatDate(this.date,e,this.o.language)},setStartDate:function(e){this._process_options({startDate:e}),this.update(),this.updateNavArrows()},setEndDate:function(e){this._process_options({endDate:e}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t=parseInt(this.element.parents().filter(function(){return"auto"!=e(this).css("z-index")}).first().css("z-index"))+10,i=this.component?this.component.parent().offset():this.element.offset(),n=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:i.top+n,left:i.left,zIndex:t})}},_allow_update:!0,update:function(){if(this._allow_update){var e,t=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(e=arguments[0],t=!0):(e=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=u.parseDate(e,this.o.format,this.o.language),t&&this.setValue(),this.date<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.date>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=new Date(this.date),this.fill()}},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';t+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;e<this.o.weekStart+7;)t+='<th class="dow">'+d[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;t<12;)e+='<span class="month">'+d[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var i=[],n=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),s=this.date.valueOf(),a=new Date;return t.getUTCFullYear()<n||t.getUTCFullYear()==n&&t.getUTCMonth()<o?i.push("old"):(t.getUTCFullYear()>n||t.getUTCFullYear()==n&&t.getUTCMonth()>o)&&i.push("new"),this.o.todayHighlight&&t.getUTCFullYear()==a.getFullYear()&&t.getUTCMonth()==a.getMonth()&&t.getUTCDate()==a.getDate()&&i.push("today"),s&&t.valueOf()==s&&i.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),-1!=e.inArray(t.valueOf(),this.range)&&i.push("selected")),i},fill:function(){var i,n=new Date(this.viewDate),o=n.getUTCFullYear(),s=n.getUTCMonth(),a=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,r=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf();this.picker.find(".datepicker-days thead th.datepicker-switch").text(d[this.o.language].months[s]+" "+o),this.picker.find("tfoot th.today").text(d[this.o.language].today).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot th.clear").text(d[this.o.language].clear).toggle(!1!==this.o.clearBtn),this.updateNavArrows(),this.fillMonths();var h=t(o,s-1,28,0,0,0,0),p=u.getDaysInMonth(h.getUTCFullYear(),h.getUTCMonth());h.setUTCDate(p),h.setUTCDate(p-(h.getUTCDay()-this.o.weekStart+7)%7);var f=new Date(h);f.setUTCDate(f.getUTCDate()+42),f=f.valueOf();for(var m,g=[];h.valueOf()<f;){if(h.getUTCDay()==this.o.weekStart&&(g.push("<tr>"),this.o.calendarWeeks)){var v=new Date(+h+(this.o.weekStart-h.getUTCDay()-7)%7*864e5),b=new Date(+v+(11-v.getUTCDay())%7*864e5),y=new Date(+(y=t(b.getUTCFullYear(),0,1))+(11-y.getUTCDay())%7*864e5),w=(b-y)/864e5/7+1;g.push('<td class="cw">'+w+"</td>")}(m=this.getClassNames(h)).push("day");var x=this.o.beforeShowDay(h);void 0===x?x={}:"boolean"==typeof x?x={enabled:x}:"string"==typeof x&&(x={classes:x}),!1===x.enabled&&m.push("disabled"),x.classes&&(m=m.concat(x.classes.split(/\s+/))),x.tooltip&&(i=x.tooltip),m=e.unique(m),g.push('<td class="'+m.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+h.getUTCDate()+"</td>"),h.getUTCDay()==this.o.weekEnd&&g.push("</tr>"),h.setUTCDate(h.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(g.join(""));var k=this.date&&this.date.getUTCFullYear(),C=this.picker.find(".datepicker-months").find("th:eq(1)").text(o).end().find("span").removeClass("active");k&&k==o&&C.eq(this.date.getUTCMonth()).addClass("active"),(o<a||o>l)&&C.addClass("disabled"),o==a&&C.slice(0,r).addClass("disabled"),o==l&&C.slice(c+1).addClass("disabled"),g="",o=10*parseInt(o/10,10);var S=this.picker.find(".datepicker-years").find("th:eq(1)").text(o+"-"+(o+9)).end().find("td");o-=1;for(var T=-1;T<11;T++)g+='<span class="year'+(-1==T?" old":10==T?" new":"")+(k==o?" active":"")+(o<a||o>l?" disabled":"")+'">'+o+"</span>",o+=1;S.html(g)},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(i){i.preventDefault();var n=e(i.target).closest("span, td, th");if(1==n.length)switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=u.modes[this.viewMode].navStep*("prev"==n[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o)}this.fill();break;case"today":var s=new Date;s=t(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0),this.showMode(-2);var a="linked"==this.o.todayBtn?null:"view";this._setDate(s,a);break;case"clear":var r;this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!n.is(".disabled")){if(this.viewDate.setUTCDate(1),n.is(".month")){var l=1,c=n.parent().find("span").index(n),d=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(c),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(t(d,c,l,0,0,0,0))}else{var d=parseInt(n.text(),10)||0,l=1,c=0;this.viewDate.setUTCFullYear(d),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(t(d,c,l,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(n.is(".day")&&!n.is(".disabled")){var l=parseInt(n.text(),10)||1,d=this.viewDate.getUTCFullYear(),c=this.viewDate.getUTCMonth();n.is(".old")?0===c?(c=11,d-=1):c-=1:n.is(".new")&&(11==c?(c=0,d+=1):c+=1),this._setDate(t(d,c,l,0,0,0,0))}}},_setDate:function(e,t){t&&"date"!=t||(this.date=new Date(e)),t&&"view"!=t||(this.viewDate=new Date(e)),this.fill(),this.setValue(),this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&(i.change(),!this.o.autoclose||t&&"date"!=t||this.hide())},moveMonth:function(e,t){if(!t)return e;var i,n,o=new Date(e.valueOf()),s=o.getUTCDate(),a=o.getUTCMonth(),r=Math.abs(t);if(t=t>0?1:-1,1==r)n=-1==t?function(){return o.getUTCMonth()==a}:function(){return o.getUTCMonth()!=i},i=a+t,o.setUTCMonth(i),(i<0||i>11)&&(i=(i+12)%12);else{for(var l=0;l<r;l++)o=this.moveMonth(o,t);i=o.getUTCMonth(),o.setUTCDate(s),n=function(){return i!=o.getUTCMonth()}}for(;n();)o.setUTCDate(--s),o.setUTCMonth(i);return o},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))27==e.keyCode&&this.show();else{var t,i,n,o=!1;switch(e.keyCode){case 27:this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37==e.keyCode?-1:1,e.ctrlKey?(i=this.moveYear(this.date,t),n=this.moveYear(this.viewDate,t)):e.shiftKey?(i=this.moveMonth(this.date,t),n=this.moveMonth(this.viewDate,t)):((i=new Date(this.date)).setUTCDate(this.date.getUTCDate()+t),(n=new Date(this.viewDate)).setUTCDate(this.viewDate.getUTCDate()+t)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),e.preventDefault(),o=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38==e.keyCode?-1:1,e.ctrlKey?(i=this.moveYear(this.date,t),n=this.moveYear(this.viewDate,t)):e.shiftKey?(i=this.moveMonth(this.date,t),n=this.moveMonth(this.viewDate,t)):((i=new Date(this.date)).setUTCDate(this.date.getUTCDate()+7*t),(n=new Date(this.viewDate)).setUTCDate(this.viewDate.getUTCDate()+7*t)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),e.preventDefault(),o=!0);break;case 13:this.hide(),e.preventDefault();break;case 9:this.hide()}if(o){this._trigger("changeDate");var s;this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.change()}}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+u.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var s=function(t,i){this.element=e(t),this.inputs=e.map(i.inputs,function(e){return e.jquery?e[0]:e}),delete i.inputs,e(this.inputs).datepicker(i).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};s.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.date}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,i){i.setRange(t)})},dateUpdated:function(t){var i=e(t.target).data("datepicker").getUTCDate(),n=e.inArray(t.target,this.inputs),o=this.inputs.length;if(-1!=n){if(i<this.dates[n])for(;n>=0&&i<this.dates[n];)this.pickers[n--].setUTCDate(i);else if(i>this.dates[n])for(;n<o&&i>this.dates[n];)this.pickers[n++].setUTCDate(i);this.updateDates()}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var a=e.fn.datepicker,r=e.fn.datepicker=function(t){var a=Array.apply(null,arguments);a.shift();var r;return this.each(function(){var c=e(this),d=c.data("datepicker"),u="object"==typeof t&&t;if(!d){var h=i(this,"date"),p=n(e.extend({},l,h,u).language),f=e.extend({},l,p,h,u);if(c.is(".input-daterange")||f.inputs){var m={inputs:f.inputs||c.find("input").toArray()};c.data("datepicker",d=new s(this,e.extend(f,m)))}else c.data("datepicker",d=new o(this,f))}if("string"==typeof t&&"function"==typeof d[t]&&void 0!==(r=d[t].apply(d,a)))return!1}),void 0!==r?r:this},l=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},c=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=o;var d=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},u={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4==0&&e%100!=0||e%400==0},getDaysInMonth:function(e,t){return[31,u.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),i=e.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(i,n,s){if(i instanceof Date)return i;if("string"==typeof n&&(n=u.parseFormat(n)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){var a,r=/([\-+]\d+)([dmwy])/,l=i.match(/([\-+]\d+)([dmwy])/g);i=new Date;for(b=0;b<l.length;b++)switch(p=r.exec(l[b]),a=parseInt(p[1]),p[2]){case"d":i.setUTCDate(i.getUTCDate()+a);break;case"m":i=o.prototype.moveMonth.call(o.prototype,i,a);break;case"w":i.setUTCDate(i.getUTCDate()+7*a);break;case"y":i=o.prototype.moveYear.call(o.prototype,i,a)}return t(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}var c,h,p,l=i&&i.match(this.nonpunctuation)||[],i=new Date,f={},m=["yyyy","yy","M","MM","m","mm","d","dd"],g={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){for(t-=1;t<0;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!=t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};g.M=g.MM=g.mm=g.m,g.dd=g.d,i=t(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var v=n.parts.slice();if(l.length!=v.length&&(v=e(v).filter(function(t,i){return-1!==e.inArray(i,m)}).toArray()),l.length==v.length){for(var b=0,y=v.length;b<y;b++){if(c=parseInt(l[b],10),p=v[b],isNaN(c))switch(p){case"MM":h=e(d[s].months).filter(function(){var e=this.slice(0,l[b].length);return e==l[b].slice(0,e.length)}),c=e.inArray(h[0],d[s].months)+1;break;case"M":h=e(d[s].monthsShort).filter(function(){var e=this.slice(0,l[b].length);return e==l[b].slice(0,e.length)}),c=e.inArray(h[0],d[s].monthsShort)+1}f[p]=c}for(var w,b=0;b<m.length;b++)(w=m[b])in f&&!isNaN(f[w])&&g[w](i,f[w])}return i},formatDate:function(t,i,n){"string"==typeof i&&(i=u.parseFormat(i));var o={d:t.getUTCDate(),D:d[n].daysShort[t.getUTCDay()],DD:d[n].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:d[n].monthsShort[t.getUTCMonth()],MM:d[n].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m;for(var t=[],s=e.extend([],i.separators),a=0,r=i.parts.length;a<=r;a++)s.length&&t.push(s.shift()),t.push(o[i.parts[a]]);return t.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};u.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+u.headTemplate+"<tbody></tbody>"+u.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+u.headTemplate+u.contTemplate+u.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+u.headTemplate+u.contTemplate+u.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=u,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=a,this},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=e(this);i.data("datepicker")||(t.preventDefault(),r.call(i,"show"))}),e(function(){r.call(e('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(e){"use strict";e.fn.bdatepicker=e.fn.datepicker.noConflict(),e.fn.datepicker||(e.fn.datepicker=e.fn.bdatepicker);var t=function(e){this.init("date",e,t.defaults),this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{initPicker:function(t,i){this.options.viewformat||(this.options.viewformat=this.options.format),t.datepicker=e.fn.editableutils.tryParseJson(t.datepicker,!0),this.options.datepicker=e.extend({},i.datepicker,t.datepicker,{format:this.options.viewformat}),this.options.datepicker.language=this.options.datepicker.language||"en",this.dpg=e.fn.bdatepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker),this.options.clear&&(this.$clear=e('<a href="#"></a>').html(this.options.clear).click(e.proxy(function(e){e.preventDefault(),e.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(e('<div class="editable-clear">').append(this.$clear)))},value2html:function(e,i){var n=e?this.dpg.formatDate(e,this.parsedViewFormat,this.options.datepicker.language):"";t.superclass.value2html.call(this,n,i)},html2value:function(e){return this.parseDate(e,this.parsedViewFormat)},value2str:function(e){return e?this.dpg.formatDate(e,this.parsedFormat,this.options.datepicker.language):""},str2value:function(e){return this.parseDate(e,this.parsedFormat)},value2submit:function(e){return this.value2str(e)},value2input:function(e){this.$input.bdatepicker("update",e)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(t){if(!e(t.currentTarget).is(".old")&&!e(t.currentTarget).is(".new")){var i=e(this).closest("form");setTimeout(function(){i.submit()},200)}})},parseDate:function(e,t){var i=null;return e&&(i=this.dpg.parseDate(e,t,this.options.datepicker.language),"string"==typeof e&&e!==this.dpg.formatDate(i,t,this.options.datepicker.language)&&(i=null)),i}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"}),e.fn.editabletypes.date=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("datefield",e,t.defaults),this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.date),e.extend(t.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.bdatepicker(this.options.datepicker),this.$input.off("focus keydown"),this.$input.keyup(e.proxy(function(){this.$tpl.removeData("date"),this.$tpl.bdatepicker("update")},this))},value2input:function(e){this.$input.val(e?this.dpg.formatDate(e,this.parsedViewFormat,this.options.datepicker.language):""),this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){e.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),t.defaults=e.extend({},e.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!0}}),e.fn.editabletypes.datefield=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("datetime",e,t.defaults),this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{initPicker:function(t,i){this.options.viewformat||(this.options.viewformat=this.options.format),t.datetimepicker=e.fn.editableutils.tryParseJson(t.datetimepicker,!0),this.options.datetimepicker=e.extend({},i.datetimepicker,t.datetimepicker,{format:this.options.viewformat}),this.options.datetimepicker.language=this.options.datetimepicker.language||"en",this.dpg=e.fn.datetimepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker),this.$input.on("changeMode",function(t){var i=e(this).closest("form").parent();setTimeout(function(){i.triggerHandler("resize")},0)}),this.options.clear&&(this.$clear=e('<a href="#"></a>').html(this.options.clear).click(e.proxy(function(e){e.preventDefault(),e.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(e('<div class="editable-clear">').append(this.$clear)))},value2html:function(e,i){var n=e?this.dpg.formatDate(this.toUTC(e),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";if(!i)return n;t.superclass.value2html.call(this,n,i)},html2value:function(e){var t=this.parseDate(e,this.parsedViewFormat);return t?this.fromUTC(t):null},value2str:function(e){return e?this.dpg.formatDate(this.toUTC(e),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(e){var t=this.parseDate(e,this.parsedFormat);return t?this.fromUTC(t):null},value2submit:function(e){return this.value2str(e)},value2input:function(e){e&&this.$input.data("datetimepicker").setDate(e)},input2value:function(){var e=this.$input.data("datetimepicker");return e.date?e.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(t){var i=e(this).closest("form");setTimeout(function(){i.submit()},200)})},toUTC:function(e){return e?new Date(e.valueOf()-6e4*e.getTimezoneOffset()):e},fromUTC:function(e){return e?new Date(e.valueOf()+6e4*e.getTimezoneOffset()):e},parseDate:function(e,t){var i=null;return e&&(i=this.dpg.parseDate(e,t,this.options.datetimepicker.language,this.options.formatType),"string"==typeof e&&e!==this.dpg.formatDate(i,t,this.options.datetimepicker.language,this.options.formatType)&&(i=null)),i}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"}),e.fn.editabletypes.datetime=t}(window.jQuery),function(e){"use strict";var t=function(e){this.init("datetimefield",e,t.defaults),this.initPicker(e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.datetime),e.extend(t.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.datetimepicker(this.options.datetimepicker),this.$input.off("focus keydown"),this.$input.keyup(e.proxy(function(){this.$tpl.removeData("date"),this.$tpl.datetimepicker("update")},this))},value2input:function(e){this.$input.val(this.value2html(e)),this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){e.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),t.defaults=e.extend({},e.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}}),e.fn.editabletypes.datetimefield=t}(window.jQuery),function(e){e.fn.autoEmail=function(t,i){return this.each(function(){var n,o=e(this);t[0];o.keypress(function(s){var a=s.keyCode?s.keyCode:s.which?s.which:s.charCode;if(!([8,9,17,18,35,36,37,38,39,40,45].indexOf(a)>=0)){s.preventDefault();var r=e(this)[0].selectionStart,l=e(this)[0].selectionEnd;if(n=e(this).val().length,/^(13|44|59)$/.test(""+a)){if(i){var c;r!=l?c=59==a?"; ":", ":13!=a&&(c=String.fromCharCode(a)),null!=c&&o.val(o.val().substr(0,l)+c+o.val().substr(l,o.val().length))}return o[0].selectionStart=l+(o.val().length-n),void(o[0].selectionEnd=l+(o.val().length-n))}o.val(o.val().substr(0,r)+String.fromCharCode(a)+o.val().substr(l,o.val().length)),n=e(this).val().length-n,o[0].selectionStart=++r,o[0].selectionEnd=l+n;var d=e(this).val().substr(0,r).split("@");if(!(d.length<2||""==d[0])){var u=d[d.length-1],h=e.grep(t,function(e,t){return u===e.substr(0,u.length)});if(h.length>0){var p=h[0].substr(u.length,h[0].length);o.val(o.val().substr(0,r)+p+o.val().substr(r,o.val().length)),o[0].selectionStart=r,o[0].selectionEnd=r+p.length}}}})})}}(jQuery),window.ActiveXObject&&!window.CanvasRenderingContext2D&&function(){function D(e){return((e[C+"Options"]||{}).swfPath||K)+"flashcanvas.swf"}function s(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function i(e){throw new E(e)}function F(e){var t=parseInt(e.width,10),i=parseInt(e.height,10);(isNaN(t)||0>t)&&(t=300),(isNaN(i)||0>i)&&(i=150),e.width=t,e.height=i}var G=this.document,t="canvas",C="FlashCanvas",H="onreadystatechange",n;e:{n=this.document.getElementsByTagName("script");var I="",u=n.length;if(u)for(I=n[u-1].src||"";u;){if(script=n[u-1],script.src&&script.src.match("flashcanvas")){n=8<=G.documentMode?script.src:script.getAttribute("src",4);break e}u--}n=I}var K=n.replace(/[^\/]+$/,""),e=new function(e){for(var t=0,i=e.length;t<i;t++)this[e[t]]=t}("toDataURL save restore scale rotate translate transform setTransform globalAlpha globalCompositeOperation strokeStyle fillStyle createLinearGradient createRadialGradient createPattern lineWidth lineCap lineJoin miterLimit shadowOffsetX shadowOffsetY shadowBlur shadowColor clearRect fillRect strokeRect beginPath closePath moveTo lineTo quadraticCurveTo bezierCurveTo arcTo rect arc fill stroke clip isPointInPath font textAlign textBaseline fillText strokeText measureText drawImage createImageData getImageData putImageData addColorStop direction resize".split(" ")),v={},p={},q={},x={},y={},w=function(e,t){this.canvas=e,this._swf=t,this._canvasId=t.id.slice(8),this._initialize(),this._gradientPatternId=0,this._font=this._direction="";var i=this;this._executeCommandIntervalID=setInterval(function(){for(var e=!1,t=(t=i.canvas).parentNode;t&&!e;)e=t.body,t=t.parentNode;e?0===q[i._canvasId]&&i._executeCommand():clearInterval(i._executeCommandIntervalID)},30)};w.prototype={save:function(){this._setCompositing(),this._setShadows(),this._setStrokeStyle(),this._setFillStyle(),this._setLineStyles(),this._setFontStyles(),this._stateStack.push([this._globalAlpha,this._globalCompositeOperation,this._strokeStyle,this._fillStyle,this._lineWidth,this._lineCap,this._lineJoin,this._miterLimit,this._shadowOffsetX,this._shadowOffsetY,this._shadowBlur,this._shadowColor,this._font,this._textAlign,this._textBaseline]),this._queue.push(e.save)},restore:function(){var t=this._stateStack;t.length&&(t=t.pop(),this.globalAlpha=t[0],this.globalCompositeOperation=t[1],this.strokeStyle=t[2],this.fillStyle=t[3],this.lineWidth=t[4],this.lineCap=t[5],this.lineJoin=t[6],this.miterLimit=t[7],this.shadowOffsetX=t[8],this.shadowOffsetY=t[9],this.shadowBlur=t[10],this.shadowColor=t[11],this.font=t[12],this.textAlign=t[13],this.textBaseline=t[14]),this._queue.push(e.restore)},scale:function(t,i){this._queue.push(e.scale,t,i)},rotate:function(t){this._queue.push(e.rotate,t)},translate:function(t,i){this._queue.push(e.translate,t,i)},transform:function(t,i,n,o,s,a){this._queue.push(e.transform,t,i,n,o,s,a)},setTransform:function(t,i,n,o,s,a){this._queue.push(e.setTransform,t,i,n,o,s,a)},_setCompositing:function(){var t=this._queue;this._globalAlpha!==this.globalAlpha&&(this._globalAlpha=this.globalAlpha,t.push(e.globalAlpha,this._globalAlpha)),this._globalCompositeOperation!==this.globalCompositeOperation&&(this._globalCompositeOperation=this.globalCompositeOperation,t.push(e.globalCompositeOperation,this._globalCompositeOperation))},_setStrokeStyle:function(){if(this._strokeStyle!==this.strokeStyle){var t=this._strokeStyle=this.strokeStyle;if("string"!=typeof t){if(!(t instanceof r||t instanceof z))return;t=t.id}this._queue.push(e.strokeStyle,t)}},_setFillStyle:function(){if(this._fillStyle!==this.fillStyle){var t=this._fillStyle=this.fillStyle;if("string"!=typeof t){if(!(t instanceof r||t instanceof z))return;t=t.id}this._queue.push(e.fillStyle,t)}},createLinearGradient:function(t,n,o,s){return(!isFinite(t)||!isFinite(n)||!isFinite(o)||!isFinite(s))&&i(9),this._queue.push(e.createLinearGradient,t,n,o,s),new r(this)},createRadialGradient:function(t,n,o,s,a,l){return(!isFinite(t)||!isFinite(n)||!isFinite(o)||!isFinite(s)||!isFinite(a)||!isFinite(l))&&i(9),(0>o||0>l)&&i(1),this._queue.push(e.createRadialGradient,t,n,o,s,a,l),new r(this)},createPattern:function(n,o){n||i(17);var a,r=n.tagName,l=this._canvasId;if(r)if("img"===(r=r.toLowerCase()))a=n.getAttribute("src",2);else{if(r===t||"video"===r)return;i(17)}else n.src?a=n.src:i(17);return"repeat"===o||"no-repeat"===o||"repeat-x"===o||"repeat-y"===o||""===o||null===o||i(12),this._queue.push(e.createPattern,s(a),o),!p[l][a]&&v[l]&&(this._executeCommand(),++q[l],p[l][a]=!0),new z(this)},_setLineStyles:function(){var t=this._queue;this._lineWidth!==this.lineWidth&&(this._lineWidth=this.lineWidth,t.push(e.lineWidth,this._lineWidth)),this._lineCap!==this.lineCap&&(this._lineCap=this.lineCap,t.push(e.lineCap,this._lineCap)),this._lineJoin!==this.lineJoin&&(this._lineJoin=this.lineJoin,t.push(e.lineJoin,this._lineJoin)),this._miterLimit!==this.miterLimit&&(this._miterLimit=this.miterLimit,t.push(e.miterLimit,this._miterLimit))},_setShadows:function(){var t=this._queue;this._shadowOffsetX!==this.shadowOffsetX&&(this._shadowOffsetX=this.shadowOffsetX,t.push(e.shadowOffsetX,this._shadowOffsetX)),this._shadowOffsetY!==this.shadowOffsetY&&(this._shadowOffsetY=this.shadowOffsetY,t.push(e.shadowOffsetY,this._shadowOffsetY)),this._shadowBlur!==this.shadowBlur&&(this._shadowBlur=this.shadowBlur,t.push(e.shadowBlur,this._shadowBlur)),this._shadowColor!==this.shadowColor&&(this._shadowColor=this.shadowColor,t.push(e.shadowColor,this._shadowColor))},clearRect:function(t,i,n,o){this._queue.push(e.clearRect,t,i,n,o)},fillRect:function(t,i,n,o){this._setCompositing(),this._setShadows(),this._setFillStyle(),this._queue.push(e.fillRect,t,i,n,o)},strokeRect:function(t,i,n,o){this._setCompositing(),this._setShadows(),this._setStrokeStyle(),this._setLineStyles(),this._queue.push(e.strokeRect,t,i,n,o)},beginPath:function(){this._queue.push(e.beginPath)},closePath:function(){this._queue.push(e.closePath)},moveTo:function(t,i){this._queue.push(e.moveTo,t,i)},lineTo:function(t,i){this._queue.push(e.lineTo,t,i)},quadraticCurveTo:function(t,i,n,o){this._queue.push(e.quadraticCurveTo,t,i,n,o)},bezierCurveTo:function(t,i,n,o,s,a){this._queue.push(e.bezierCurveTo,t,i,n,o,s,a)},arcTo:function(t,n,o,s,a){0>a&&isFinite(a)&&i(1),this._queue.push(e.arcTo,t,n,o,s,a)},rect:function(t,i,n,o){this._queue.push(e.rect,t,i,n,o)},arc:function(t,n,o,s,a,r){0>o&&isFinite(o)&&i(1),this._queue.push(e.arc,t,n,o,s,a,r?1:0)},fill:function(){this._setCompositing(),this._setShadows(),this._setFillStyle(),this._queue.push(e.fill)},stroke:function(){this._setCompositing(),this._setShadows(),this._setStrokeStyle(),this._setLineStyles(),this._queue.push(e.stroke)},clip:function(){this._queue.push(e.clip)},isPointInPath:function(){},_setFontStyles:function(){var t=this._queue;if(this._font!==this.font)try{var i=y[this._canvasId];i.style.font=this._font=this.font;var n=i.currentStyle,o=[n.fontStyle,n.fontWeight,i.offsetHeight,n.fontFamily].join(" ");t.push(e.font,o)}catch(e){}this._textAlign!==this.textAlign&&(this._textAlign=this.textAlign,t.push(e.textAlign,this._textAlign)),this._textBaseline!==this.textBaseline&&(this._textBaseline=this.textBaseline,t.push(e.textBaseline,this._textBaseline)),this._direction!==this.canvas.currentStyle.direction&&(this._direction=this.canvas.currentStyle.direction,t.push(e.direction,this._direction))},fillText:function(t,i,n,o){this._setCompositing(),this._setFillStyle(),this._setShadows(),this._setFontStyles(),this._queue.push(e.fillText,s(t),i,n,void 0===o?1/0:o)},strokeText:function(t,i,n,o){this._setCompositing(),this._setStrokeStyle(),this._setShadows(),this._setFontStyles(),this._queue.push(e.strokeText,s(t),i,n,void 0===o?1/0:o)},measureText:function(e){var t=y[this._canvasId];try{t.style.font=this.font}catch(e){}return t.innerText=e.replace(/[ \n\f\r]/g,"\t"),new L(t.offsetWidth)},drawImage:function(n,o,a,r,l,c,d,u,h){n||i(17);var f,m=n.tagName,g=arguments.length,b=this._canvasId;if(m)if("img"===(m=m.toLowerCase()))f=n.getAttribute("src",2);else{if(m===t||"video"===m)return;i(17)}else n.src?f=n.src:i(17);if(this._setCompositing(),this._setShadows(),f=s(f),3===g)this._queue.push(e.drawImage,g,f,o,a);else if(5===g)this._queue.push(e.drawImage,g,f,o,a,r,l);else{if(9!==g)return;(0===r||0===l)&&i(1),this._queue.push(e.drawImage,g,f,o,a,r,l,c,d,u,h)}!p[b][f]&&v[b]&&(this._executeCommand(),++q[b],p[b][f]=!0)},createImageData:function(){},getImageData:function(){},putImageData:function(){},loadImage:function(t,i,n){var o,a=t.tagName,r=this._canvasId;a?"img"===a.toLowerCase()&&(o=t.getAttribute("src",2)):t.src&&(o=t.src),o&&!p[r][o]&&((i||n)&&(x[r][o]=[t,i,n]),this._queue.push(e.drawImage,1,s(o)),v[r]&&(this._executeCommand(),++q[r],p[r][o]=!0))},_initialize:function(){this.globalAlpha=this._globalAlpha=1,this.globalCompositeOperation=this._globalCompositeOperation="source-over",this.fillStyle=this._fillStyle=this.strokeStyle=this._strokeStyle="#000000",this.lineWidth=this._lineWidth=1,this.lineCap=this._lineCap="butt",this.lineJoin=this._lineJoin="miter",this.miterLimit=this._miterLimit=10,this.shadowBlur=this._shadowBlur=this.shadowOffsetY=this._shadowOffsetY=this.shadowOffsetX=this._shadowOffsetX=0,this.shadowColor=this._shadowColor="rgba(0, 0, 0, 0.0)",this.font=this._font="10px sans-serif",this.textAlign=this._textAlign="start",this.textBaseline=this._textBaseline="alphabetic",this._queue=[],this._stateStack=[]},_flush:function(){var e=this._queue;return this._queue=[],e},_executeCommand:function(){var a=this._flush();if(0<a.length)try{return eval(this._swf.CallFunction('<invoke name="executeCommand" returntype="javascript"><arguments><string>'+a.join("&#0;")+"</string></arguments></invoke>"))}catch(e){}},_resize:function(t,i){this._executeCommand(),this._initialize(),0<t&&(this._swf.width=t),0<i&&(this._swf.height=i),this._queue.push(e.resize,t,i)}};var r=function(e){this._ctx=e,this.id=e._gradientPatternId++};r.prototype={addColorStop:function(t,n){(isNaN(t)||0>t||1<t)&&i(1),this._ctx._queue.push(e.addColorStop,this.id,t,n)}};var z=function(e){this.id=e._gradientPatternId++},L=function(e){this.width=e},E=function(e){this.code=e,this.message={1:"INDEX_SIZE_ERR",9:"NOT_SUPPORTED_ERR",11:"INVALID_STATE_ERR",12:"SYNTAX_ERR",17:"TYPE_MISMATCH_ERR",18:"SECURITY_ERR"}[e]};E.prototype=Error();var J="initElement",m={registeredEvents:{},canvases:{},initWindow:function(e){function i(){if("complete"===e.document.readyState){e.document.detachEvent(H,i);for(var n=e.document.getElementsByTagName(t),o=0,s=n.length;o<s;++o)m[J](n[o])}}var n=e.document;n.createElement(t),n.createStyleSheet().cssText=t+"{display:inline-block;overflow:hidden;width:300px;height:150px}";var o=this.canvases,s=this.registeredEvents,a=function(){e.detachEvent("onunload",a);var t,i,n,r,l,c,d;for(d in o)if(t=o[d],i=t.firstChild,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView:t.ownerDocument.parentWindow,e===r){for(n in i)"function"==typeof i[n]&&(i[n]=null);for(n in t)"function"==typeof t[n]&&(t[n]=null);for(r=0,l=s[d].length;r!==l;r++)c=s[d][r],i.detachEvent(c[0],c[1]),t.detachEvent(c[0],c[1])}e.CanvasRenderingContext2D=null,e.CanvasGradient=null,e.CanvasPattern=null,e[C]=null};e.attachEvent("onunload",a),e.CanvasRenderingContext2D=w,e.CanvasGradient=r,e.CanvasPattern=z,e[C]=m;var l=D(e);0===l.indexOf(e.location.protocol+"//"+e.location.host+"/")&&e.setTimeout(function(){var e=new ActiveXObject("Microsoft.XMLHTTP");e.open("GET",l,!1),e.send(null)},0),"complete"===e.document.readyState?i():e.document.attachEvent(H,i)}};m[J]=function(t){if(t.getContext)return t;var i=t.ownerDocument,n=i.defaultView?i.defaultView:i.parentWindow;n.CanvasRenderingContext2D||this.initWindow(n);var o=Math.random().toString(36).slice(2)||"0",s="external"+o;v[o]=!1,p[o]={},q[o]=1,x[o]={},this.registeredEvents[o]=[],F(t);var a=D(n);t.innerHTML='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+("https:"===n.location.protocol?"https:":"http:")+'//fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="100%" height="100%" id="'+s+'"><param name="allowScriptAccess" value="always"><param name="flashvars" value="id='+s+'"><param name="wmode" value="transparent"></object><span style="margin:0;padding:0;border:0;display:inline-block;position:static;height:1em;overflow:visible;white-space:nowrap"></span>',this.canvases[o]=t;var r=t.firstChild;y[o]=t.lastChild;var l=i.body.contains;if(l(t))r.movie=a;else var c=n.setInterval(function(){l(t)&&(n.clearInterval(c),r.movie=a)},2);"BackCompat"!==i.compatMode&&n.XMLHttpRequest||(y[o].style.overflow="hidden");var d=new w(t,r);return t.getContext=function(e){return"2d"===e?d:null},t.toDataURL=function(t,i){return"image/jpeg"===(""+t).toLowerCase()?d._queue.push(e.toDataURL,t,"number"==typeof i?i:""):d._queue.push(e.toDataURL,t),d._executeCommand()},i=function(e){var t=(e=e?e.srcElement:n.event.srcElement).parentNode;e.blur(),t.focus()},this.registeredEvents[o].push(["onfocus",i]),r.attachEvent("onfocus",i),t},m.saveImage=function(e){e.firstChild.saveImage()},m.setOptions=function(){},m.trigger=function(e,t){this.canvases[e].fireEvent("on"+t)},m.unlock=function(e,t,i){try{var n,o,s,a,r,l,c,d,u;void 0===t?(n=this.canvases[e],o=n.firstChild,d=n.ownerDocument,u=d.defaultView?d.defaultView:d.parentWindow,F(n),s=n.width,a=n.height,n.style.width=s+"px",n.style.height=a+"px",0<s&&(o.width=s),0<a&&(o.height=a),o.resize(s,a),t=function(e){var t=(e=e||u.event).propertyName;if("width"===t||"height"===t){var i=(e=e.srcElement)[t],n=parseInt(i,10);(isNaN(n)||0>n)&&(n="width"===t?300:150),i===n?(e.style[t]=n+"px",e.getContext("2d")._resize(e.width,e.height)):e[t]=n}},this.registeredEvents[e].push(["onpropertychange",t]),n.attachEvent("onpropertychange",t),v[e]=!0,"function"==typeof n.onload&&u.setTimeout(function(){n.onload()},0)):(r=x[e][t])&&(l=r[0],c=r[1+i],delete x[e][t],"function"==typeof c&&c.call(l)),q[e]&&--q[e]}catch(e){throw console.log("Call to FlashCanvas.unlock had thrown an error: ",e.message),e}},m.initWindow(this,G),keep=[w.measureText,w.loadImage]}.call(window),function(e){var t={settings:{barWidth:1,barHeight:50,moduleSize:5,showHRI:!0,addQuietZone:!0,marginHRI:5,bgColor:"#FFFFFF",color:"#000000",fontSize:10,output:"css",posX:0,posY:0},intval:function(e){var t=typeof e;return"string"==t?(e=e.replace(/[^0-9-.]/g,""),e=parseInt(1*e,10),isNaN(e)||!isFinite(e)?0:e):"number"==t&&isFinite(e)?Math.floor(e):0},i25:{encoding:["NNWWN","WNNNW","NWNNW","WWNNN","NNWNW","WNWNN","NWWNN","NNNWW","WNNWN","NWNWN"],compute:function(e,i,n){if(i){"int25"==n&&e.length%2==0&&(e="0"+e);for(var o,s=!0,a=0,r=e.length-1;r>-1;r--){if(o=t.intval(e.charAt(r)),isNaN(o))return"";a+=s?3*o:o,s=!s}e+=((10-a%10)%10).toString()}else e.length%2!=0&&(e="0"+e);return e},getDigit:function(e,t,i){if(""==(e=this.compute(e,t,i)))return"";result="";var n,o;if("int25"==i){result+="1010";var s,a;for(n=0;n<e.length/2;n++)for(s=e.charAt(2*n),a=e.charAt(2*n+1),o=0;o<5;o++)result+="1","W"==this.encoding[s].charAt(o)&&(result+="1"),result+="0","W"==this.encoding[a].charAt(o)&&(result+="0");result+="1101"}else if("std25"==i){result+="11011010";var r;for(n=0;n<e.length;n++)for(r=e.charAt(n),o=0;o<5;o++)result+="1","W"==this.encoding[r].charAt(o)&&(result+="11"),result+="0";result+="11010110"}return result}},ean:{encoding:[["0001101","0100111","1110010"],["0011001","0110011","1100110"],["0010011","0011011","1101100"],["0111101","0100001","1000010"],["0100011","0011101","1011100"],["0110001","0111001","1001110"],["0101111","0000101","1010000"],["0111011","0010001","1000100"],["0110111","0001001","1001000"],["0001011","0010111","1110100"]],first:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],getDigit:function(e,i){var n="ean8"==i?7:12;if((e=e.substring(0,n)).length!=n)return"";for(var o,s=0;s<e.length;s++)if((o=e.charAt(s))<"0"||o>"9")return"";e=this.compute(e,i);var a="101";if("ean8"==i){for(s=0;s<4;s++)a+=this.encoding[t.intval(e.charAt(s))][0];a+="01010";for(s=4;s<8;s++)a+=this.encoding[t.intval(e.charAt(s))][2]}else{for(var r=this.first[t.intval(e.charAt(0))],s=1;s<7;s++)a+=this.encoding[t.intval(e.charAt(s))][t.intval(r.charAt(s-1))];a+="01010";for(s=7;s<13;s++)a+=this.encoding[t.intval(e.charAt(s))][2]}return a+="101"},compute:function(e,n){var o="ean13"==n?12:7;e=e.substring(0,o);var s=0,a=!0;for(i=e.length-1;i>-1;i--)s+=(a?3:1)*t.intval(e.charAt(i)),a=!a;return e+((10-s%10)%10).toString()}},upc:{getDigit:function(e){return e.length<12&&(e="0"+e),t.ean.getDigit(e,"ean13")},compute:function(e){return e.length<12&&(e="0"+e),t.ean.compute(e,"ean13").substr(1)}},msi:{encoding:["100100100100","100100100110","100100110100","100100110110","100110100100","100110100110","100110110100","100110110110","110100100100","110100100110"],compute:function(e,t){return"object"==typeof t?("mod10"==t.crc1?e=this.computeMod10(e):"mod11"==t.crc1&&(e=this.computeMod11(e)),"mod10"==t.crc2?e=this.computeMod10(e):"mod11"==t.crc2&&(e=this.computeMod11(e))):"boolean"==typeof t&&t&&(e=this.computeMod10(e)),e},computeMod10:function(e){var i,n=e.length%2,o=0,s=0;for(i=0;i<e.length;i++)n?o=10*o+t.intval(e.charAt(i)):s+=t.intval(e.charAt(i)),n=!n;var a=(2*o).toString();for(i=0;i<a.length;i++)s+=t.intval(a.charAt(i));return e+((10-s%10)%10).toString()},computeMod11:function(e){for(var i=0,n=2,o=e.length-1;o>=0;o--)i+=n*t.intval(e.charAt(o)),n=7==n?2:n+1;return e+((11-i%11)%11).toString()},getDigit:function(e,t){var n=0,o="";for(e=this.compute(e,!1),o="110",i=0;i<e.length;i++){if((n="0123456789".indexOf(e.charAt(i)))<0)return"";o+=this.encoding[n]}return o+="1001"}},code11:{encoding:["101011","1101011","1001011","1100101","1011011","1101101","1001101","1010011","1101001","110101","101101"],getDigit:function(e){var t,i,n="0123456789-",o="",s="0";for(o="10110010",t=0;t<e.length;t++){if((i=n.indexOf(e.charAt(t)))<0)return"";o+=this.encoding[i]+s}var a=0,r=0,l=1,c=0;for(t=e.length-1;t>=0;t--)a=10==a?1:a+1,l=10==l?1:l+1,r+=a*(i=n.indexOf(e.charAt(t))),c+=l*i;var d=r%11,u=(c+=d)%11;return o+=this.encoding[d]+s,e.length>=10&&(o+=this.encoding[u]+s),o+="1011001"}},code39:{encoding:["101001101101","110100101011","101100101011","110110010101","101001101011","110100110101","101100110101","101001011011","110100101101","101100101101","110101001011","101101001011","110110100101","101011001011","110101100101","101101100101","101010011011","110101001101","101101001101","101011001101","110101010011","101101010011","110110101001","101011010011","110101101001","101101101001","101010110011","110101011001","101101011001","101011011001","110010101011","100110101011","110011010101","100101101011","110010110101","100110110101","100101011011","110010101101","100110101101","100100100101","100100101001","100101001001","101001001001","100101101101"],getDigit:function(e){var t,i,n="";if(e.indexOf("*")>=0)return"";for(e=("*"+e+"*").toUpperCase(),t=0;t<e.length;t++){if((i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%*".indexOf(e.charAt(t)))<0)return"";t>0&&(n+="0"),n+=this.encoding[i]}return n}},code93:{encoding:["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],getDigit:function(e,t){var n,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%____*",s="";if(e.indexOf("*")>=0)return"";for(e=e.toUpperCase(),s+=this.encoding[47],i=0;i<e.length;i++){if(n=e.charAt(i),index=o.indexOf(n),"_"==n||index<0)return"";s+=this.encoding[index]}if(t){var a=0,r=0,l=1,c=0;for(i=e.length-1;i>=0;i--)a=20==a?1:a+1,l=15==l?1:l+1,index=o.indexOf(e.charAt(i)),r+=a*index,c+=l*index;var d=(c+=n=r%47)%47;s+=this.encoding[n],s+=this.encoding[d]}return s+=this.encoding[47],s+="1"}},code128:{encoding:["11011001100","11001101100","11001100110","10010011000","10010001100","10001001100","10011001000","10011000100","10001100100","11001001000","11001000100","11000100100","10110011100","10011011100","10011001110","10111001100","10011101100","10011100110","11001110010","11001011100","11001001110","11011100100","11001110100","11101101110","11101001100","11100101100","11100100110","11101100100","11100110100","11100110010","11011011000","11011000110","11000110110","10100011000","10001011000","10001000110","10110001000","10001101000","10001100010","11010001000","11000101000","11000100010","10110111000","10110001110","10001101110","10111011000","10111000110","10001110110","11101110110","11010001110","11000101110","11011101000","11011100010","11011101110","11101011000","11101000110","11100010110","11101101000","11101100010","11100011010","11101111010","11001000010","11110001010","10100110000","10100001100","10010110000","10010000110","10000101100","10000100110","10110010000","10110000100","10011010000","10011000010","10000110100","10000110010","11000010010","11001010000","11110111010","11000010100","10001111010","10100111100","10010111100","10010011110","10111100100","10011110100","10011110010","11110100100","11110010100","11110010010","11011011110","11011110110","11110110110","10101111000","10100011110","10001011110","10111101000","10111100010","11110101000","11110100010","10111011110","10111101110","11101011110","11110101110","11010000100","11010010000","11010011100","11000111010"],getDigit:function(e){var i=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",n="",o=0,s=0,a=0,r=0,l=0;for(a=0;a<e.length;a++)if(-1==i.indexOf(e.charAt(a)))return"";var c=e.length>1,d="";for(a=0;a<3&&a<e.length;a++)c&=(d=e.charAt(a))>="0"&&d<="9";for(o=c?105:104,n=this.encoding[o],a=0;a<e.length;){if(c)(a==e.length||e.charAt(a)<"0"||e.charAt(a)>"9"||e.charAt(a+1)<"0"||e.charAt(a+1)>"9")&&(c=!1,n+=this.encoding[100],o+=100*++s);else{for(r=0;a+r<e.length&&e.charAt(a+r)>="0"&&e.charAt(a+r)<="9";)r++;(c=r>5||a+r-1==e.length&&r>3)&&(n+=this.encoding[99],o+=99*++s)}c?(l=t.intval(e.charAt(a)+e.charAt(a+1)),a+=2):(l=i.indexOf(e.charAt(a)),a+=1),n+=this.encoding[l],o+=++s*l}return n+=this.encoding[o%103],n+=this.encoding[106],n+="11"}},codabar:{encoding:["101010011","101011001","101001011","110010101","101101001","110101001","100101011","100101101","100110101","110100101","101001101","101100101","1101011011","1101101011","1101101101","1011011011","1011001001","1010010011","1001001011","1010011001"],getDigit:function(e){var t,i,n="";for(n+=this.encoding[16]+"0",t=0;t<e.length;t++){if((i="0123456789-$:/.+".indexOf(e.charAt(t)))<0)return"";n+=this.encoding[i]+"0"}return n+=this.encoding[16]}},datamatrix:{lengthRows:[10,12,14,16,18,20,22,24,26,32,36,40,44,48,52,64,72,80,88,96,104,120,132,144,8,8,12,12,16,16],lengthCols:[10,12,14,16,18,20,22,24,26,32,36,40,44,48,52,64,72,80,88,96,104,120,132,144,18,32,26,36,36,48],dataCWCount:[3,5,8,12,18,22,30,36,44,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558,5,10,16,22,32,49],solomonCWCount:[5,7,10,12,14,18,20,24,28,36,42,48,56,68,84,112,144,192,224,272,336,408,496,620,7,11,14,18,24,28],dataRegionRows:[8,10,12,14,16,18,20,22,24,14,16,18,20,22,24,14,16,18,20,22,24,18,20,22,6,6,10,10,14,14],dataRegionCols:[8,10,12,14,16,18,20,22,24,14,16,18,20,22,24,14,16,18,20,22,24,18,20,22,16,14,24,16,16,22],regionRows:[1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,4,4,4,4,4,4,6,6,6,1,1,1,1,1,1],regionCols:[1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,4,4,4,4,4,4,6,6,6,1,2,1,2,2,2],interleavedBlocks:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,4,4,4,4,6,6,8,8,1,1,1,1,1,1],logTab:[-255,255,1,240,2,225,241,53,3,38,226,133,242,43,54,210,4,195,39,114,227,106,134,28,243,140,44,23,55,118,211,234,5,219,196,96,40,222,115,103,228,78,107,125,135,8,29,162,244,186,141,180,45,99,24,49,56,13,119,153,212,199,235,91,6,76,220,217,197,11,97,184,41,36,223,253,116,138,104,193,229,86,79,171,108,165,126,145,136,34,9,74,30,32,163,84,245,173,187,204,142,81,181,190,46,88,100,159,25,231,50,207,57,147,14,67,120,128,154,248,213,167,200,63,236,110,92,176,7,161,77,124,221,102,218,95,198,90,12,152,98,48,185,179,42,209,37,132,224,52,254,239,117,233,139,22,105,27,194,113,230,206,87,158,80,189,172,203,109,175,166,62,127,247,146,66,137,192,35,252,10,183,75,216,31,83,33,73,164,144,85,170,246,65,174,61,188,202,205,157,143,169,82,72,182,215,191,251,47,178,89,151,101,94,160,123,26,112,232,21,51,238,208,131,58,69,148,18,15,16,68,17,121,149,129,19,155,59,249,70,214,250,168,71,201,156,64,60,237,130,111,20,93,122,177,150],aLogTab:[1,2,4,8,16,32,64,128,45,90,180,69,138,57,114,228,229,231,227,235,251,219,155,27,54,108,216,157,23,46,92,184,93,186,89,178,73,146,9,18,36,72,144,13,26,52,104,208,141,55,110,220,149,7,14,28,56,112,224,237,247,195,171,123,246,193,175,115,230,225,239,243,203,187,91,182,65,130,41,82,164,101,202,185,95,190,81,162,105,210,137,63,126,252,213,135,35,70,140,53,106,212,133,39,78,156,21,42,84,168,125,250,217,159,19,38,76,152,29,58,116,232,253,215,131,43,86,172,117,234,249,223,147,11,22,44,88,176,77,154,25,50,100,200,189,87,174,113,226,233,255,211,139,59,118,236,245,199,163,107,214,129,47,94,188,85,170,121,242,201,191,83,166,97,194,169,127,254,209,143,51,102,204,181,71,142,49,98,196,165,103,206,177,79,158,17,34,68,136,61,122,244,197,167,99,198,161,111,222,145,15,30,60,120,240,205,183,67,134,33,66,132,37,74,148,5,10,20,40,80,160,109,218,153,31,62,124,248,221,151,3,6,12,24,48,96,192,173,119,238,241,207,179,75,150,1],champGaloisMult:function(e,t){return e&&t?this.aLogTab[(this.logTab[e]+this.logTab[t])%255]:0},champGaloisDoub:function(e,t){return e?t?this.aLogTab[(this.logTab[e]+t)%255]:e:0},champGaloisSum:function(e,t){return e^t},selectIndex:function(e,t){if((e<1||e>1558)&&!t)return-1;if((e<1||e>49)&&t)return-1;var i=0;for(t&&(i=24);this.dataCWCount[i]<e;)i++;return i},encodeDataCodeWordsASCII:function(e){var t,i,n=new Array,o=0;for(t=0;t<e.length;t++)(i=e.charCodeAt(t))>127?(n[o]=235,i-=127,o++):i>=48&&i<=57&&t+1<e.length&&e.charCodeAt(t+1)>=48&&e.charCodeAt(t+1)<=57?(i=10*(i-48)+(e.charCodeAt(t+1)-48),i+=130,t++):i++,n[o]=i,o++;return n},addPadCW:function(e,t,i){if(!(t>=i)){e[t]=129;var n,o;for(o=t+1;o<i;o++)n=149*(o+1)%253+1,e[o]=(129+n)%254}},calculSolFactorTable:function(e){var t,i,n=new Array;for(t=0;t<=e;t++)n[t]=1;for(t=1;t<=e;t++)for(i=t-1;i>=0;i--)n[i]=this.champGaloisDoub(n[i],t),i>0&&(n[i]=this.champGaloisSum(n[i],n[i-1]));return n},addReedSolomonCW:function(e,t,i,n,o){var s,a,r,l=0,c=e/o,d=new Array;for(r=0;r<o;r++){for(s=0;s<c;s++)d[s]=0;for(s=r;s<i;s+=o)for(l=this.champGaloisSum(n[s],d[c-1]),a=c-1;a>=0;a--)d[a]=l?this.champGaloisMult(l,t[a]):0,a>0&&(d[a]=this.champGaloisSum(d[a-1],d[a]));for(a=i+r,s=c-1;s>=0;s--)n[a]=d[s],a+=o}return n},getBits:function(e){for(var t=new Array,i=0;i<8;i++)t[i]=e&128>>i?1:0;return t},next:function(e,t,i,n,o,s){var a=0,r=4,l=0;do{r==t&&0==l?(this.patternShapeSpecial1(o,s,n[a],t,i),a++):e<3&&r==t-2&&0==l&&i%4!=0?(this.patternShapeSpecial2(o,s,n[a],t,i),a++):r==t-2&&0==l&&i%8==4?(this.patternShapeSpecial3(o,s,n[a],t,i),a++):r==t+4&&2==l&&i%8==0&&(this.patternShapeSpecial4(o,s,n[a],t,i),a++);do{r<t&&l>=0&&1!=s[r][l]&&(this.patternShapeStandard(o,s,n[a],r,l,t,i),a++),r-=2,l+=2}while(r>=0&&l<i);r+=1,l+=3;do{r>=0&&l<i&&1!=s[r][l]&&(this.patternShapeStandard(o,s,n[a],r,l,t,i),a++),r+=2,l-=2}while(r<t&&l>=0);r+=3,l+=1}while(r<t||l<i)},patternShapeStandard:function(e,t,i,n,o,s,a){this.placeBitInDatamatrix(e,t,i[0],n-2,o-2,s,a),this.placeBitInDatamatrix(e,t,i[1],n-2,o-1,s,a),this.placeBitInDatamatrix(e,t,i[2],n-1,o-2,s,a),this.placeBitInDatamatrix(e,t,i[3],n-1,o-1,s,a),this.placeBitInDatamatrix(e,t,i[4],n-1,o,s,a),this.placeBitInDatamatrix(e,t,i[5],n,o-2,s,a),this.placeBitInDatamatrix(e,t,i[6],n,o-1,s,a),this.placeBitInDatamatrix(e,t,i[7],n,o,s,a)},patternShapeSpecial1:function(e,t,i,n,o){this.placeBitInDatamatrix(e,t,i[0],n-1,0,n,o),this.placeBitInDatamatrix(e,t,i[1],n-1,1,n,o),this.placeBitInDatamatrix(e,t,i[2],n-1,2,n,o),this.placeBitInDatamatrix(e,t,i[3],0,o-2,n,o),this.placeBitInDatamatrix(e,t,i[4],0,o-1,n,o),this.placeBitInDatamatrix(e,t,i[5],1,o-1,n,o),this.placeBitInDatamatrix(e,t,i[6],2,o-1,n,o),this.placeBitInDatamatrix(e,t,i[7],3,o-1,n,o)},patternShapeSpecial2:function(e,t,i,n,o){this.placeBitInDatamatrix(e,t,i[0],n-3,0,n,o),this.placeBitInDatamatrix(e,t,i[1],n-2,0,n,o),this.placeBitInDatamatrix(e,t,i[2],n-1,0,n,o),this.placeBitInDatamatrix(e,t,i[3],0,o-4,n,o),this.placeBitInDatamatrix(e,t,i[4],0,o-3,n,o),this.placeBitInDatamatrix(e,t,i[5],0,o-2,n,o),this.placeBitInDatamatrix(e,t,i[6],0,o-1,n,o),this.placeBitInDatamatrix(e,t,i[7],1,o-1,n,o)},patternShapeSpecial3:function(e,t,i,n,o){this.placeBitInDatamatrix(e,t,i[0],n-3,0,n,o),this.placeBitInDatamatrix(e,t,i[1],n-2,0,n,o),this.placeBitInDatamatrix(e,t,i[2],n-1,0,n,o),this.placeBitInDatamatrix(e,t,i[3],0,o-2,n,o),this.placeBitInDatamatrix(e,t,i[4],0,o-1,n,o),this.placeBitInDatamatrix(e,t,i[5],1,o-1,n,o),this.placeBitInDatamatrix(e,t,i[6],2,o-1,n,o),this.placeBitInDatamatrix(e,t,i[7],3,o-1,n,o)},patternShapeSpecial4:function(e,t,i,n,o){this.placeBitInDatamatrix(e,t,i[0],n-1,0,n,o),this.placeBitInDatamatrix(e,t,i[1],n-1,o-1,n,o),this.placeBitInDatamatrix(e,t,i[2],0,o-3,n,o),this.placeBitInDatamatrix(e,t,i[3],0,o-2,n,o),this.placeBitInDatamatrix(e,t,i[4],0,o-1,n,o),this.placeBitInDatamatrix(e,t,i[5],1,o-3,n,o),this.placeBitInDatamatrix(e,t,i[6],1,o-2,n,o),this.placeBitInDatamatrix(e,t,i[7],1,o-1,n,o)},placeBitInDatamatrix:function(e,t,i,n,o,s,a){n<0&&(n+=s,o+=4-(s+4)%8),o<0&&(o+=a,n+=4-(a+4)%8),1!=t[n][o]&&(e[n][o]=i,t[n][o]=1)},addFinderPattern:function(e,t,i,n,o){var s=(n+2)*t,a=(o+2)*i,r=new Array;r[0]=new Array;for(c=0;c<a+2;c++)r[0][c]=0;for(var l=0;l<s;l++){r[l+1]=new Array,r[l+1][0]=0,r[l+1][a+1]=0;for(c=0;c<a;c++)l%(n+2)==0?r[l+1][c+1]=c%2==0?1:0:l%(n+2)==n+1?r[l+1][c+1]=1:c%(o+2)==o+1?r[l+1][c+1]=l%2==0?0:1:c%(o+2)==0?r[l+1][c+1]=1:(r[l+1][c+1]=0,r[l+1][c+1]=e[l-1-2*parseInt(l/(n+2))][c-1-2*parseInt(c/(o+2))])}r[s+1]=new Array;for(var c=0;c<a+2;c++)r[s+1][c]=0;return r},getDigit:function(e,t){var i=this.encodeDataCodeWordsASCII(e),n=i.length,o=this.selectIndex(n,t),s=this.dataCWCount[o],a=this.solomonCWCount[o],r=s+a,l=this.lengthRows[o],c=this.lengthCols[o],d=this.regionRows[o],u=this.regionCols[o],h=this.dataRegionRows[o],p=this.dataRegionCols[o],f=l-2*d,m=c-2*u,g=this.interleavedBlocks[o],v=a/g;this.addPadCW(i,n,s);var b=this.calculSolFactorTable(v);this.addReedSolomonCW(a,b,s,i,g);for(var y=new Array,w=0;w<r;w++)y[w]=this.getBits(i[w]);for(var x=new Array,k=new Array,w=0;w<m;w++)x[w]=new Array,k[w]=new Array;return f*m%8==4&&(x[f-2][m-2]=1,x[f-1][m-1]=1,x[f-1][m-2]=0,x[f-2][m-1]=0,k[f-2][m-2]=1,k[f-1][m-1]=1,k[f-1][m-2]=1,k[f-2][m-1]=1),this.next(0,f,m,y,x,k),x=this.addFinderPattern(x,d,u,h,p)}},lec:{cInt:function(e,t){for(var i="",n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>=8;return i},cRgb:function(e,t,i){return String.fromCharCode(i)+String.fromCharCode(t)+String.fromCharCode(e)},cHexColor:function(e){var t=parseInt("0x"+e.substr(1)),i=255&t,n=255&(t>>=8),o=t>>8;return this.cRgb(o,n,i)}},hexToRGB:function(e){var t=parseInt("0x"+e.substr(1)),i=255&t;return{r:(t>>=8)>>8,g:255&t,b:i}},isHexColor:function(e){var t=new RegExp("#[0-91-F]","gi");return e.match(t)},base64Encode:function(e){for(var t,i,n,o,s,a,r,l="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=0;d<e.length;)o=(t=e.charCodeAt(d++))>>2,s=(3&t)<<4|(i=e.charCodeAt(d++))>>4,a=(15&i)<<2|(n=e.charCodeAt(d++))>>6,r=63&n,isNaN(i)?a=r=64:isNaN(n)&&(r=64),l+=c.charAt(o)+c.charAt(s)+c.charAt(a)+c.charAt(r);return l},bitStringTo2DArray:function(e){var t=[];t[0]=[];for(var i=0;i<e.length;i++)t[0][i]=e.charAt(i);return t},resize:function(e,t){return e.css("padding","0px").css("overflow","auto").css("width",t+"px").html(""),e},digitToBmpRenderer:function(e,t,i,n,o,s){var a=i.length,r=i[0].length,l=0,c=this.isHexColor(t.bgColor)?this.lec.cHexColor(t.bgColor):this.lec.cRgb(255,255,255),d=this.isHexColor(t.color)?this.lec.cHexColor(t.color):this.lec.cRgb(0,0,0),u="",h="";for(l=0;l<o;l++)u+=c,h+=d;var p=(4-o*r*3%4)%4,f=(o*r+p)*s*a,m="";for(l=0;l<p;l++)m+="\0";for(var g="BM"+this.lec.cInt(54+f,4)+"\0\0\0\0"+this.lec.cInt(54,4)+this.lec.cInt(40,4)+this.lec.cInt(o*r,4)+this.lec.cInt(s*a,4)+this.lec.cInt(1,2)+this.lec.cInt(24,2)+"\0\0\0\0"+this.lec.cInt(f,4)+this.lec.cInt(2835,4)+this.lec.cInt(2835,4)+this.lec.cInt(0,4)+this.lec.cInt(0,4),v=a-1;v>=0;v--){for(var b="",y=0;y<r;y++)b+="0"==i[v][y]?u:h;b+=m;for(var w=0;w<s;w++)g+=b}var x=document.createElement("object");x.setAttribute("type","image/bmp"),x.setAttribute("data","data:image/bmp;base64,"+this.base64Encode(g)),this.resize(e,o*r+p).append(x)},digitToBmp:function(e,i,n,o){var s=t.intval(i.barWidth),a=t.intval(i.barHeight);this.digitToBmpRenderer(e,i,this.bitStringTo2DArray(n),o,s,a)},digitToBmp2D:function(e,i,n,o){var s=t.intval(i.moduleSize);this.digitToBmpRenderer(e,i,n,o,s,s)},digitToCssRenderer:function(e,t,i,n,o,s){for(var a,r,l=i.length,c=i[0].length,d="",u='<div style="float: left; font-size: 0px; background-color: '+t.bgColor+"; height: "+s+'px; width: &Wpx"></div>',h='<div style="float: left; font-size: 0px; width:0; border-left: &Wpx solid '+t.color+"; height: "+s+'px;"></div>',p=0;p<l;p++){a=0,r=i[p][0];for(var f=0;f<c;f++)r==i[p][f]?a++:(d+=("0"==r?u:h).replace("&W",a*o),r=i[p][f],a=1);a>0&&(d+=("0"==r?u:h).replace("&W",a*o))}t.showHRI&&(d+='<div style="clear:both; width: 100%; background-color: '+t.bgColor+"; color: "+t.color+"; text-align: center; font-size: "+t.fontSize+"px; margin-top: "+t.marginHRI+'px;">'+n+"</div>"),this.resize(e,o*c).html(d)},digitToCss:function(e,i,n,o){var s=t.intval(i.barWidth),a=t.intval(i.barHeight);this.digitToCssRenderer(e,i,this.bitStringTo2DArray(n),o,s,a)},digitToCss2D:function(e,i,n,o){var s=t.intval(i.moduleSize);this.digitToCssRenderer(e,i,n,o,s,s)},digitToSvgRenderer:function(e,i,n,o,s,a){var r=n.length,l=n[0].length,c=s*l,d=a*r;if(i.showHRI){var u=t.intval(i.fontSize);d+=t.intval(i.marginHRI)+u}var h='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+c+'" height="'+d+'">';h+='<rect width="'+c+'" height="'+d+'" x="0" y="0" fill="'+i.bgColor+'" />';for(var p,f,m='<rect width="&W" height="'+a+'" x="&X" y="&Y" fill="'+i.color+'" />',g=0;g<r;g++){p=0,f=n[g][0];for(var v=0;v<l;v++)f==n[g][v]?p++:("1"==f&&(h+=m.replace("&W",p*s).replace("&X",(v-p)*s).replace("&Y",g*a)),f=n[g][v],p=1);p>0&&"1"==f&&(h+=m.replace("&W",p*s).replace("&X",(l-p)*s).replace("&Y",g*a))}i.showHRI&&(h+='<g transform="translate('+Math.floor(c/2)+' 0)">',h+='<text y="'+(d-Math.floor(u/2))+'" text-anchor="middle" style="font-family: Arial; font-size: '+u+'px;" fill="'+i.color+'">'+o+"</text>",h+="</g>"),h+="</svg>";var b=document.createElement("object");b.setAttribute("type","image/svg+xml"),b.setAttribute("data","data:image/svg+xml,"+h),this.resize(e,c).append(b)},digitToSvg:function(e,i,n,o){var s=t.intval(i.barWidth),a=t.intval(i.barHeight);this.digitToSvgRenderer(e,i,this.bitStringTo2DArray(n),o,s,a)},digitToSvg2D:function(e,i,n,o){var s=t.intval(i.moduleSize);this.digitToSvgRenderer(e,i,n,o,s,s)},digitToCanvasRenderer:function(e,t,i,n,o,s,a,r){var l=e.get(0);if(l&&l.getContext){var c=i.length,d=i[0].length,u=l.getContext("2d");u.lineWidth=1,u.lineCap="butt",u.fillStyle=t.bgColor,u.fillRect(o,s,d*a,c*r),u.fillStyle=t.color;for(var h=0;h<c;h++){for(var p=0,f=i[h][0],m=0;m<d;m++)f==i[h][m]?p++:("1"==f&&u.fillRect(o+(m-p)*a,s+h*r,a*p,r),f=i[h][m],p=1);p>0&&"1"==f&&u.fillRect(o+(d-p)*a,s+h*r,a*p,r)}if(t.showHRI){var g=u.measureText(n);u.fillText(n,o+Math.floor((d*a-g.width)/2),s+c*r+t.fontSize+t.marginHRI)}}},digitToCanvas:function(e,i,n,o){var s=t.intval(i.barWidth),a=t.intval(i.barHeight),r=t.intval(i.posX),l=t.intval(i.posY);this.digitToCanvasRenderer(e,i,this.bitStringTo2DArray(n),o,r,l,s,a)},digitToCanvas2D:function(e,i,n,o){var s=t.intval(i.moduleSize),a=t.intval(i.posX),r=t.intval(i.posY);this.digitToCanvasRenderer(e,i,n,o,a,r,s,s)}};e.fn.extend({barcode:function(i,n,o){var s="",a="",r="",l=!0,c=!1,d=!1;if("string"==typeof i?r=i:"object"==typeof i&&(r="string"==typeof i.code?i.code:"",l=void 0===i.crc||i.crc,c=void 0!==i.rect&&i.rect),""==r)return!1;void 0===o&&(o=[]);for(var u in t.settings)void 0==o[u]&&(o[u]=t.settings[u]);switch(n){case"std25":case"int25":s=t.i25.getDigit(r,l,n),a=t.i25.compute(r,l,n);break;case"ean8":case"ean13":s=t.ean.getDigit(r,n),a=t.ean.compute(r,n);break;case"upc":s=t.upc.getDigit(r),a=t.upc.compute(r);break;case"code11":s=t.code11.getDigit(r),a=r;break;case"code39":s=t.code39.getDigit(r),a=r;break;case"code93":s=t.code93.getDigit(r,l),a=r;break;case"code128":s=t.code128.getDigit(r),a=r;break;case"codabar":s=t.codabar.getDigit(r),a=r;break;case"msi":s=t.msi.getDigit(r,l),a=t.msi.compute(r,l);break;case"datamatrix":s=t.datamatrix.getDigit(r,c),a=r,d=!0}if(0==s.length)return e(this);!d&&o.addQuietZone&&(s="0000000000"+s+"0000000000");var h=e(this),p="digitTo"+o.output.charAt(0).toUpperCase()+o.output.substr(1)+(d?"2D":"");return"function"==typeof t[p]&&t[p](h,o,s,a),h}})}(jQuery),function(e){e.fn.flexisel=function(t){var i,n,o,s,a=e.extend({visibleItems:4,itemsToScroll:3,animationSpeed:400,infinite:!0,navigationTargetSelector:null,autoPlay:{enable:!1,interval:5e3,pauseOnHover:!0},responsiveBreakpoints:{portrait:{changePoint:480,visibleItems:1,itemsToScroll:1},landscape:{changePoint:640,visibleItems:2,itemsToScroll:2},tablet:{changePoint:768,visibleItems:3,itemsToScroll:3}}},t),r=e(this),l=e.extend(a,t),c=!0,d=l.visibleItems,u=l.itemsToScroll,h=[],p={init:function(){return this.each(function(){p.appendHTML(),p.setEventHandlers(),p.initializeItems()})},initializeItems:function(){var t=l.responsiveBreakpoints;for(var o in t)h.push(t[o]);h.sort(function(e,t){return e.changePoint-t.changePoint});var s=r.children();i=p.getCurrentItemWidth(),n=s.length,s.width(i),r.css({left:-i*(d+1)}),r.fadeIn(),e(window).trigger("resize")},appendHTML:function(){if(r.addClass("nbs-flexisel-ul"),r.wrap("<div class='nbs-flexisel-container'><div class='nbs-flexisel-inner'></div></div>"),r.find("li").addClass("nbs-flexisel-item"),l.navigationTargetSelector&&e(l.navigationTargetSelector).length>0?e("<div class='nbs-flexisel-nav-left'></div><div class='nbs-flexisel-nav-right'></div>").appendTo(l.navigationTargetSelector):(l.navigationTargetSelector=r.parent(),e("<div class='nbs-flexisel-nav-left'></div><div class='nbs-flexisel-nav-right'></div>").insertAfter(r)),l.infinite){var t=r.children(),i=t.clone(),n=t.clone();r.prepend(i),r.append(n)}},setEventHandlers:function(){var t=r.children();e(window).on("resize",function(n){clearTimeout(o),o=setTimeout(function(){p.calculateDisplay(),i=p.getCurrentItemWidth(),t.width(i),l.infinite?r.css({left:-i*Math.floor(t.length/2)}):(p.clearDisabled(),e(l.navigationTargetSelector).find(".nbs-flexisel-nav-left").addClass("disabled"),r.css({left:0}))},100)}),e(l.navigationTargetSelector).find(".nbs-flexisel-nav-left").on("click",function(e){p.scroll(!0)}),e(l.navigationTargetSelector).find(".nbs-flexisel-nav-right").on("click",function(e){p.scroll(!1)}),l.autoPlay.enable&&(p.setAutoplayInterval(),!0===l.autoPlay.pauseOnHover&&r.on({mouseenter:function(){c=!1},mouseleave:function(){c=!0}})),r[0].addEventListener("touchstart",p.touchHandler.handleTouchStart,!1),r[0].addEventListener("touchmove",p.touchHandler.handleTouchMove,!1)},calculateDisplay:function(){var t=e("html").width(),i=h[h.length-1].changePoint;for(var n in h){if(t>=i){d=l.visibleItems,u=l.itemsToScroll;break}if(t<h[n].changePoint){d=h[n].visibleItems,u=h[n].itemsToScroll;break}}},scroll:function(e){if(void 0===e&&(e=!0),1==c){if(c=!1,i=p.getCurrentItemWidth(),l.autoPlay.enable&&clearInterval(s),l.infinite)r.animate({left:e?"+="+i*u:"-="+i*u},l.animationSpeed,function(){c=!0,e?p.offsetItemsToBeginning(u):p.offsetItemsToEnd(u),p.offsetSliderPosition(e)});else{var t=i*u;e?r.animate({left:p.calculateNonInfiniteLeftScroll(t)},l.animationSpeed,function(){c=!0}):r.animate({left:p.calculateNonInfiniteRightScroll(t)},l.animationSpeed,function(){c=!0})}l.autoPlay.enable&&p.setAutoplayInterval()}},touchHandler:{xDown:null,yDown:null,handleTouchStart:function(e){this.xDown=e.touches[0].clientX,this.yDown=e.touches[0].clientY},handleTouchMove:function(e){if(this.xDown&&this.yDown){var t=e.touches[0].clientX,i=e.touches[0].clientY,n=this.xDown-t;this.yDown;Math.abs(n)>0&&(n>0?p.scroll(!1):p.scroll(!0)),this.xDown=null,this.yDown=null,c=!0}}},getCurrentItemWidth:function(){return r.parent().width()/d},offsetItemsToBeginning:function(e){void 0===e&&(e=1);for(var t=0;t<e;t++)r.children().last().insertBefore(r.children().first())},offsetItemsToEnd:function(e){void 0===e&&(e=1);for(var t=0;t<e;t++)r.children().first().insertAfter(r.children().last())},offsetSliderPosition:function(e){var t=parseInt(r.css("left").replace("px",""));e?t-=i*u:t+=i*u,r.css({left:t})},getOffsetPosition:function(){return parseInt(r.css("left").replace("px",""))},calculateNonInfiniteLeftScroll:function(t){return p.clearDisabled(),p.getOffsetPosition()+t>=0?(e(l.navigationTargetSelector).find(".nbs-flexisel-nav-left").addClass("disabled"),0):p.getOffsetPosition()+t},calculateNonInfiniteRightScroll:function(t){p.clearDisabled();var o=n*i-d*i;return p.getOffsetPosition()-t<=-o?(e(l.navigationTargetSelector).find(".nbs-flexisel-nav-right").addClass("disabled"),-o):p.getOffsetPosition()-t},setAutoplayInterval:function(){s=setInterval(function(){c&&p.scroll(!1)},l.autoPlay.interval)},clearDisabled:function(){var t=e(l.navigationTargetSelector);t.find(".nbs-flexisel-nav-left").removeClass("disabled"),t.find(".nbs-flexisel-nav-right").removeClass("disabled")}};return p[t]?p[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error('Method "'+method+'" does not exist in flexisel plugin!'):p.init.apply(this)}}(jQuery),function(e){function t(t){var i=t.data,n=i.repeatCount+1,o=i.groupClone.clone();return e.isFunction(i.opts.beforeAdd)&&(o=i.opts.beforeAdd.call(this,o)),i.opts.maxItems>0&&i.repeatCount==i.opts.maxItems?(alert("You have hit the maximum allowable items."),!1):(a(o,n,i),o.find("."+i.opts.btnRemoveClass).show(),"append"==i.opts.repeatMode?o.appendTo(i):"prepend"==i.opts.repeatMode?o.prependTo(i):"insertAfterLast"==i.opts.repeatMode&&o.insertAfter(i.find("."+i.opts.groupClass).last()),i.repeatCount++,e.isFunction(i.opts.afterAdd)&&i.opts.afterAdd.call(this,o),!1)}function i(t){var i=e(this),n=t.data,o=n.find("."+n.opts.groupClass);if(numRepeaters=o.length,numRepeaters<=n.opts.minItems)return!1;if(!(a=i.closest("."+n.opts.groupClass)).length)if("append"==n.opts.repeatMode)a=o.filter(":last");else if("prepend"==n.opts.repeatMode)a=o.filter(":first");else if("insertAfterLast"==n.opts.repeatMode)var a=o.filter(":last");return a.length&&(n.opts.animation?"slide"==n.opts.animation?a.slideUp(n.opts.animationSpeed,n.opts.animationEasing,function(){s(a,n)}):"fade"==n.opts.animation?a.fadeOut(n.opts.animationSpeed,n.opts.animationEasing,function(){s(a,n)}):"object"==typeof n.opts.animation&&a.animate(n.opts.animation,n.opts.animationSpeed,n.opts.animationEasing,function(){s(a,n)}):s(a,n)),!1}function n(e,t,i,n){var o=t;if(i=parseInt(i),e){if(e.indexOf("+=")>-1){var s=e.match(/\+=(\d+)/i);if(s&&s.length&&s[1]){var a=parseInt(s[1]);o=e.replace(/\+=(\d)+/i,n.opts.startingIndex+i+a)}}e.indexOf("++")>-1&&(o=e.replace(/\+\+/gi,n.opts.startingIndex+i))}return o}function o(t){var i,n=t.find("."+t.opts.groupClass),o=t.opts.startingIndex;n.each(function(){a(i=e(this),o,t),o++})}function s(t,i){e.isFunction(i.opts.beforeDelete)&&i.opts.beforeDelete.call(this,t),t.remove(),i.repeatCount&&i.repeatCount--,o(i),e.isFunction(i.opts.afterDelete)&&i.opts.afterDelete.call(this,t)}function a(t,i,o){var s,a,r,l,c,d,u,h,p=t.find(":input");return p.length&&p.each(function(){h=e(this),(s=h.data("pattern-name"))&&(c=h.attr("name"),c=n(s,c,i,o),h.attr("name",c)),(a=h.data("pattern-id"))&&(l=h.attr("id"),l=n(a,l,i,o),h.attr("id",l)),$label=t.find("label[for="+h.attr("id")+"]"),$label.length||($label=h.parent("label")),$label.length||($label=h.siblings("label")),$label.length&&($label=$label.eq(0),r=$label.data("pattern-text"),(d=$label.html())&&(d=n(r,d,i,o),$label.html(d)),(u=$label.attr("for"))&&l&&$label.attr("for",l))}),t}e.fn.repeater=function(o,s){var a,r,l,c,d,u,h,p,f,m,g,v,b,y,w=e(this);if(w.opts=e.extend({},e.fn.repeater.defaults,o),w.repeatCount=0,!w.find("."+w.opts.btnAddClass).length)return alert("You must specify a valid jQuery selector for the add button option in Form Repeater."),!1;if(w.group=e("."+w.opts.groupClass),!w.group.length)return alert("You must specify a valid jQuery selector for the form element grouping option in Form Repeater."),!1;if((a=w.group.find("."+w.opts.btnRemoveClass)).length?a.hide():(a=e('<button type="button" name="rBtnRemove" class="'+w.opts.btnRemoveClass+'" style="display:none" />')).appendTo(w),w.group=w.group.eq(0),w.groupClone=w.group.clone(),w.delegate("."+w.opts.btnRemoveClass,"click",w,i),w.delegate("."+w.opts.btnAddClass,"click",w,t),s&&s.length){for(v in s)b=w.groupClone.clone(),e.isFunction(w.opts.beforeAdd)&&(b=w.opts.beforeAdd.call(this,b)),(y=b.find(":input")).length&&y.each(function(){f=e(this),m=f.data("name"),void 0!==s[v][m]?f.val(s[v][m]):f.val(""),(r=f.data("pattern-name"))&&(u=f.attr("name"),u=n(r,u,v,w),f.attr("name",u)),(l=f.data("pattern-id"))&&(d=f.attr("id"),d=n(l,d,v,w),f.attr("id",d)),(g=b.find("label[for="+f.attr("id")+"]")).length||(g=f.parent("label")),g.length||(g=f.siblings("label")),g.length&&(g=g.eq(0),c=g.data("pattern-text"),(h=g.html())&&(h=n(c,h,v,w),g.html(h)),(p=g.attr("for"))&&d&&g.attr("for",d))}),b.insertAfter(e("."+w.opts.groupClass).last()),w.group&&(w.group.remove(),w.group=null),e.isFunction(w.opts.afterAdd)&&w.opts.afterAdd.call(this,b);e("."+w.opts.groupClass+" ."+w.opts.btnRemoveClass).show()}return this}}(jQuery),$.fn.repeater.defaults={groupClass:"r-group",btnAddClass:"r-btnAdd",btnRemoveClass:"r-btnRemove",minItems:1,maxItems:0,startingIndex:0,reindexOnDelete:!0,repeatMode:"insertAfterLast",animation:null,animationSpeed:400,animationEasing:"swing",clearValues:!0,beforeAdd:function(e){return e},afterAdd:function(e){},beforeDelete:function(e){},afterDelete:function(){}},function(){function e(e){for(var t,i,n=e.css("color"),e=e[0],o=!1;e&&!i&&!o;){try{t=$(e).css("background-color")}catch(e){t="transparent"}"transparent"!==t&&"rgba(0, 0, 0, 0)"!==t&&(i=t),o=e.body,e=e.parentNode}var s,e=/rgb[a]*\((\d+),\s*(\d+),\s*(\d+)/,o=/#([AaBbCcDdEeFf\d]{2})([AaBbCcDdEeFf\d]{2})([AaBbCcDdEeFf\d]{2})/;t=void 0,(t=n.match(e))?s={r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}:(t=n.match(o))&&(s={r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)});var a;return i?(t=void 0,(t=i.match(e))?a={r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}:(t=i.match(o))&&(a={r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)})):a=s&&127<Math.max.apply(null,[s.r,s.g,s.b])?{r:0,g:0,b:0}:{r:255,g:255,b:255},t=function(e){return"rgb("+[e.r,e.g,e.b].join(", ")+")"},s&&a?(e=Math.max.apply(null,[s.r,s.g,s.b]),s=Math.max.apply(null,[a.r,a.g,a.b]),s=Math.round(s+-.75*(s-e)),s={r:s,g:s,b:s}):s?(s=Math.max.apply(null,[s.r,s.g,s.b]),e=1,127<s&&(e=-1),s=Math.round(s+96*e),s={r:s,g:s,b:s}):s={r:191,g:191,b:191},{color:n,"background-color":a?t(a):i,"decor-color":t(s)}}function t(e,t){this.x=e,this.y=t,this.reverse=function(){return new this.constructor(-1*this.x,-1*this.y)},this._length=null,this.getLength=function(){return this._length||(this._length=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))),this._length};var i=function(e){return Math.round(e/Math.abs(e))};this.resizeTo=function(e){if(0===this.x&&0===this.y)this._length=0;else if(0===this.x)this._length=e,this.y=e*i(this.y);else if(0===this.y)this._length=e,this.x=e*i(this.x);else{var t=Math.abs(this.y/this.x),n=Math.sqrt(Math.pow(e,2)/(1+Math.pow(t,2))),t=t*n;this._length=e,this.x=n*i(this.x),this.y=t*i(this.y)}return this},this.angleTo=function(e){var t=this.getLength()*e.getLength();return 0===t?0:Math.acos(Math.min(Math.max((this.x*e.x+this.y*e.y)/t,-1),1))/Math.PI}}function i(e,i){this.x=e,this.y=i,this.getVectorToCoordinates=function(e,i){return new t(e-this.x,i-this.y)},this.getVectorFromCoordinates=function(e,t){return this.getVectorToCoordinates(e,t).reverse()},this.getVectorToPoint=function(e){return new t(e.x-this.x,e.y-this.y)},this.getVectorFromPoint=function(e){return this.getVectorToPoint(e).reverse()}}function n(e,t,i,n,o){if(this.data=e,this.context=t,e.length)for(var s,a,r=e.length,l=0;l<r;l++){a=(s=e[l]).x.length,i.call(t,s);for(var c=1;c<a;c++)n.call(t,s,c);o.call(t,s)}this.changed=function(){},this.startStrokeFn=i,this.addToStrokeFn=n,this.endStrokeFn=o,this.inStroke=!1,this._stroke=this._lastPoint=null,this.startStroke=function(e){if(e&&"number"==typeof e.x&&"number"==typeof e.y){this._stroke={x:[e.x],y:[e.y]},this.data.push(this._stroke),this._lastPoint=e,this.inStroke=!0;var t=this._stroke,i=this.startStrokeFn,n=this.context;return setTimeout(function(){i.call(n,t)},3),e}return null},this.addToStroke=function(e){if(this.inStroke&&"number"==typeof e.x&&"number"==typeof e.y&&4<Math.abs(e.x-this._lastPoint.x)+Math.abs(e.y-this._lastPoint.y)){var t=this._stroke.x.length;this._stroke.x.push(e.x),this._stroke.y.push(e.y),this._lastPoint=e;var i=this._stroke,n=this.addToStrokeFn,o=this.context;return setTimeout(function(){n.call(o,i,t)},3),e}return null},this.endStroke=function(){var e=this.inStroke;if(this.inStroke=!1,this._lastPoint=null,e){var t=this._stroke,i=this.endStrokeFn,n=this.context,o=this.changed;return setTimeout(function(){i.call(n,t),o.call(n)},3),!0}return null}}function o(t,n,o){var l=this.$parent=$(t),t=this.eventTokens={};this.events=new r(this);var c=$.fn[s]("globalEvents"),d={width:"ratio",height:"ratio",sizeRatio:4,color:"#000","background-color":"#fff","decor-color":"#eee",lineWidth:0,minFatFingerCompensation:-10,showUndoButton:!1,data:[]};$.extend(d,e(l)),n&&$.extend(d,n),this.settings=d;for(var u in o)o.hasOwnProperty(u)&&o[u].call(this,u);this.events.publish(s+".initializing"),this.$controlbarUpper=$('<div style="padding:0 !important;margin:0 !important;width: 100% !important; height: 0 !important;margin-top:-1em !important;margin-bottom:1em !important;"></div>').appendTo(l),this.isCanvasEmulator=!1,o=this.canvas=this.initializeCanvas(d),n=$(o),this.$controlbarLower=$('<div style="padding:0 !important;margin:0 !important;width: 100% !important; height: 0 !important;margin-top:-1.5em !important;margin-bottom:1.5em !important;"></div>').appendTo(l),this.canvasContext=o.getContext("2d"),n.data(s+".this",this),l=(l=d.lineWidth)?l:Math.max(Math.round(o.width/400),2),d.lineWidth=l,this.lineCurveThreshold=3*d.lineWidth,d.cssclass&&""!=$.trim(d.cssclass)&&n.addClass(d.cssclass),this.fatFingerCompensation=0;var h=(l=function(e){var t,n,o=function(o){return o=o.changedTouches&&0<o.changedTouches.length?o.changedTouches[0]:o,new i(Math.round(o.pageX+t),Math.round(o.pageY+n)+e.fatFingerCompensation)},s=new a(750,function(){e.dataEngine.endStroke()});return this.drawEndHandler=function(t){try{t.preventDefault()}catch(e){}s.clear(),e.dataEngine.endStroke()},this.drawStartHandler=function(i){i.preventDefault();var a=$(e.canvas).offset();t=-1*a.left,n=-1*a.top,e.dataEngine.startStroke(o(i)),s.kick()},this.drawMoveHandler=function(t){t.preventDefault(),e.dataEngine.inStroke&&(e.dataEngine.addToStroke(o(t)),s.kick())},this}.call({},this)).drawEndHandler,p=l.drawStartHandler,f=l.drawMoveHandler,m=this.canvas,n=$(m);this.isCanvasEmulator?(n.bind("mousemove."+s,f),n.bind("mouseup."+s,h),n.bind("mousedown."+s,p)):(m.ontouchstart=function(e){m.onmousedown=void 0,m.onmouseup=void 0,m.onmousemove=void 0,this.fatFingerCompensation=d.minFatFingerCompensation&&-3*d.lineWidth>d.minFatFingerCompensation?-3*d.lineWidth:d.minFatFingerCompensation,p(e),m.ontouchend=h,m.ontouchstart=p,m.ontouchmove=f},m.onmousedown=function(e){m.ontouchstart=void 0,m.ontouchend=void 0,m.ontouchmove=void 0,p(e),m.onmousedown=p,m.onmouseup=h,m.onmousemove=f}),t[s+".windowmouseup"]=c.subscribe(s+".windowmouseup",l.drawEndHandler),this.events.publish(s+".attachingEventHandlers");var g=this,t=d.width.toString(10),v=s;return"ratio"!==t&&"%"!==t.split("")[t.length-1]||(this.eventTokens[v+".parentresized"]=c.subscribe(v+".parentresized",function(e,t,i){return function(){if((h=t.width())!==i){for(var n in e)e.hasOwnProperty(n)&&(c.unsubscribe(e[n]),delete e[n]);var o=g.settings;g.$parent.children().remove();for(n in g)g.hasOwnProperty(n)&&delete g[n];n=o.data;var s,a,r,l,d,u,h=1*h/i,p=[];for(a=0,r=n.length;a<r;a++){for(s={x:[],y:[]},l=0,d=(u=n[a]).x.length;l<d;l++)s.x.push(u.x[l]*h),s.y.push(u.y[l]*h);p.push(s)}o.data=p,t[v](o)}}}(this.eventTokens,this.$parent,this.$parent.width(),(this.canvas.width,this.canvas.height)))),this.resetCanvas(d.data),this.events.publish(s+".initialized"),this}var s="jSignature",a=function(e,t){var i;return this.kick=function(){clearTimeout(i),i=setTimeout(t,e)},this.clear=function(){clearTimeout(i)},this},r=function(e){this.topics={},this.context=e||this,this.publish=function(e,t,i,n){if(this.topics[e]){var o,s,a,r,l=this.topics[e],c=Array.prototype.slice.call(arguments,1),d=[];for(s=0,a=l.length;s<a;s++)r=l[s],o=r[0],r[1]&&(r[0]=function(){},d.push(s)),o.apply(this.context,c);for(s=0,a=d.length;s<a;s++)l.splice(d[s],1)}},this.subscribe=function(e,t,i){return this.topics[e]?this.topics[e].push([t,i]):this.topics[e]=[[t,i]],{topic:e,callback:t}},this.unsubscribe=function(e){if(this.topics[e.topic])for(var t=this.topics[e.topic],i=0,n=t.length;i<n;i++)t[i][0]===e.callback&&t.splice(i,1)}},l=function(e){var t=this.canvasContext,i=e.x[0],e=e.y[0],n=this.settings.lineWidth,o=t.fillStyle;t.fillStyle=t.strokeStyle,t.fillRect(i+n/-2,e+n/-2,n,n),t.fillStyle=o},c=function(e,n){var o=new i(e.x[n-1],e.y[n-1]),s=new i(e.x[n],e.y[n]),a=o.getVectorToPoint(s);if(1<n){var r;if((h=(m=new i(e.x[n-2],e.y[n-2])).getVectorToPoint(o)).getLength()>this.lineCurveThreshold){r=2<n?new i(e.x[n-3],e.y[n-3]).getVectorToPoint(m):new t(0,0);var l=.35*h.getLength(),c=h.angleTo(r.reverse()),d=a.angleTo(h.reverse());r=new t(r.x+h.x,r.y+h.y).resizeTo(Math.max(.05,c)*l);var u=new t(h.x+a.x,h.y+a.y).reverse().resizeTo(Math.max(.05,d)*l),h=this.canvasContext,l=m.x,d=m.y,c=o.x,p=o.y,f=m.x+r.x,m=m.y+r.y;r=o.x+u.x,u=o.y+u.y,h.beginPath(),h.moveTo(l,d),h.bezierCurveTo(f,m,r,u,c,p),h.stroke()}}a.getLength()<=this.lineCurveThreshold&&(a=this.canvasContext,m=o.x,o=o.y,r=s.x,s=s.y,a.beginPath(),a.moveTo(m,o),a.lineTo(r,s),a.stroke())},d=function(e){if(0<(s=e.x.length-1)){d=new i(e.x[s],e.y[s]);if((o=(c=new i(e.x[s-1],e.y[s-1])).getVectorToPoint(d)).getLength()>this.lineCurveThreshold){if(1<s){var n=new t((e=new i(e.x[s-2],e.y[s-2]).getVectorToPoint(c)).x+o.x,e.y+o.y).resizeTo(o.getLength()/2),o=this.canvasContext,e=c.x,s=c.y,a=d.x,r=d.y,l=c.x+n.x,c=c.y+n.y,n=d.x,d=d.y;o.beginPath(),o.moveTo(e,s),o.bezierCurveTo(l,c,n,d,a,r)}else o=this.canvasContext,e=c.x,c=c.y,s=d.x,d=d.y,o.beginPath(),o.moveTo(e,c),o.lineTo(s,d);o.stroke()}}};o.prototype.resetCanvas=function(e){var t=this.canvas,i=this.settings,o=this.canvasContext,a=this.isCanvasEmulator,r=t.width,u=t.height;o.clearRect(0,0,r+30,u+30),o.shadowColor=o.fillStyle=i["background-color"],a&&o.fillRect(0,0,r+30,u+30),o.lineWidth=Math.ceil(parseInt(i.lineWidth,10)),o.lineCap=o.lineJoin="round",o.strokeStyle=i["decor-color"],o.shadowOffsetX=0,o.shadowOffsetY=0;var h=Math.round(u/5),p=1.5*h,f=u-h,r=r-1.5*h,u=u-h;o.beginPath(),o.moveTo(p,f),o.lineTo(r,u),o.stroke(),o.strokeStyle=i.color,a||(o.shadowColor=o.strokeStyle,o.shadowOffsetX=.5*o.lineWidth,o.shadowOffsetY=-.6*o.lineWidth,o.shadowBlur=0),e||(e=[]),o=this.dataEngine=new n(e,this,l,c,d),i.data=e,$(t).data(s+".data",e).data(s+".settings",i);var m=this.$parent,g=this.events,v=s;return o.changed=function(){g.publish(v+".change"),m.trigger("change")},o.changed(),!0},o.prototype.initializeCanvas=function(e){var t=document.createElement("canvas"),i=$(t);if(e.width===e.height&&"ratio"===e.height&&(e.width="100%"),i.css("margin",0).css("padding",0).css("border","none").css("height","ratio"!==e.height&&e.height?e.height.toString(10):1).css("width","ratio"!==e.width&&e.width?e.width.toString(10):1),i.appendTo(this.$parent),"ratio"===e.height?i.css("height",Math.round(i.width()/e.sizeRatio)):"ratio"===e.width&&i.css("width",Math.round(i.height()*e.sizeRatio)),i.addClass(s),t.width=i.width(),t.height=i.height(),(e=t).getContext)e=!1;else{var n=(i=e.ownerDocument.parentWindow).FlashCanvas?e.ownerDocument.parentWindow.FlashCanvas:"undefined"==typeof FlashCanvas?void 0:FlashCanvas;if(!n)throw Error("Canvas element does not support 2d context. jSignature cannot proceed.");if(e=n.initElement(e),n=1,i&&i.screen&&i.screen.deviceXDPI&&i.screen.logicalXDPI&&(n=1*i.screen.deviceXDPI/i.screen.logicalXDPI),1!==n)try{$(e).children("object").get(0).resize(Math.ceil(e.width*n),Math.ceil(e.height*n)),e.getContext("2d").scale(n,n)}catch(e){}e=!0}return this.isCanvasEmulator=e,t.onselectstart=function(e){return e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),!1},t};var u,h=window,p=function(e,t){var i=new Image,n=this;i.onload=function(){n.getContext("2d").drawImage(i,0,0,i.width<n.width?i.width:n.width,i.height<n.height?i.height:n.height)},i.src="data:"+t+","+e},f=function(e){return this.find("canvas."+s).add(this.filter("canvas."+s)).data(s+".this").resetCanvas(e),this},m=function(e,t){if(void 0!==t||"string"!=typeof e||"data:"!==e.substr(0,5)||(t=e.slice(5).split(",")[0],e=e.slice(6+t.length),t!==e)){var i=this.find("canvas."+s).add(this.filter("canvas."+s));if(!x.hasOwnProperty(t))throw Error(s+" is unable to find import plugin with for format '"+String(t)+"'");return 0!==i.length&&x[t].call(i[0],e,t,function(e){return function(){return e.resetCanvas.apply(e,arguments)}}(i.data(s+".this"))),this}},g=new r,v=s,b=function(){g.publish(v+".parentresized")};$(h).bind("resize."+v,function(){u&&clearTimeout(u),u=setTimeout(b,500)}).bind("mouseup."+v,function(){g.publish(v+".windowmouseup")});var y={},w={default:function(){return this.toDataURL()},native:function(e){return e},image:function(){var e=this.toDataURL();if("string"==typeof e&&4<e.length&&"data:"===e.slice(0,5)&&-1!==e.indexOf(",")){var t=e.indexOf(",");return[e.slice(5,t),e.substr(t+1)]}return[]}},x={native:function(e,t,i){i(e)},image:p,"image/png;base64":p,"image/jpeg;base64":p,"image/jpg;base64":p},k={export:w,import:x,instance:y},C={init:function(e){return this.each(function(){var t,i=!1;for(t=this.parentNode;t&&!i;)i=t.body,t=t.parentNode;!i||new o(this,e,y)})},getSettings:function(){return this.find("canvas."+s).add(this.filter("canvas."+s)).data(s+".this").settings},clear:f,reset:f,addPlugin:function(e,t,i){return k.hasOwnProperty(e)&&(k[e][t]=i),this},listPlugins:function(e){var t=[];if(k.hasOwnProperty(e)){var i,e=k[e];for(i in e)e.hasOwnProperty(i)&&t.push(i)}return t},getData:function(e){var t=this.find("canvas."+s).add(this.filter("canvas."+s));if(void 0===e&&(e="default"),0!==t.length&&w.hasOwnProperty(e))return w[e].call(t.get(0),t.data(s+".data"))},importData:m,setData:m,globalEvents:function(){return g},events:function(){return this.find("canvas."+s).add(this.filter("canvas."+s)).data(s+".this").events}};$.fn[s]=function(e){return e&&"object"!=typeof e?"string"==typeof e&&C[e]?C[e].apply(this,Array.prototype.slice.call(arguments,1)):void $.error("Method "+String(e)+" does not exist on jQuery."+s):C.init.apply(this,arguments)}}(),$.fn.jSignature("addPlugin","instance","UndoButton",function(e){this.events.subscribe("jSignature.attachingEventHandlers",function(){if(this.settings[e]){var t=this.settings[e];"function"!=typeof t&&(t=function(){var e=$('<input type="button" value="Undo last stroke" style="position:absolute;display:none;margin:0 !important;top:auto" />').appendTo(this.$controlbarLower),t=e.width();return e.css("left",Math.round((this.canvas.width-t)/2)),t!==e.width()&&e.width(t),e});var i=t.call(this),n=this;n.events.subscribe("jSignature.change",function(){n.dataEngine.data.length?i.show():i.hide()});var o=this,s=(this.events.topics.hasOwnProperty("jSignature.undo")?e:"jSignature")+".undo";i.bind("click",function(){o.events.publish(s)}),o.events.subscribe(s,function(){var e=o.dataEngine.data;e.length&&(e.pop(),o.resetCanvas(e))})}})}),function(){for(var e={},t={},i=(c="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWX".split("")).length/2,n=i-1;-1<n;n--)e[c[n]]=c[n+i],t[c[n+i]]=c[n];var o=function(t){for(var i=(t=t.split("")).length,n=1;n<i;n++)t[n]=e[t[n]];return t.join("")},s=function(e){for(var t,n,s=[],a=0,r=1,l=e.length,c=0;c<l;c++)t=Math.round(e[c]),n=t-a,a=t,0>n&&0<r?(r=-1,s.push("Z")):0<n&&0>r&&(r=1,s.push("Y")),(t=Math.abs(n))>=i?s.push(o(t.toString(i))):s.push(t.toString(i));return s.join("")},a=function(n){for(var o,s=[],a=(n=n.split("")).length,r=1,l=[],c=0,d=0;d<a;d++)(o=n[d])in e||"Z"===o||"Y"===o?(0!==l.length&&(l=parseInt(l.join(""),i)*r+c,s.push(l),c=l),"Z"===o?(r=-1,l=[]):"Y"===o?(r=1,l=[]):l=[o]):l.push(t[o]);return s.push(parseInt(l.join(""),i)*r+c),s},r=function(e){for(var t,i=[],n=e.length,o=0;o<n;o++)t=e[o],i.push(s(t.x)),i.push(s(t.y));return i.join("_")},l=function(e){for(var t=[],i=(e=e.split("_")).length/2,n=0;n<i;n++)t.push({x:a(e[2*n]),y:a(e[2*n+1])});return t},c=function(e){return["image/jsignature;base30",r(e)]},n=function(e,t,i){"string"==typeof e&&("image/jsignature;base30"===e.substring(0,23).toLowerCase()&&(e=e.substring(24)),i(l(e)))};if(null==this.jQuery)throw Error("We need jQuery for some of the functionality. jQuery is not detected. Failing to initialize...");var d=this.jQuery.fn.jSignature;d("addPlugin","export","base30",c),d("addPlugin","export","image/jsignature;base30",c),d("addPlugin","import","base30",n),d("addPlugin","import","image/jsignature;base30",n),this.jSignatureDebug&&(this.jSignatureDebug.base30={remapTailChars:o,compressstrokeleg:s,uncompressstrokeleg:a,compressstrokes:r,uncompressstrokes:l,charmap:e})}.call("undefined"!=typeof window?window:this),function(){function e(e,t){this.x=e,this.y=t,this.reverse=function(){return new this.constructor(-1*this.x,-1*this.y)},this._length=null,this.getLength=function(){return this._length||(this._length=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))),this._length};var i=function(e){return Math.round(e/Math.abs(e))};this.resizeTo=function(e){if(0===this.x&&0===this.y)this._length=0;else if(0===this.x)this._length=e,this.y=e*i(this.y);else if(0===this.y)this._length=e,this.x=e*i(this.x);else{var t=Math.abs(this.y/this.x),n=Math.sqrt(Math.pow(e,2)/(1+Math.pow(t,2))),t=t*n;this._length=e,this.x=n*i(this.x),this.y=t*i(this.y)}return this},this.angleTo=function(e){var t=this.getLength()*e.getLength();return 0===t?0:Math.acos(Math.min(Math.max((this.x*e.x+this.y*e.y)/t,-1),1))/Math.PI}}function t(t,i){this.x=t,this.y=i,this.getVectorToCoordinates=function(t,i){return new e(t-this.x,i-this.y)},this.getVectorFromCoordinates=function(e,t){return this.getVectorToCoordinates(e,t).reverse()},this.getVectorToPoint=function(t){return new e(t.x-this.x,t.y-this.y)},this.getVectorFromPoint=function(e){return this.getVectorToPoint(e).reverse()}}function i(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i}function n(n,o,s){var o=o+1,a=new t(n.x[o-1],n.y[o-1]),r=new t(n.x[o],n.y[o]),r=a.getVectorToPoint(r),l=new t(n.x[o-2],n.y[o-2]);return(a=l.getVectorToPoint(a)).getLength()>s?(s=2<o?new t(n.x[o-3],n.y[o-3]).getVectorToPoint(l):new e(0,0),n=.35*a.getLength(),l=a.angleTo(s.reverse()),o=r.angleTo(a.reverse()),s=new e(s.x+a.x,s.y+a.y).resizeTo(Math.max(.05,l)*n),r=new e(a.x+r.x,a.y+r.y).reverse().resizeTo(Math.max(.05,o)*n),r=new e(a.x+r.x,a.y+r.y),["c",i(s.x,2),i(s.y,2),i(r.x,2),i(r.y,2),i(a.x,2),i(a.y,2)]):["l",i(a.x,2),i(a.y,2)]}function o(n,o){var s=n.x.length-1,a=new t(n.x[s],n.y[s]),a=(r=new t(n.x[s-1],n.y[s-1])).getVectorToPoint(a);if(1<s&&a.getLength()>o){var s=new t(n.x[s-2],n.y[s-2]).getVectorToPoint(r),r=a.angleTo(s.reverse()),l=.35*a.getLength();return["c",i((s=new e(s.x+a.x,s.y+a.y).resizeTo(Math.max(.05,r)*l)).x,2),i(s.y,2),i(a.x,2),i(a.y,2),i(a.x,2),i(a.y,2)]}return["l",i(a.x,2),i(a.y,2)]}function s(e,t,s){for(var t=["M",i(e.x[0]-t,2),i(e.y[0]-s,2)],s=1,a=e.x.length-1;s<a;s++)t.push.apply(t,n(e,s,1));return 0<a?t.push.apply(t,o(e,s,1)):0===a&&t.push.apply(t,["l",1,1]),t.join(" ")}function a(e){var t,i,n=['<?xml version="1.0" encoding="UTF-8" standalone="no"?>','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'],o=e.length,a=[],r=[],l=i=t=0,c=0,d=[];if(0!==o){for(t=0;t<o;t++){c=[],i={x:[],y:[]};for(var u=void 0,h=void 0,u=0,h=(l=e[t]).x.length;u<h;u++)c.push({x:l.x[u],y:l.y[u]});for(u=0,h=(c=simplify(c,.7,!0)).length;u<h;u++)i.x.push(c[u].x),i.y.push(c[u].y);d.push(i),a=a.concat(i.x),r=r.concat(i.y)}e=Math.min.apply(null,a)-1,o=Math.max.apply(null,a)+1,a=Math.min.apply(null,r)-1,r=Math.max.apply(null,r)+1,l=0>e?0:e,c=0>a?0:a,t=o-e,i=r-a}for(n.push('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+t.toString()+'" height="'+i.toString()+'">'),t=0,o=d.length;t<o;t++)i=d[t],n.push('<path fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="'+s(i,l,c)+'"/>');return n.push("</svg>"),n.join("")}function r(e){return[u,a(e)]}function l(e){return[h,d(a(e))]}var c=window;if(("undefined"!=typeof exports?exports:c).simplify=function(e,t,i){if(t=void 0!==t?t*t:1,!i){for(var n,o=e.length,s=[d=e[0]],i=1;i<o;i++){var a=(n=e[i]).x-d.x,r=n.y-d.y;a*a+r*r>t&&(s.push(n),d=n)}d!==n&&s.push(n),e=s}var l,c,d=0,s=(i=(n=e).length)-1,u=[],h=[],p=[];for((o=new("undefined"!=typeof Uint8Array?Uint8Array:Array)(i))[d]=o[s]=1;s;){for(r=0,a=d+1;a<s;a++){l=n[a];var f=n[d],m=n[s],g=f.x,v=f.y,f=m.x-g,b=m.y-v,y=void 0;0===f&&0===b||(1<(y=((l.x-g)*f+(l.y-v)*b)/(f*f+b*b))?(g=m.x,v=m.y):0<y&&(g+=f*y,v+=b*y)),(l=(f=l.x-g)*f+(b=l.y-v)*b)>r&&(c=a,r=l)}r>t&&(o[c]=1,u.push(d),h.push(c),u.push(c),h.push(s)),d=u.pop(),s=h.pop()}for(a=0;a<i;a++)o[a]&&p.push(n[a]);return e=p},"function"!=typeof d)var d=function(e){var t,i,n,o,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),a=0,r=0,l="",l=[];do{t=e.charCodeAt(a++),i=e.charCodeAt(a++),n=e.charCodeAt(a++),o=t<<16|i<<8|n,t=o>>18&63,i=o>>12&63,n=o>>6&63,o&=63,l[r++]=s[t]+s[i]+s[n]+s[o]}while(a<e.length);return l=l.join(""),((e=e.length%3)?l.slice(0,e-3):l)+"===".slice(e||3)};var u="image/svg+xml",h="image/svg+xml;base64";if("undefined"==typeof $)throw Error("We need jQuery for some of the functionality. jQuery is not detected. Failing to initialize...");(c=$.fn.jSignature)("addPlugin","export","svg",r),c("addPlugin","export",u,r),c("addPlugin","export","svgbase64",l),c("addPlugin","export",h,l)}(),function(e){!function(){function t(t){for(var i,n,o=t.css("color"),t=t[0],s=!1;t&&!n&&!s;){try{i=e(t).css("background-color")}catch(e){i="transparent"}"transparent"!==i&&"rgba(0, 0, 0, 0)"!==i&&(n=i),s=t.body,t=t.parentNode}var a,t=/rgb[a]*\((\d+),\s*(\d+),\s*(\d+)/,s=/#([AaBbCcDdEeFf\d]{2})([AaBbCcDdEeFf\d]{2})([AaBbCcDdEeFf\d]{2})/;i=void 0,(i=o.match(t))?a={r:parseInt(i[1],10),g:parseInt(i[2],10),b:parseInt(i[3],10)}:(i=o.match(s))&&(a={r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)});var r;return n?(i=void 0,(i=n.match(t))?r={r:parseInt(i[1],10),g:parseInt(i[2],10),b:parseInt(i[3],10)}:(i=n.match(s))&&(r={r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)})):r=a&&127<Math.max.apply(null,[a.r,a.g,a.b])?{r:0,g:0,b:0}:{r:255,g:255,b:255},i=function(e){return"rgb("+[e.r,e.g,e.b].join(", ")+")"},a&&r?(t=Math.max.apply(null,[a.r,a.g,a.b]),a=Math.max.apply(null,[r.r,r.g,r.b]),a=Math.round(a+-.75*(a-t)),a={r:a,g:a,b:a}):a?(a=Math.max.apply(null,[a.r,a.g,a.b]),t=1,127<a&&(t=-1),a=Math.round(a+96*t),a={r:a,g:a,b:a}):a={r:191,g:191,b:191},{color:o,"background-color":r?i(r):n,"decor-color":i(a)}}function i(e,t){this.x=e,this.y=t,this.reverse=function(){return new this.constructor(-1*this.x,-1*this.y)},this._length=null,this.getLength=function(){return this._length||(this._length=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))),this._length};var i=function(e){return Math.round(e/Math.abs(e))};this.resizeTo=function(e){if(0===this.x&&0===this.y)this._length=0;else if(0===this.x)this._length=e,this.y=e*i(this.y);else if(0===this.y)this._length=e,this.x=e*i(this.x);else{var t=Math.abs(this.y/this.x),n=Math.sqrt(Math.pow(e,2)/(1+Math.pow(t,2))),t=t*n;this._length=e,this.x=n*i(this.x),this.y=t*i(this.y)}return this},this.angleTo=function(e){var t=this.getLength()*e.getLength();return 0===t?0:Math.acos(Math.min(Math.max((this.x*e.x+this.y*e.y)/t,-1),1))/Math.PI}}function n(e,t){this.x=e,this.y=t,this.getVectorToCoordinates=function(e,t){return new i(e-this.x,t-this.y)},this.getVectorFromCoordinates=function(e,t){return this.getVectorToCoordinates(e,t).reverse()},this.getVectorToPoint=function(e){return new i(e.x-this.x,e.y-this.y)},this.getVectorFromPoint=function(e){return this.getVectorToPoint(e).reverse()}}function o(e,t,i,n,o){if(this.data=e,this.context=t,e.length)for(var s,a,r=e.length,l=0;l<r;l++){a=(s=e[l]).x.length,i.call(t,s);for(var c=1;c<a;c++)n.call(t,s,c);o.call(t,s)}this.changed=function(){},this.startStrokeFn=i,this.addToStrokeFn=n,this.endStrokeFn=o,this.inStroke=!1,this._stroke=this._lastPoint=null,this.startStroke=function(e){if(e&&"number"==typeof e.x&&"number"==typeof e.y){this._stroke={x:[e.x],y:[e.y]},this.data.push(this._stroke),this._lastPoint=e,this.inStroke=!0;var t=this._stroke,i=this.startStrokeFn,n=this.context;return setTimeout(function(){i.call(n,t)},3),e}return null},this.addToStroke=function(e){if(this.inStroke&&"number"==typeof e.x&&"number"==typeof e.y&&4<Math.abs(e.x-this._lastPoint.x)+Math.abs(e.y-this._lastPoint.y)){var t=this._stroke.x.length;this._stroke.x.push(e.x),this._stroke.y.push(e.y),this._lastPoint=e;var i=this._stroke,n=this.addToStrokeFn,o=this.context;return setTimeout(function(){n.call(o,i,t)},3),e}return null},this.endStroke=function(){var e=this.inStroke;if(this.inStroke=!1,this._lastPoint=null,e){var t=this._stroke,i=this.endStrokeFn,n=this.context,o=this.changed;return setTimeout(function(){i.call(n,t),o.call(n)},3),!0}return null}}function s(i,o,s){var c=this.$parent=e(i),i=this.eventTokens={};this.events=new l(this);var d=e.fn[a]("globalEvents"),u={width:"ratio",height:"ratio",sizeRatio:4,color:"#000","background-color":"#fff","decor-color":"#eee",lineWidth:0,minFatFingerCompensation:-10,showUndoButton:!1,data:[]};e.extend(u,t(c)),o&&e.extend(u,o),this.settings=u;for(var h in s)s.hasOwnProperty(h)&&s[h].call(this,h);this.events.publish(a+".initializing"),this.$controlbarUpper=e('<div style="padding:0 !important;margin:0 !important;width: 100% !important; height: 0 !important;margin-top:-1em !important;margin-bottom:1em !important;"></div>').appendTo(c),this.isCanvasEmulator=!1,s=this.canvas=this.initializeCanvas(u),o=e(s),this.$controlbarLower=e('<div style="padding:0 !important;margin:0 !important;width: 100% !important; height: 0 !important;margin-top:-1.5em !important;margin-bottom:1.5em !important;"></div>').appendTo(c),this.canvasContext=s.getContext("2d"),o.data(a+".this",this),c=(c=u.lineWidth)?c:Math.max(Math.round(s.width/400),2),u.lineWidth=c,this.lineCurveThreshold=3*u.lineWidth,u.cssclass&&""!=e.trim(u.cssclass)&&o.addClass(u.cssclass),this.fatFingerCompensation=0;var p=(c=function(t){var i,o,s=function(e){return e=e.changedTouches&&0<e.changedTouches.length?e.changedTouches[0]:e,new n(Math.round(e.pageX+i),Math.round(e.pageY+o)+t.fatFingerCompensation)},a=new r(750,function(){t.dataEngine.endStroke()});return this.drawEndHandler=function(e){try{e.preventDefault()}catch(e){}a.clear(),t.dataEngine.endStroke()},this.drawStartHandler=function(n){n.preventDefault();var r=e(t.canvas).offset();i=-1*r.left,o=-1*r.top,t.dataEngine.startStroke(s(n)),a.kick()},this.drawMoveHandler=function(e){e.preventDefault(),t.dataEngine.inStroke&&(t.dataEngine.addToStroke(s(e)),a.kick())},this}.call({},this)).drawEndHandler,f=c.drawStartHandler,m=c.drawMoveHandler,g=this.canvas,o=e(g);this.isCanvasEmulator?(o.bind("mousemove."+a,m),o.bind("mouseup."+a,p),o.bind("mousedown."+a,f)):(g.ontouchstart=function(e){g.onmousedown=void 0,g.onmouseup=void 0,g.onmousemove=void 0,this.fatFingerCompensation=u.minFatFingerCompensation&&-3*u.lineWidth>u.minFatFingerCompensation?-3*u.lineWidth:u.minFatFingerCompensation,f(e),g.ontouchend=p,g.ontouchstart=f,g.ontouchmove=m},g.onmousedown=function(e){g.ontouchstart=void 0,g.ontouchend=void 0,g.ontouchmove=void 0,f(e),g.onmousedown=f,g.onmouseup=p,g.onmousemove=m}),i[a+".windowmouseup"]=d.subscribe(a+".windowmouseup",c.drawEndHandler),this.events.publish(a+".attachingEventHandlers");var v=this,i=u.width.toString(10),b=a;return"ratio"!==i&&"%"!==i.split("")[i.length-1]||(this.eventTokens[b+".parentresized"]=d.subscribe(b+".parentresized",function(e,t,i){return function(){if((h=t.width())!==i){for(var n in e)e.hasOwnProperty(n)&&(d.unsubscribe(e[n]),delete e[n]);var o=v.settings;v.$parent.children().remove();for(n in v)v.hasOwnProperty(n)&&delete v[n];n=o.data;var s,a,r,l,c,u,h=1*h/i,p=[];for(a=0,r=n.length;a<r;a++){for(s={x:[],y:[]},l=0,c=(u=n[a]).x.length;l<c;l++)s.x.push(u.x[l]*h),s.y.push(u.y[l]*h);p.push(s)}o.data=p,t[b](o)}}}(this.eventTokens,this.$parent,this.$parent.width(),(this.canvas.width,this.canvas.height)))),this.resetCanvas(u.data),this.events.publish(a+".initialized"),this}var a="jSignature",r=function(e,t){var i;return this.kick=function(){clearTimeout(i),i=setTimeout(t,e)},this.clear=function(){clearTimeout(i)},this},l=function(e){this.topics={},this.context=e||this,this.publish=function(e,t,i,n){if(this.topics[e]){var o,s,a,r,l=this.topics[e],c=Array.prototype.slice.call(arguments,1),d=[];for(s=0,a=l.length;s<a;s++)r=l[s],o=r[0],r[1]&&(r[0]=function(){},d.push(s)),o.apply(this.context,c);for(s=0,a=d.length;s<a;s++)l.splice(d[s],1)}},this.subscribe=function(e,t,i){return this.topics[e]?this.topics[e].push([t,i]):this.topics[e]=[[t,i]],{topic:e,callback:t}},this.unsubscribe=function(e){if(this.topics[e.topic])for(var t=this.topics[e.topic],i=0,n=t.length;i<n;i++)t[i][0]===e.callback&&t.splice(i,1)}},c=function(e){var t=this.canvasContext,i=e.x[0],e=e.y[0],n=this.settings.lineWidth,o=t.fillStyle;t.fillStyle=t.strokeStyle,t.fillRect(i+n/-2,e+n/-2,n,n),t.fillStyle=o},d=function(e,t){var o=new n(e.x[t-1],e.y[t-1]),s=new n(e.x[t],e.y[t]),a=o.getVectorToPoint(s);if(1<t){var r;if((h=(m=new n(e.x[t-2],e.y[t-2])).getVectorToPoint(o)).getLength()>this.lineCurveThreshold){r=2<t?new n(e.x[t-3],e.y[t-3]).getVectorToPoint(m):new i(0,0);var l=.35*h.getLength(),c=h.angleTo(r.reverse()),d=a.angleTo(h.reverse());r=new i(r.x+h.x,r.y+h.y).resizeTo(Math.max(.05,c)*l);var u=new i(h.x+a.x,h.y+a.y).reverse().resizeTo(Math.max(.05,d)*l),h=this.canvasContext,l=m.x,d=m.y,c=o.x,p=o.y,f=m.x+r.x,m=m.y+r.y;r=o.x+u.x,u=o.y+u.y,h.beginPath(),h.moveTo(l,d),h.bezierCurveTo(f,m,r,u,c,p),h.stroke()}}a.getLength()<=this.lineCurveThreshold&&(a=this.canvasContext,m=o.x,o=o.y,r=s.x,s=s.y,a.beginPath(),a.moveTo(m,o),a.lineTo(r,s),a.stroke())},u=function(e){if(0<(s=e.x.length-1)){d=new n(e.x[s],e.y[s]);if((o=(c=new n(e.x[s-1],e.y[s-1])).getVectorToPoint(d)).getLength()>this.lineCurveThreshold){if(1<s){var t=new i((e=new n(e.x[s-2],e.y[s-2]).getVectorToPoint(c)).x+o.x,e.y+o.y).resizeTo(o.getLength()/2),o=this.canvasContext,e=c.x,s=c.y,a=d.x,r=d.y,l=c.x+t.x,c=c.y+t.y,t=d.x,d=d.y;o.beginPath(),o.moveTo(e,s),o.bezierCurveTo(l,c,t,d,a,r)}else o=this.canvasContext,e=c.x,c=c.y,s=d.x,d=d.y,o.beginPath(),o.moveTo(e,c),o.lineTo(s,d);o.stroke()}}};s.prototype.resetCanvas=function(t){var i=this.canvas,n=this.settings,s=this.canvasContext,r=this.isCanvasEmulator,l=i.width,h=i.height;s.clearRect(0,0,l+30,h+30),s.shadowColor=s.fillStyle=n["background-color"],r&&s.fillRect(0,0,l+30,h+30),s.lineWidth=Math.ceil(parseInt(n.lineWidth,10)),s.lineCap=s.lineJoin="round",s.strokeStyle=n["decor-color"],s.shadowOffsetX=0,s.shadowOffsetY=0;var p=Math.round(h/5),f=1.5*p,m=h-p,l=l-1.5*p,h=h-p;s.beginPath(),s.moveTo(f,m),s.lineTo(l,h),s.stroke(),s.strokeStyle=n.color,r||(s.shadowColor=s.strokeStyle,s.shadowOffsetX=.5*s.lineWidth,s.shadowOffsetY=-.6*s.lineWidth,s.shadowBlur=0),t||(t=[]),s=this.dataEngine=new o(t,this,c,d,u),n.data=t,e(i).data(a+".data",t).data(a+".settings",n);var g=this.$parent,v=this.events,b=a;return s.changed=function(){v.publish(b+".change"),g.trigger("change")},s.changed(),!0},s.prototype.initializeCanvas=function(t){var i=document.createElement("canvas"),n=e(i);if(t.width===t.height&&"ratio"===t.height&&(t.width="100%"),n.css("margin",0).css("padding",0).css("border","none").css("height","ratio"!==t.height&&t.height?t.height.toString(10):1).css("width","ratio"!==t.width&&t.width?t.width.toString(10):1),n.appendTo(this.$parent),"ratio"===t.height?n.css("height",Math.round(n.width()/t.sizeRatio)):"ratio"===t.width&&n.css("width",Math.round(n.height()*t.sizeRatio)),n.addClass(a),i.width=n.width(),i.height=n.height(),(t=i).getContext)t=!1;else{var o=(n=t.ownerDocument.parentWindow).FlashCanvas?t.ownerDocument.parentWindow.FlashCanvas:"undefined"==typeof FlashCanvas?void 0:FlashCanvas;if(!o)throw Error("Canvas element does not support 2d context. jSignature cannot proceed.");if(t=o.initElement(t),o=1,n&&n.screen&&n.screen.deviceXDPI&&n.screen.logicalXDPI&&(o=1*n.screen.deviceXDPI/n.screen.logicalXDPI),1!==o)try{e(t).children("object").get(0).resize(Math.ceil(t.width*o),Math.ceil(t.height*o)),t.getContext("2d").scale(o,o)}catch(e){}t=!0}return this.isCanvasEmulator=t,i.onselectstart=function(e){return e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),!1},i};var h,p=window,f=function(e,t){var i=new Image,n=this;i.onload=function(){n.getContext("2d").drawImage(i,0,0,i.width<n.width?i.width:n.width,i.height<n.height?i.height:n.height)},i.src="data:"+t+","+e},m=function(e){return this.find("canvas."+a).add(this.filter("canvas."+a)).data(a+".this").resetCanvas(e),this},g=function(e,t){if(void 0!==t||"string"!=typeof e||"data:"!==e.substr(0,5)||(t=e.slice(5).split(",")[0],e=e.slice(6+t.length),t!==e)){var i=this.find("canvas."+a).add(this.filter("canvas."+a));if(!k.hasOwnProperty(t))throw Error(a+" is unable to find import plugin with for format '"+String(t)+"'");return 0!==i.length&&k[t].call(i[0],e,t,function(e){return function(){return e.resetCanvas.apply(e,arguments)}}(i.data(a+".this"))),this}},v=new l,b=a,y=function(){v.publish(b+".parentresized")};e(p).bind("resize."+b,function(){h&&clearTimeout(h),h=setTimeout(y,500)}).bind("mouseup."+b,function(){v.publish(b+".windowmouseup")});var w={},x={default:function(){return this.toDataURL()},native:function(e){return e},image:function(){var e=this.toDataURL();if("string"==typeof e&&4<e.length&&"data:"===e.slice(0,5)&&-1!==e.indexOf(",")){var t=e.indexOf(",");return[e.slice(5,t),e.substr(t+1)]}return[]}},k={native:function(e,t,i){i(e)},image:f,"image/png;base64":f,"image/jpeg;base64":f,"image/jpg;base64":f},C={export:x,import:k,instance:w},S={init:function(e){return this.each(function(){var t,i=!1;for(t=this.parentNode;t&&!i;)i=t.body,t=t.parentNode;!i||new s(this,e,w)})},getSettings:function(){return this.find("canvas."+a).add(this.filter("canvas."+a)).data(a+".this").settings},clear:m,reset:m,addPlugin:function(e,t,i){return C.hasOwnProperty(e)&&(C[e][t]=i),this},listPlugins:function(e){var t=[];if(C.hasOwnProperty(e)){var i,e=C[e];for(i in e)e.hasOwnProperty(i)&&t.push(i)}return t},getData:function(e){var t=this.find("canvas."+a).add(this.filter("canvas."+a));if(void 0===e&&(e="default"),0!==t.length&&x.hasOwnProperty(e))return x[e].call(t.get(0),t.data(a+".data"))},importData:g,setData:g,globalEvents:function(){return v},events:function(){return this.find("canvas."+a).add(this.filter("canvas."+a)).data(a+".this").events}};e.fn[a]=function(t){return t&&"object"!=typeof t?"string"==typeof t&&S[t]?S[t].apply(this,Array.prototype.slice.call(arguments,1)):void e.error("Method "+String(t)+" does not exist on jQuery."+a):S.init.apply(this,arguments)}}(),e.fn.jSignature("addPlugin","instance","UndoButton",function(t){this.events.subscribe("jSignature.attachingEventHandlers",function(){if(this.settings[t]){var i=this.settings[t];"function"!=typeof i&&(i=function(){var t=e('<input type="button" value="Undo last stroke" style="position:absolute;display:none;margin:0 !important;top:auto" />').appendTo(this.$controlbarLower),i=t.width();return t.css("left",Math.round((this.canvas.width-i)/2)),i!==t.width()&&t.width(i),t});var n=i.call(this),o=this;o.events.subscribe("jSignature.change",function(){o.dataEngine.data.length?n.show():n.hide()});var s=this,a=(this.events.topics.hasOwnProperty("jSignature.undo")?t:"jSignature")+".undo";n.bind("click",function(){s.events.publish(a)}),s.events.subscribe(a,function(){var e=s.dataEngine.data;e.length&&(e.pop(),s.resetCanvas(e))})}})}),function(){for(var e={},t={},i=(c="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWX".split("")).length/2,n=i-1;-1<n;n--)e[c[n]]=c[n+i],t[c[n+i]]=c[n];var o=function(t){for(var i=(t=t.split("")).length,n=1;n<i;n++)t[n]=e[t[n]];return t.join("")},s=function(e){for(var t,n,s=[],a=0,r=1,l=e.length,c=0;c<l;c++)t=Math.round(e[c]),n=t-a,a=t,0>n&&0<r?(r=-1,s.push("Z")):0<n&&0>r&&(r=1,s.push("Y")),(t=Math.abs(n))>=i?s.push(o(t.toString(i))):s.push(t.toString(i));return s.join("")},a=function(n){for(var o,s=[],a=(n=n.split("")).length,r=1,l=[],c=0,d=0;d<a;d++)(o=n[d])in e||"Z"===o||"Y"===o?(0!==l.length&&(l=parseInt(l.join(""),i)*r+c,s.push(l),c=l),"Z"===o?(r=-1,l=[]):"Y"===o?(r=1,l=[]):l=[o]):l.push(t[o]);return s.push(parseInt(l.join(""),i)*r+c),s},r=function(e){for(var t,i=[],n=e.length,o=0;o<n;o++)t=e[o],i.push(s(t.x)),i.push(s(t.y));return i.join("_")},l=function(e){for(var t=[],i=(e=e.split("_")).length/2,n=0;n<i;n++)t.push({x:a(e[2*n]),y:a(e[2*n+1])});return t},c=function(e){return["image/jsignature;base30",r(e)]},n=function(e,t,i){"string"==typeof e&&("image/jsignature;base30"===e.substring(0,23).toLowerCase()&&(e=e.substring(24)),i(l(e)))};if(null==this.jQuery)throw Error("We need jQuery for some of the functionality. jQuery is not detected. Failing to initialize...");var d=this.jQuery.fn.jSignature;d("addPlugin","export","base30",c),d("addPlugin","export","image/jsignature;base30",c),d("addPlugin","import","base30",n),d("addPlugin","import","image/jsignature;base30",n),this.jSignatureDebug&&(this.jSignatureDebug.base30={remapTailChars:o,compressstrokeleg:s,uncompressstrokeleg:a,compressstrokes:r,uncompressstrokes:l,charmap:e})}.call("undefined"!=typeof window?window:this),function(){function t(e,t){this.x=e,this.y=t,this.reverse=function(){return new this.constructor(-1*this.x,-1*this.y)},this._length=null,this.getLength=function(){return this._length||(this._length=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))),this._length};var i=function(e){return Math.round(e/Math.abs(e))};this.resizeTo=function(e){if(0===this.x&&0===this.y)this._length=0;else if(0===this.x)this._length=e,this.y=e*i(this.y);else if(0===this.y)this._length=e,this.x=e*i(this.x);else{var t=Math.abs(this.y/this.x),n=Math.sqrt(Math.pow(e,2)/(1+Math.pow(t,2))),t=t*n;this._length=e,this.x=n*i(this.x),this.y=t*i(this.y)}return this},this.angleTo=function(e){var t=this.getLength()*e.getLength();return 0===t?0:Math.acos(Math.min(Math.max((this.x*e.x+this.y*e.y)/t,-1),1))/Math.PI}}function i(e,i){this.x=e,this.y=i,this.getVectorToCoordinates=function(e,i){return new t(e-this.x,i-this.y)},this.getVectorFromCoordinates=function(e,t){return this.getVectorToCoordinates(e,t).reverse()},this.getVectorToPoint=function(e){return new t(e.x-this.x,e.y-this.y)},this.getVectorFromPoint=function(e){return this.getVectorToPoint(e).reverse()}}function n(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i}function o(e,o,s){var o=o+1,a=new i(e.x[o-1],e.y[o-1]),r=new i(e.x[o],e.y[o]),r=a.getVectorToPoint(r),l=new i(e.x[o-2],e.y[o-2]);return(a=l.getVectorToPoint(a)).getLength()>s?(s=2<o?new i(e.x[o-3],e.y[o-3]).getVectorToPoint(l):new t(0,0),e=.35*a.getLength(),l=a.angleTo(s.reverse()),o=r.angleTo(a.reverse()),s=new t(s.x+a.x,s.y+a.y).resizeTo(Math.max(.05,l)*e),r=new t(a.x+r.x,a.y+r.y).reverse().resizeTo(Math.max(.05,o)*e),r=new t(a.x+r.x,a.y+r.y),["c",n(s.x,2),n(s.y,2),n(r.x,2),n(r.y,2),n(a.x,2),n(a.y,2)]):["l",n(a.x,2),n(a.y,2)]}function s(e,o){var s=e.x.length-1,a=new i(e.x[s],e.y[s]),a=(r=new i(e.x[s-1],e.y[s-1])).getVectorToPoint(a);if(1<s&&a.getLength()>o){var s=new i(e.x[s-2],e.y[s-2]).getVectorToPoint(r),r=a.angleTo(s.reverse()),l=.35*a.getLength();return["c",n((s=new t(s.x+a.x,s.y+a.y).resizeTo(Math.max(.05,r)*l)).x,2),n(s.y,2),n(a.x,2),n(a.y,2),n(a.x,2),n(a.y,2)]}return["l",n(a.x,2),n(a.y,2)]}function a(e,t,i){for(var t=["M",n(e.x[0]-t,2),n(e.y[0]-i,2)],i=1,a=e.x.length-1;i<a;i++)t.push.apply(t,o(e,i,1));return 0<a?t.push.apply(t,s(e,i,1)):0===a&&t.push.apply(t,["l",1,1]),t.join(" ")}function r(e){var t,i,n=['<?xml version="1.0" encoding="UTF-8" standalone="no"?>','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'],o=e.length,s=[],r=[],l=i=t=0,c=0,d=[];if(0!==o){for(t=0;t<o;t++){c=[],i={x:[],y:[]};for(var u=void 0,h=void 0,u=0,h=(l=e[t]).x.length;u<h;u++)c.push({x:l.x[u],y:l.y[u]});for(u=0,h=(c=simplify(c,.7,!0)).length;u<h;u++)i.x.push(c[u].x),i.y.push(c[u].y);d.push(i),s=s.concat(i.x),r=r.concat(i.y)}e=Math.min.apply(null,s)-1,o=Math.max.apply(null,s)+1,s=Math.min.apply(null,r)-1,r=Math.max.apply(null,r)+1,l=0>e?0:e,c=0>s?0:s,t=o-e,i=r-s}for(n.push('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+t.toString()+'" height="'+i.toString()+'">'),t=0,o=d.length;t<o;t++)i=d[t],n.push('<path fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="'+a(i,l,c)+'"/>');return n.push("</svg>"),n.join("")}function l(e){return[h,r(e)]}function c(e){return[p,u(r(e))]}var d=window;if(("undefined"!=typeof exports?exports:d).simplify=function(e,t,i){if(t=void 0!==t?t*t:1,!i){for(var n,o=e.length,s=[d=e[0]],i=1;i<o;i++){var a=(n=e[i]).x-d.x,r=n.y-d.y;a*a+r*r>t&&(s.push(n),d=n)}d!==n&&s.push(n),e=s}var l,c,d=0,s=(i=(n=e).length)-1,u=[],h=[],p=[];for((o=new("undefined"!=typeof Uint8Array?Uint8Array:Array)(i))[d]=o[s]=1;s;){for(r=0,a=d+1;a<s;a++){l=n[a];var f=n[d],m=n[s],g=f.x,v=f.y,f=m.x-g,b=m.y-v,y=void 0;0===f&&0===b||(1<(y=((l.x-g)*f+(l.y-v)*b)/(f*f+b*b))?(g=m.x,v=m.y):0<y&&(g+=f*y,v+=b*y)),(l=(f=l.x-g)*f+(b=l.y-v)*b)>r&&(c=a,r=l)}r>t&&(o[c]=1,u.push(d),h.push(c),u.push(c),h.push(s)),d=u.pop(),s=h.pop()}for(a=0;a<i;a++)o[a]&&p.push(n[a]);return e=p},"function"!=typeof u)var u=function(e){var t,i,n,o,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),a=0,r=0,l="",l=[];do{t=e.charCodeAt(a++),i=e.charCodeAt(a++),n=e.charCodeAt(a++),o=t<<16|i<<8|n,t=o>>18&63,i=o>>12&63,n=o>>6&63,o&=63,l[r++]=s[t]+s[i]+s[n]+s[o]}while(a<e.length);return l=l.join(""),((e=e.length%3)?l.slice(0,e-3):l)+"===".slice(e||3)};var h="image/svg+xml",p="image/svg+xml;base64";if(void 0===e)throw Error("We need jQuery for some of the functionality. jQuery is not detected. Failing to initialize...");(d=e.fn.jSignature)("addPlugin","export","svg",l),d("addPlugin","export",h,l),d("addPlugin","export","svgbase64",c),d("addPlugin","export",p,c)}()}(jQuery),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.lightbox=t(e.jQuery)}(this,function(e){function t(t){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=e.extend({},this.constructor.defaults),this.option(t)}return t.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1},t.prototype.option=function(t){e.extend(this.options,t)},t.prototype.imageCountLabel=function(e,t){return this.options.albumLabel.replace(/%1/g,e).replace(/%2/g,t)},t.prototype.init=function(){var t=this;e(document).ready(function(){t.enable(),t.build()})},t.prototype.enable=function(){var t=this;e("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(i){return t.start(e(i.currentTarget)),!1})},t.prototype.build=function(){var t=this;e('<div id="lightboxOverlay" class="lightboxOverlay"></div><div id="lightbox" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /><div class="lb-nav"><a class="lb-prev" href="" ></a><a class="lb-next" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(e("body")),this.$lightbox=e("#lightbox"),this.$overlay=e("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.$image=this.$lightbox.find(".lb-image"),this.$nav=this.$lightbox.find(".lb-nav"),this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),10)},this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)},this.$overlay.hide().on("click",function(){return e("#materialbox-overlay").css("display","none"),e(".materialboxed").removeAttr("style"),e(window).scrollTop(e(window).scrollTop()+1),t.end(),!1}),this.$lightbox.hide().on("click",function(i){return"lightbox"===e(i.target).attr("id")&&(e("#materialbox-overlay").css("display","none"),e(".materialboxed").removeAttr("style"),e(window).scrollTop(e(window).scrollTop()+1),t.end()),!1}),this.$outerContainer.on("click",function(i){return"lightbox"===e(i.target).attr("id")&&(e("#materialbox-overlay").css("display","none"),e(".materialboxed").removeAttr("style"),e(window).scrollTop(e(window).scrollTop()+1),t.end()),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return 0===t.currentImageIndex?t.changeImage(t.album.length-1):t.changeImage(t.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return t.currentImageIndex===t.album.length-1?t.changeImage(0):t.changeImage(t.currentImageIndex+1),!1}),this.$nav.on("mousedown",function(e){3===e.which&&(t.$nav.css("pointer-events","none"),t.$lightbox.one("contextmenu",function(){setTimeout(function(){this.$nav.css("pointer-events","auto")}.bind(t),0)}))}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return e("#materialbox-overlay").css("display","none"),e(".materialboxed").removeAttr("style"),e(window).scrollTop(e(window).scrollTop()+1),t.end(),!1})},t.prototype.start=function(t){function i(e){n.album.push({link:e.attr("href"),title:e.attr("data-title")||e.attr("title")})}var n=this,o=e(window);o.on("resize",e.proxy(this.sizeOverlay,this)),e("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[];var s,a=0,r=t.attr("data-lightbox");if(r){s=e(t.prop("tagName")+'[data-lightbox="'+r+'"]');for(var l=0;l<s.length;l=++l)i(e(s[l])),s[l]===t[0]&&(a=l)}else if("lightbox"===t.attr("rel"))i(t);else{s=e(t.prop("tagName")+'[rel="'+t.attr("rel")+'"]');for(var c=0;c<s.length;c=++c)i(e(s[c])),s[c]===t[0]&&(a=c)}var d=o.scrollTop()+this.options.positionFromTop,u=o.scrollLeft();this.$lightbox.css({top:d+"px",left:u+"px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&e("body").addClass("lb-disable-scrolling"),this.changeImage(a)},t.prototype.changeImage=function(t){var i=this;this.disableKeyboardNav();var n=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration),e(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var o=new Image;o.onload=function(){var s,a,r,l,c,d;n.attr("src",i.album[t].link),e(o),n.width(o.width),n.height(o.height),i.options.fitImagesInViewport&&(d=e(window).width(),c=e(window).height(),l=d-i.containerPadding.left-i.containerPadding.right-i.imageBorderWidth.left-i.imageBorderWidth.right-20,r=c-i.containerPadding.top-i.containerPadding.bottom-i.imageBorderWidth.top-i.imageBorderWidth.bottom-120,i.options.maxWidth&&i.options.maxWidth<l&&(l=i.options.maxWidth),i.options.maxHeight&&i.options.maxHeight<l&&(r=i.options.maxHeight),(o.width>l||o.height>r)&&(o.width/l>o.height/r?(a=l,s=parseInt(o.height/(o.width/a),10),n.width(a),n.height(s)):(s=r,a=parseInt(o.width/(o.height/s),10),n.width(a),n.height(s)))),i.sizeContainer(n.width(),n.height())},o.src=this.album[t].link,this.currentImageIndex=t},t.prototype.sizeOverlay=function(){this.$overlay.width(e(document).width()).height(e(document).height())},t.prototype.sizeContainer=function(e,t){function i(){n.$lightbox.find(".lb-dataContainer").width(a),n.$lightbox.find(".lb-prevLink").height(r),n.$lightbox.find(".lb-nextLink").height(r),n.showImage()}var n=this,o=this.$outerContainer.outerWidth(),s=this.$outerContainer.outerHeight(),a=e+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,r=t+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;o!==a||s!==r?this.$outerContainer.animate({width:a,height:r},this.options.resizeDuration,"swing",function(){i()}):i()},t.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},t.prototype.updateNav=function(){var e=!1;try{document.createEvent("TouchEvent"),e=!!this.options.alwaysShowNavOnTouchDevices}catch(e){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(e&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),e&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),e&&this.$lightbox.find(".lb-next").css("opacity","1"))))},t.prototype.updateDetails=function(){var t=this;if(void 0!==this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title){var i=this.$lightbox.find(".lb-caption");this.options.sanitizeTitle?i.text(this.album[this.currentImageIndex].title):i.html(this.album[this.currentImageIndex].title),i.fadeIn("fast").find("a").on("click",function(t){void 0!==e(this).attr("target")?window.open(e(this).attr("href"),e(this).attr("target")):location.href=e(this).attr("href")})}if(this.album.length>1&&this.options.showImageNumberLabel){var n=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(n).fadeIn("fast")}else this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return t.sizeOverlay()})},t.prototype.preloadNeighboringImages=function(){this.album.length>this.currentImageIndex+1&&((new Image).src=this.album[this.currentImageIndex+1].link),this.currentImageIndex>0&&((new Image).src=this.album[this.currentImageIndex-1].link)},t.prototype.enableKeyboardNav=function(){e(document).on("keyup.keyboard",e.proxy(this.keyboardAction,this))},t.prototype.disableKeyboardNav=function(){e(document).off(".keyboard")},t.prototype.keyboardAction=function(e){var t=e.keyCode,i=String.fromCharCode(t).toLowerCase();27===t||i.match(/x|o|c/)?this.end():"p"===i||37===t?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):"n"!==i&&39!==t||(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},t.prototype.end=function(){this.disableKeyboardNav(),e(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),e("select, object, embed").css({visibility:"visible"}),this.options.disableScrolling&&e("body").removeClass("lb-disable-scrolling")},new t}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return ht.apply(null,arguments)}function t(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function n(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e,t){for(var i in t)o(t,i)&&(e[i]=t[i]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function a(e,t,i,n){return Se(e,t,i,n,!0).utc()}function r(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function l(e){return null==e._pf&&(e._pf=r()),e._pf}function c(e){if(null==e._isValid){var t=l(e),i=pt.call(t.parsedDateParts,function(e){return null!=e});e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=a(NaN);return null!=e?s(l(t),e):l(t).userInvalidated=!0,t}function u(e){return void 0===e}function h(e,t){var i,n,o;if(u(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),u(t._i)||(e._i=t._i),u(t._f)||(e._f=t._f),u(t._l)||(e._l=t._l),u(t._strict)||(e._strict=t._strict),u(t._tzm)||(e._tzm=t._tzm),u(t._isUTC)||(e._isUTC=t._isUTC),u(t._offset)||(e._offset=t._offset),u(t._pf)||(e._pf=l(t)),u(t._locale)||(e._locale=t._locale),ft.length>0)for(i in ft)u(o=t[n=ft[i]])||(e[n]=o);return e}function p(t){h(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),!1===mt&&(mt=!0,e.updateOffset(this),mt=!1)}function f(e){return e instanceof p||null!=e&&null!=e._isAMomentObject}function m(e){return e<0?Math.ceil(e):Math.floor(e)}function g(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=m(t)),i}function v(e,t,i){var n,o=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),a=0;for(n=0;n<o;n++)(i&&e[n]!==t[n]||!i&&g(e[n])!==g(t[n]))&&a++;return a+s}function b(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function y(t,i){var n=!0;return s(function(){return null!=e.deprecationHandler&&e.deprecationHandler(null,t),n&&(b(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),n=!1),i.apply(this,arguments)},i)}function w(t,i){null!=e.deprecationHandler&&e.deprecationHandler(t,i),gt[t]||(b(i),gt[t]=!0)}function x(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function k(e){return"[object Object]"===Object.prototype.toString.call(e)}function C(e,t){var i,n=s({},e);for(i in t)o(t,i)&&(k(e[i])&&k(t[i])?(n[i]={},s(n[i],e[i]),s(n[i],t[i])):null!=t[i]?n[i]=t[i]:delete n[i]);return n}function S(e){null!=e&&this.set(e)}function T(e){return e?e.toLowerCase().replace("_","-"):e}function D(e){for(var t,i,n,o,s=0;s<e.length;){for(t=(o=T(e[s]).split("-")).length,i=(i=T(e[s+1]))?i.split("-"):null;t>0;){if(n=$(o.slice(0,t).join("-")))return n;if(i&&i.length>=t&&v(o,i,!0)>=t-1)break;t--}s++}return null}function $(e){var t=null;if(!wt[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=bt._abbr,require("./locale/"+e),_(t)}catch(e){}return wt[e]}function _(e,t){var i;return e&&(i=u(t)?O(e):M(e,t))&&(bt=i),bt._abbr}function M(e,t){return null!==t?(t.abbr=e,null!=wt[e]?(w("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),t=C(wt[e]._config,t)):null!=t.parentLocale&&(null!=wt[t.parentLocale]?t=C(wt[t.parentLocale]._config,t):w("parentLocaleUndefined","specified parentLocale is not defined yet")),wt[e]=new S(t),_(e),wt[e]):(delete wt[e],null)}function O(e){var i;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return bt;if(!t(e)){if(i=$(e))return i;e=[e]}return D(e)}function A(e,t){var i=e.toLowerCase();xt[i]=xt[i+"s"]=xt[t]=e}function P(e){return"string"==typeof e?xt[e]||xt[e.toLowerCase()]:void 0}function I(e){var t,i,n={};for(i in e)o(e,i)&&(t=P(i))&&(n[t]=e[i]);return n}function j(t,i){return function(n){return null!=n?(R(this,t,n),e.updateOffset(this,i),this):E(this,t)}}function E(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function R(e,t,i){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](i)}function F(e,t){var i;if("object"==typeof e)for(i in e)this.set(i,e[i]);else if(e=P(e),x(this[e]))return this[e](t);return this}function q(e,t,i){var n=""+Math.abs(e),o=t-n.length;return(e>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}function L(e,t,i,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),e&&(Tt[e]=o),t&&(Tt[t[0]]=function(){return q(o.apply(this,arguments),t[1],t[2])}),i&&(Tt[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Y(e){var t,i,n=e.match(kt);for(t=0,i=n.length;t<i;t++)Tt[n[t]]?n[t]=Tt[n[t]]:n[t]=z(n[t]);return function(t){var o,s="";for(o=0;o<i;o++)s+=n[o]instanceof Function?n[o].call(t,e):n[o];return s}}function N(e,t){return e.isValid()?(t=W(t,e.localeData()),St[t]=St[t]||Y(t),St[t](e)):e.localeData().invalidDate()}function W(e,t){var i=5;for(Ct.lastIndex=0;i>=0&&Ct.test(e);)e=e.replace(Ct,function(e){return t.longDateFormat(e)||e}),Ct.lastIndex=0,i-=1;return e}function U(e,t,i){Wt[e]=x(t)?t:function(e,n){return e&&i?i:t}}function H(e,t){return o(Wt,e)?Wt[e](t._strict,t._locale):new RegExp(B(e))}function B(e){return V(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,o){return t||i||n||o}))}function V(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function G(e,t){var i,n=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(n=function(e,i){i[t]=g(e)}),i=0;i<e.length;i++)Ut[e[i]]=n}function X(e,t){G(e,function(e,i,n,o){n._w=n._w||{},t(e,n._w,n,o)})}function Q(e,t,i){null!=t&&o(Ut,e)&&Ut[e](t,i._a,i,e)}function J(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function Z(e,t,i){var n,o,s,r=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=a([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===t?-1!==(o=yt.call(this._shortMonthsParse,r))?o:null:-1!==(o=yt.call(this._longMonthsParse,r))?o:null:"MMM"===t?-1!==(o=yt.call(this._shortMonthsParse,r))?o:-1!==(o=yt.call(this._longMonthsParse,r))?o:null:-1!==(o=yt.call(this._longMonthsParse,r))?o:-1!==(o=yt.call(this._shortMonthsParse,r))?o:null}function K(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=g(t);else if("number"!=typeof(t=e.localeData().monthsParse(t)))return e;return i=Math.min(e.date(),J(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function ee(t){return null!=t?(K(this,t),e.updateOffset(this,!0),this):E(this,"Month")}function te(){function e(e,t){return t.length-e.length}var t,i,n=[],o=[],s=[];for(t=0;t<12;t++)i=a([2e3,t]),n.push(this.monthsShort(i,"")),o.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(n.sort(e),o.sort(e),s.sort(e),t=0;t<12;t++)n[t]=V(n[t]),o[t]=V(o[t]),s[t]=V(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function ie(e){var t,i=e._a;return i&&-2===l(e).overflow&&(t=i[Bt]<0||i[Bt]>11?Bt:i[Vt]<1||i[Vt]>J(i[Ht],i[Bt])?Vt:i[Gt]<0||i[Gt]>24||24===i[Gt]&&(0!==i[Xt]||0!==i[Qt]||0!==i[Jt])?Gt:i[Xt]<0||i[Xt]>59?Xt:i[Qt]<0||i[Qt]>59?Qt:i[Jt]<0||i[Jt]>999?Jt:-1,l(e)._overflowDayOfYear&&(t<Ht||t>Vt)&&(t=Vt),l(e)._overflowWeeks&&-1===t&&(t=Zt),l(e)._overflowWeekday&&-1===t&&(t=Kt),l(e).overflow=t),e}function ne(e){var t,i,n,o,s,a,r=e._i,c=si.exec(r)||ai.exec(r);if(c){for(l(e).iso=!0,t=0,i=li.length;t<i;t++)if(li[t][1].exec(c[1])){o=li[t][0],n=!1!==li[t][2];break}if(null==o)return void(e._isValid=!1);if(c[3]){for(t=0,i=ci.length;t<i;t++)if(ci[t][1].exec(c[3])){s=(c[2]||" ")+ci[t][0];break}if(null==s)return void(e._isValid=!1)}if(!n&&null!=s)return void(e._isValid=!1);if(c[4]){if(!ri.exec(c[4]))return void(e._isValid=!1);a="Z"}e._f=o+(s||"")+(a||""),ve(e)}else e._isValid=!1}function oe(t){var i=di.exec(t._i);null===i?(ne(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t))):t._d=new Date(+i[1])}function se(e,t,i,n,o,s,a){var r=new Date(e,t,i,n,o,s,a);return e<100&&e>=0&&isFinite(r.getFullYear())&&r.setFullYear(e),r}function ae(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function re(e){return le(e)?366:365}function le(e){return e%4==0&&e%100!=0||e%400==0}function ce(e,t,i){var n=7+t-i;return-((7+ae(e,0,n).getUTCDay()-t)%7)+n-1}function de(e,t,i,n,o){var s,a,r=1+7*(t-1)+(7+i-n)%7+ce(e,n,o);return r<=0?a=re(s=e-1)+r:r>re(e)?(s=e+1,a=r-re(e)):(s=e,a=r),{year:s,dayOfYear:a}}function ue(e,t,i){var n,o,s=ce(e.year(),t,i),a=Math.floor((e.dayOfYear()-s-1)/7)+1;return a<1?n=a+he(o=e.year()-1,t,i):a>he(e.year(),t,i)?(n=a-he(e.year(),t,i),o=e.year()+1):(o=e.year(),n=a),{week:n,year:o}}function he(e,t,i){var n=ce(e,t,i),o=ce(e+1,t,i);return(re(e)-n+o)/7}function pe(e,t,i){return null!=e?e:null!=t?t:i}function fe(t){var i=new Date(e.now());return t._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function me(e){var t,i,n,o,s=[];if(!e._d){for(n=fe(e),e._w&&null==e._a[Vt]&&null==e._a[Bt]&&ge(e),e._dayOfYear&&(o=pe(e._a[Ht],n[Ht]),e._dayOfYear>re(o)&&(l(e)._overflowDayOfYear=!0),i=ae(o,0,e._dayOfYear),e._a[Bt]=i.getUTCMonth(),e._a[Vt]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=n[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Gt]&&0===e._a[Xt]&&0===e._a[Qt]&&0===e._a[Jt]&&(e._nextDay=!0,e._a[Gt]=0),e._d=(e._useUTC?ae:se).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Gt]=24)}}function ge(e){var t,i,n,o,s,a,r,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(s=1,a=4,i=pe(t.GG,e._a[Ht],ue(Te(),1,4).year),n=pe(t.W,1),((o=pe(t.E,1))<1||o>7)&&(c=!0)):(s=e._locale._week.dow,a=e._locale._week.doy,i=pe(t.gg,e._a[Ht],ue(Te(),s,a).year),n=pe(t.w,1),null!=t.d?((o=t.d)<0||o>6)&&(c=!0):null!=t.e?(o=t.e+s,(t.e<0||t.e>6)&&(c=!0)):o=s),n<1||n>he(i,s,a)?l(e)._overflowWeeks=!0:null!=c?l(e)._overflowWeekday=!0:(r=de(i,n,o,s,a),e._a[Ht]=r.year,e._dayOfYear=r.dayOfYear)}function ve(t){if(t._f!==e.ISO_8601){t._a=[],l(t).empty=!0;var i,n,o,s,a,r=""+t._i,c=r.length,d=0;for(o=W(t._f,t._locale).match(kt)||[],i=0;i<o.length;i++)s=o[i],(n=(r.match(H(s,t))||[])[0])&&((a=r.substr(0,r.indexOf(n))).length>0&&l(t).unusedInput.push(a),r=r.slice(r.indexOf(n)+n.length),d+=n.length),Tt[s]?(n?l(t).empty=!1:l(t).unusedTokens.push(s),Q(s,n,t)):t._strict&&!n&&l(t).unusedTokens.push(s);l(t).charsLeftOver=c-d,r.length>0&&l(t).unusedInput.push(r),!0===l(t).bigHour&&t._a[Gt]<=12&&t._a[Gt]>0&&(l(t).bigHour=void 0),l(t).parsedDateParts=t._a.slice(0),l(t).meridiem=t._meridiem,t._a[Gt]=be(t._locale,t._a[Gt],t._meridiem),me(t),ie(t)}else ne(t)}function be(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?((n=e.isPM(i))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}function ye(e){var t,i,n,o,a;if(0===e._f.length)return l(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)a=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],ve(t),c(t)&&(a+=l(t).charsLeftOver,a+=10*l(t).unusedTokens.length,l(t).score=a,(null==n||a<n)&&(n=a,i=t));s(e,i||t)}function we(e){if(!e._d){var t=I(e._i);e._a=n([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),me(e)}}function xe(e){var t=new p(ie(ke(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function ke(e){var n=e._i,o=e._f;return e._locale=e._locale||O(e._l),null===n||void 0===o&&""===n?d({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),f(n)?new p(ie(n)):(t(o)?ye(e):o?ve(e):i(n)?e._d=n:Ce(e),c(e)||(e._d=null),e))}function Ce(o){var s=o._i;void 0===s?o._d=new Date(e.now()):i(s)?o._d=new Date(s.valueOf()):"string"==typeof s?oe(o):t(s)?(o._a=n(s.slice(0),function(e){return parseInt(e,10)}),me(o)):"object"==typeof s?we(o):"number"==typeof s?o._d=new Date(s):e.createFromInputFallback(o)}function Se(e,t,i,n,o){var s={};return"boolean"==typeof i&&(n=i,i=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=o,s._l=i,s._i=e,s._f=t,s._strict=n,xe(s)}function Te(e,t,i,n){return Se(e,t,i,n,!1)}function De(e,i){var n,o;if(1===i.length&&t(i[0])&&(i=i[0]),!i.length)return Te();for(n=i[0],o=1;o<i.length;++o)i[o].isValid()&&!i[o][e](n)||(n=i[o]);return n}function $e(e){var t=I(e),i=t.year||0,n=t.quarter||0,o=t.month||0,s=t.week||0,a=t.day||0,r=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._milliseconds=+d+1e3*c+6e4*l+1e3*r*60*60,this._days=+a+7*s,this._months=+o+3*n+12*i,this._data={},this._locale=O(),this._bubble()}function _e(e){return e instanceof $e}function Me(e,t){L(e,0,0,function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+q(~~(e/60),2)+t+q(~~e%60,2)})}function Oe(e,t){var i=(t||"").match(e)||[],n=((i[i.length-1]||[])+"").match(fi)||["-",0,0],o=60*n[1]+g(n[2]);return"+"===n[0]?o:-o}function Ae(t,n){var o,s;return n._isUTC?(o=n.clone(),s=(f(t)||i(t)?t.valueOf():Te(t).valueOf())-o.valueOf(),o._d.setTime(o._d.valueOf()+s),e.updateOffset(o,!1),o):Te(t).local()}function Pe(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ie(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function je(e,t){var i,n,s,a=e,r=null;return _e(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(r=mi.exec(e))?(i="-"===r[1]?-1:1,a={y:0,d:g(r[Vt])*i,h:g(r[Gt])*i,m:g(r[Xt])*i,s:g(r[Qt])*i,ms:g(r[Jt])*i}):(r=gi.exec(e))?(i="-"===r[1]?-1:1,a={y:Ee(r[2],i),M:Ee(r[3],i),w:Ee(r[4],i),d:Ee(r[5],i),h:Ee(r[6],i),m:Ee(r[7],i),s:Ee(r[8],i)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(s=Fe(Te(a.from),Te(a.to)),(a={}).ms=s.milliseconds,a.M=s.months),n=new $e(a),_e(e)&&o(e,"_locale")&&(n._locale=e._locale),n}function Ee(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Re(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function Fe(e,t){var i;return e.isValid()&&t.isValid()?(t=Ae(t,e),e.isBefore(t)?i=Re(e,t):((i=Re(t,e)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function qe(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Le(e,t){return function(i,n){var o,s;return null===n||isNaN(+n)||(w(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),s=i,i=n,n=s),i="string"==typeof i?+i:i,o=je(i,n),ze(this,o,e),this}}function ze(t,i,n,o){var s=i._milliseconds,a=qe(i._days),r=qe(i._months);t.isValid()&&(o=null==o||o,s&&t._d.setTime(t._d.valueOf()+s*n),a&&R(t,"Date",E(t,"Date")+a*n),r&&K(t,E(t,"Month")+r*n),o&&e.updateOffset(t,a||r))}function Ye(e,t){var i,n=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(n,"months");return i=t-o<0?(t-o)/(o-e.clone().add(n-1,"months")):(t-o)/(e.clone().add(n+1,"months")-o),-(n+i)||0}function Ne(e){var t;return void 0===e?this._locale._abbr:(null!=(t=O(e))&&(this._locale=t),this)}function We(){return this._locale}function Ue(e,t){L(0,[e,e.length],0,t)}function He(e,t,i,n,o){var s;return null==e?ue(this,n,o).year:(s=he(e,n,o),t>s&&(t=s),Be.call(this,e,t,i,n,o))}function Be(e,t,i,n,o){var s=de(e,t,i,n,o),a=ae(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Ve(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Ge(e,t,i){var n,o,s,r=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=a([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===t?-1!==(o=yt.call(this._weekdaysParse,r))?o:null:"ddd"===t?-1!==(o=yt.call(this._shortWeekdaysParse,r))?o:null:-1!==(o=yt.call(this._minWeekdaysParse,r))?o:null:"dddd"===t?-1!==(o=yt.call(this._weekdaysParse,r))?o:-1!==(o=yt.call(this._shortWeekdaysParse,r))?o:-1!==(o=yt.call(this._minWeekdaysParse,r))?o:null:"ddd"===t?-1!==(o=yt.call(this._shortWeekdaysParse,r))?o:-1!==(o=yt.call(this._weekdaysParse,r))?o:-1!==(o=yt.call(this._minWeekdaysParse,r))?o:null:-1!==(o=yt.call(this._minWeekdaysParse,r))?o:-1!==(o=yt.call(this._weekdaysParse,r))?o:-1!==(o=yt.call(this._shortWeekdaysParse,r))?o:null}function Xe(){function e(e,t){return t.length-e.length}var t,i,n,o,s,r=[],l=[],c=[],d=[];for(t=0;t<7;t++)i=a([2e3,1]).day(t),n=this.weekdaysMin(i,""),o=this.weekdaysShort(i,""),s=this.weekdays(i,""),r.push(n),l.push(o),c.push(s),d.push(n),d.push(o),d.push(s);for(r.sort(e),l.sort(e),c.sort(e),d.sort(e),t=0;t<7;t++)l[t]=V(l[t]),c[t]=V(c[t]),d[t]=V(d[t]);this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Qe(){return this.hours()%12||12}function Je(e,t){L(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ze(e,t){return t._meridiemParse}function Ke(e){return e}function et(e,t,i,n){var o=O(),s=a().set(n,t);return o[i](s,e)}function tt(e,t,i){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return et(e,t,i,"month");var n,o=[];for(n=0;n<12;n++)o[n]=et(e,n,i,"month");return o}function it(e,t,i,n){"boolean"==typeof e?("number"==typeof t&&(i=t,t=void 0),t=t||""):(i=t=e,e=!1,"number"==typeof t&&(i=t,t=void 0),t=t||"");var o=O(),s=e?o._week.dow:0;if(null!=i)return et(t,(i+s)%7,n,"day");var a,r=[];for(a=0;a<7;a++)r[a]=et(t,(a+s)%7,n,"day");return r}function nt(e,t,i,n){var o=je(t,i);return e._milliseconds+=n*o._milliseconds,e._days+=n*o._days,e._months+=n*o._months,e._bubble()}function ot(e){return e<0?Math.floor(e):Math.ceil(e)}function st(e){return 4800*e/146097}function at(e){return 146097*e/4800}function rt(e){return function(){return this.as(e)}}function lt(e){return function(){return this._data[e]}}function ct(e,t,i,n,o){return o.relativeTime(t||1,!!i,e,n)}function dt(e,t,i){var n=je(e).abs(),o=on(n.as("s")),s=on(n.as("m")),a=on(n.as("h")),r=on(n.as("d")),l=on(n.as("M")),c=on(n.as("y")),d=o<sn.s&&["s",o]||s<=1&&["m"]||s<sn.m&&["mm",s]||a<=1&&["h"]||a<sn.h&&["hh",a]||r<=1&&["d"]||r<sn.d&&["dd",r]||l<=1&&["M"]||l<sn.M&&["MM",l]||c<=1&&["y"]||["yy",c];return d[2]=t,d[3]=+e>0,d[4]=i,ct.apply(null,d)}function ut(){var e,t,i,n=an(this._milliseconds)/1e3,o=an(this._days),s=an(this._months);t=m((e=m(n/60))/60),n%=60,e%=60;var a=i=m(s/12),r=s%=12,l=o,c=t,d=e,u=n,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(a?a+"Y":"")+(r?r+"M":"")+(l?l+"D":"")+(c||d||u?"T":"")+(c?c+"H":"")+(d?d+"M":"")+(u?u+"S":""):"P0D"}var ht,pt;pt=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),i=t.length>>>0,n=0;n<i;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var ft=e.momentProperties=[],mt=!1,gt={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var vt;vt=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)o(e,t)&&i.push(t);return i};var bt,yt,wt={},xt={},kt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ct=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,St={},Tt={},Dt=/\d/,$t=/\d\d/,_t=/\d{3}/,Mt=/\d{4}/,Ot=/[+-]?\d{6}/,At=/\d\d?/,Pt=/\d\d\d\d?/,It=/\d\d\d\d\d\d?/,jt=/\d{1,3}/,Et=/\d{1,4}/,Rt=/[+-]?\d{1,6}/,Ft=/\d+/,qt=/[+-]?\d+/,Lt=/Z|[+-]\d\d:?\d\d/gi,zt=/Z|[+-]\d\d(?::?\d\d)?/gi,Yt=/[+-]?\d+(\.\d{1,3})?/,Nt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Wt={},Ut={},Ht=0,Bt=1,Vt=2,Gt=3,Xt=4,Qt=5,Jt=6,Zt=7,Kt=8;yt=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},L("M",["MM",2],"Mo",function(){return this.month()+1}),L("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),L("MMMM",0,0,function(e){return this.localeData().months(this,e)}),A("month","M"),U("M",At),U("MM",At,$t),U("MMM",function(e,t){return t.monthsShortRegex(e)}),U("MMMM",function(e,t){return t.monthsRegex(e)}),G(["M","MM"],function(e,t){t[Bt]=g(e)-1}),G(["MMM","MMMM"],function(e,t,i,n){var o=i._locale.monthsParse(e,n,i._strict);null!=o?t[Bt]=o:l(i).invalidMonth=e});var ei=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,ti="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ii="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ni=Nt,oi=Nt,si=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ai=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ri=/Z|[+-]\d\d(?::?\d\d)?/,li=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ci=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],di=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=y("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),L("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),L(0,["YY",2],0,function(){return this.year()%100}),L(0,["YYYY",4],0,"year"),L(0,["YYYYY",5],0,"year"),L(0,["YYYYYY",6,!0],0,"year"),A("year","y"),U("Y",qt),U("YY",At,$t),U("YYYY",Et,Mt),U("YYYYY",Rt,Ot),U("YYYYYY",Rt,Ot),G(["YYYYY","YYYYYY"],Ht),G("YYYY",function(t,i){i[Ht]=2===t.length?e.parseTwoDigitYear(t):g(t)}),G("YY",function(t,i){i[Ht]=e.parseTwoDigitYear(t)}),G("Y",function(e,t){t[Ht]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return g(e)+(g(e)>68?1900:2e3)};var ui=j("FullYear",!0);e.ISO_8601=function(){};var hi=y("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Te.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:d()}),pi=y("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Te.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:d()});Me("Z",":"),Me("ZZ",""),U("Z",zt),U("ZZ",zt),G(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=Oe(zt,e)});var fi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var mi=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,gi=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;je.fn=$e.prototype;var vi=Le(1,"add"),bi=Le(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var yi=y("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});L(0,["gg",2],0,function(){return this.weekYear()%100}),L(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ue("gggg","weekYear"),Ue("ggggg","weekYear"),Ue("GGGG","isoWeekYear"),Ue("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),U("G",qt),U("g",qt),U("GG",At,$t),U("gg",At,$t),U("GGGG",Et,Mt),U("gggg",Et,Mt),U("GGGGG",Rt,Ot),U("ggggg",Rt,Ot),X(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=g(e)}),X(["gg","GG"],function(t,i,n,o){i[o]=e.parseTwoDigitYear(t)}),L("Q",0,"Qo","quarter"),A("quarter","Q"),U("Q",Dt),G("Q",function(e,t){t[Bt]=3*(g(e)-1)}),L("w",["ww",2],"wo","week"),L("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),U("w",At),U("ww",At,$t),U("W",At),U("WW",At,$t),X(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=g(e)});var wi={dow:0,doy:6};L("D",["DD",2],"Do","date"),A("date","D"),U("D",At),U("DD",At,$t),U("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),G(["D","DD"],Vt),G("Do",function(e,t){t[Vt]=g(e.match(At)[0],10)});var xi=j("Date",!0);L("d",0,"do","day"),L("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),L("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),L("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),L("e",0,0,"weekday"),L("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),U("d",At),U("e",At),U("E",At),U("dd",function(e,t){return t.weekdaysMinRegex(e)}),U("ddd",function(e,t){return t.weekdaysShortRegex(e)}),U("dddd",function(e,t){return t.weekdaysRegex(e)}),X(["dd","ddd","dddd"],function(e,t,i,n){var o=i._locale.weekdaysParse(e,n,i._strict);null!=o?t.d=o:l(i).invalidWeekday=e}),X(["d","e","E"],function(e,t,i,n){t[n]=g(e)});var ki="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ci="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Si="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ti=Nt,Di=Nt,$i=Nt;L("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),U("DDD",jt),U("DDDD",_t),G(["DDD","DDDD"],function(e,t,i){i._dayOfYear=g(e)}),L("H",["HH",2],0,"hour"),L("h",["hh",2],0,Qe),L("k",["kk",2],0,function(){return this.hours()||24}),L("hmm",0,0,function(){return""+Qe.apply(this)+q(this.minutes(),2)}),L("hmmss",0,0,function(){return""+Qe.apply(this)+q(this.minutes(),2)+q(this.seconds(),2)}),L("Hmm",0,0,function(){return""+this.hours()+q(this.minutes(),2)}),L("Hmmss",0,0,function(){return""+this.hours()+q(this.minutes(),2)+q(this.seconds(),2)}),Je("a",!0),Je("A",!1),A("hour","h"),U("a",Ze),U("A",Ze),U("H",At),U("h",At),U("HH",At,$t),U("hh",At,$t),U("hmm",Pt),U("hmmss",It),U("Hmm",Pt),U("Hmmss",It),G(["H","HH"],Gt),G(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),G(["h","hh"],function(e,t,i){t[Gt]=g(e),l(i).bigHour=!0}),G("hmm",function(e,t,i){var n=e.length-2;t[Gt]=g(e.substr(0,n)),t[Xt]=g(e.substr(n)),l(i).bigHour=!0}),G("hmmss",function(e,t,i){var n=e.length-4,o=e.length-2;t[Gt]=g(e.substr(0,n)),t[Xt]=g(e.substr(n,2)),t[Qt]=g(e.substr(o)),l(i).bigHour=!0}),G("Hmm",function(e,t,i){var n=e.length-2;t[Gt]=g(e.substr(0,n)),t[Xt]=g(e.substr(n))}),G("Hmmss",function(e,t,i){var n=e.length-4,o=e.length-2;t[Gt]=g(e.substr(0,n)),t[Xt]=g(e.substr(n,2)),t[Qt]=g(e.substr(o))});var _i=/[ap]\.?m?\.?/i,Mi=j("Hours",!0);L("m",["mm",2],0,"minute"),A("minute","m"),U("m",At),U("mm",At,$t),G(["m","mm"],Xt);var Oi=j("Minutes",!1);L("s",["ss",2],0,"second"),A("second","s"),U("s",At),U("ss",At,$t),G(["s","ss"],Qt);var Ai=j("Seconds",!1);L("S",0,0,function(){return~~(this.millisecond()/100)}),L(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),L(0,["SSS",3],0,"millisecond"),L(0,["SSSS",4],0,function(){return 10*this.millisecond()}),L(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),L(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),L(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),L(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),L(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),A("millisecond","ms"),U("S",jt,Dt),U("SS",jt,$t),U("SSS",jt,_t);var Pi;for(Pi="SSSS";Pi.length<=9;Pi+="S")U(Pi,Ft);for(Pi="S";Pi.length<=9;Pi+="S")G(Pi,function(e,t){t[Jt]=g(1e3*("0."+e))});var Ii=j("Milliseconds",!1);L("z",0,0,"zoneAbbr"),L("zz",0,0,"zoneName");var ji=p.prototype;ji.add=vi,ji.calendar=function(e,t){var i=e||Te(),n=Ae(i,this).startOf("day"),o=this.diff(n,"days",!0),s=o<-6?"sameElse":o<-1?"lastWeek":o<0?"lastDay":o<1?"sameDay":o<2?"nextDay":o<7?"nextWeek":"sameElse",a=t&&(x(t[s])?t[s]():t[s]);return this.format(a||this.localeData().calendar(s,this,Te(i)))},ji.clone=function(){return new p(this)},ji.diff=function(e,t,i){var n,o,s,a;return this.isValid()&&(n=Ae(e,this)).isValid()?(o=6e4*(n.utcOffset()-this.utcOffset()),"year"===(t=P(t))||"month"===t||"quarter"===t?(a=Ye(this,n),"quarter"===t?a/=3:"year"===t&&(a/=12)):(s=this-n,a="second"===t?s/1e3:"minute"===t?s/6e4:"hour"===t?s/36e5:"day"===t?(s-o)/864e5:"week"===t?(s-o)/6048e5:s),i?a:m(a)):NaN},ji.endOf=function(e){return void 0===(e=P(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},ji.format=function(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var i=N(this,t);return this.localeData().postformat(i)},ji.from=function(e,t){return this.isValid()&&(f(e)&&e.isValid()||Te(e).isValid())?je({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},ji.fromNow=function(e){return this.from(Te(),e)},ji.to=function(e,t){return this.isValid()&&(f(e)&&e.isValid()||Te(e).isValid())?je({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},ji.toNow=function(e){return this.to(Te(),e)},ji.get=F,ji.invalidAt=function(){return l(this).overflow},ji.isAfter=function(e,t){var i=f(e)?e:Te(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=P(u(t)?"millisecond":t))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())},ji.isBefore=function(e,t){var i=f(e)?e:Te(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=P(u(t)?"millisecond":t))?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())},ji.isBetween=function(e,t,i,n){return("("===(n=n||"()")[0]?this.isAfter(e,i):!this.isBefore(e,i))&&(")"===n[1]?this.isBefore(t,i):!this.isAfter(t,i))},ji.isSame=function(e,t){var i,n=f(e)?e:Te(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=P(t||"millisecond"))?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))},ji.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},ji.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},ji.isValid=function(){return c(this)},ji.lang=yi,ji.locale=Ne,ji.localeData=We,ji.max=pi,ji.min=hi,ji.parsingFlags=function(){return s({},l(this))},ji.set=F,ji.startOf=function(e){switch(e=P(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},ji.subtract=bi,ji.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},ji.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},ji.toDate=function(){return this._offset?new Date(this.valueOf()):this._d},ji.toISOString=function(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?x(Date.prototype.toISOString)?this.toDate().toISOString():N(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},ji.toJSON=function(){return this.isValid()?this.toISOString():null},ji.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ji.unix=function(){return Math.floor(this.valueOf()/1e3)},ji.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ji.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ji.year=ui,ji.isLeapYear=function(){return le(this.year())},ji.weekYear=function(e){return He.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ji.isoWeekYear=function(e){return He.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},ji.quarter=ji.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},ji.month=ee,ji.daysInMonth=function(){return J(this.year(),this.month())},ji.week=ji.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},ji.isoWeek=ji.isoWeeks=function(e){var t=ue(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},ji.weeksInYear=function(){var e=this.localeData()._week;return he(this.year(),e.dow,e.doy)},ji.isoWeeksInYear=function(){return he(this.year(),1,4)},ji.date=xi,ji.day=ji.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ve(e,this.localeData()),this.add(e-t,"d")):t},ji.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},ji.isoWeekday=function(e){return this.isValid()?null==e?this.day()||7:this.day(this.day()%7?e:e-7):null!=e?this:NaN},ji.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},ji.hour=ji.hours=Mi,ji.minute=ji.minutes=Oi,ji.second=ji.seconds=Ai,ji.millisecond=ji.milliseconds=Ii,ji.utcOffset=function(t,i){var n,o=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Oe(zt,t):Math.abs(t)<16&&(t*=60),!this._isUTC&&i&&(n=Pe(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),o!==t&&(!i||this._changeInProgress?ze(this,je(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:Pe(this):null!=t?this:NaN},ji.utc=function(e){return this.utcOffset(0,e)},ji.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Pe(this),"m")),this},ji.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Oe(Lt,this._i)),this},ji.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Te(e).utcOffset():0,(this.utcOffset()-e)%60==0)},ji.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ji.isDSTShifted=function(){if(!u(this._isDSTShifted))return this._isDSTShifted;var e={};if(h(e,this),(e=ke(e))._a){var t=e._isUTC?a(e._a):Te(e._a);this._isDSTShifted=this.isValid()&&v(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted},ji.isLocal=function(){return!!this.isValid()&&!this._isUTC},ji.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ji.isUtc=Ie,ji.isUTC=Ie,ji.zoneAbbr=function(){return this._isUTC?"UTC":""},ji.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ji.dates=y("dates accessor is deprecated. Use date instead.",xi),ji.months=y("months accessor is deprecated. Use month instead",ee),ji.years=y("years accessor is deprecated. Use year instead",ui),ji.zone=y("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()});var Ei=ji,Ri={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Fi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},qi=/\d{1,2}/,Li={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},zi=S.prototype;zi._calendar=Ri,zi.calendar=function(e,t,i){var n=this._calendar[e];return x(n)?n.call(t,i):n},zi._longDateFormat=Fi,zi.longDateFormat=function(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},zi._invalidDate="Invalid date",zi.invalidDate=function(){return this._invalidDate},zi._ordinal="%d",zi.ordinal=function(e){return this._ordinal.replace("%d",e)},zi._ordinalParse=qi,zi.preparse=Ke,zi.postformat=Ke,zi._relativeTime=Li,zi.relativeTime=function(e,t,i,n){var o=this._relativeTime[i];return x(o)?o(e,t,i,n):o.replace(/%d/i,e)},zi.pastFuture=function(e,t){var i=this._relativeTime[e>0?"future":"past"];return x(i)?i(t):i.replace(/%s/i,t)},zi.set=function(e){var t,i;for(i in e)x(t=e[i])?this[i]=t:this["_"+i]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},zi.months=function(e,i){return t(this._months)?this._months[e.month()]:this._months[ei.test(i)?"format":"standalone"][e.month()]},zi._months=ti,zi.monthsShort=function(e,i){return t(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ei.test(i)?"format":"standalone"][e.month()]},zi._monthsShort=ii,zi.monthsParse=function(e,t,i){var n,o,s;if(this._monthsParseExact)return Z.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=a([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}},zi._monthsRegex=oi,zi.monthsRegex=function(e){return this._monthsParseExact?(o(this,"_monthsRegex")||te.call(this),e?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex},zi._monthsShortRegex=ni,zi.monthsShortRegex=function(e){return this._monthsParseExact?(o(this,"_monthsRegex")||te.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex},zi.week=function(e){return ue(e,this._week.dow,this._week.doy).week},zi._week=wi,zi.firstDayOfYear=function(){return this._week.doy},zi.firstDayOfWeek=function(){return this._week.dow},zi.weekdays=function(e,i){return t(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(i)?"format":"standalone"][e.day()]},zi._weekdays=ki,zi.weekdaysMin=function(e){return this._weekdaysMin[e.day()]},zi._weekdaysMin=Si,zi.weekdaysShort=function(e){return this._weekdaysShort[e.day()]},zi._weekdaysShort=Ci,zi.weekdaysParse=function(e,t,i){var n,o,s;if(this._weekdaysParseExact)return Ge.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=a([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}},zi._weekdaysRegex=Ti,zi.weekdaysRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex},zi._weekdaysShortRegex=Di,zi.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex},zi._weekdaysMinRegex=$i,zi.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex},zi.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},zi._meridiemParse=_i,zi.meridiem=function(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"},_("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===g(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=y("moment.lang is deprecated. Use moment.locale instead.",_),e.langData=y("moment.langData is deprecated. Use moment.localeData instead.",O);var Yi=Math.abs,Ni=rt("ms"),Wi=rt("s"),Ui=rt("m"),Hi=rt("h"),Bi=rt("d"),Vi=rt("w"),Gi=rt("M"),Xi=rt("y"),Qi=lt("milliseconds"),Ji=lt("seconds"),Zi=lt("minutes"),Ki=lt("hours"),en=lt("days"),tn=lt("months"),nn=lt("years"),on=Math.round,sn={s:45,m:45,h:22,d:26,M:11},an=Math.abs,rn=$e.prototype;return rn.abs=function(){var e=this._data;return this._milliseconds=Yi(this._milliseconds),this._days=Yi(this._days),this._months=Yi(this._months),e.milliseconds=Yi(e.milliseconds),e.seconds=Yi(e.seconds),e.minutes=Yi(e.minutes),e.hours=Yi(e.hours),e.months=Yi(e.months),e.years=Yi(e.years),this},rn.add=function(e,t){return nt(this,e,t,1)},rn.subtract=function(e,t){return nt(this,e,t,-1)},rn.as=function(e){var t,i,n=this._milliseconds;if("month"===(e=P(e))||"year"===e)return t=this._days+n/864e5,i=this._months+st(t),"month"===e?i:i/12;switch(t=this._days+Math.round(at(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},rn.asMilliseconds=Ni,rn.asSeconds=Wi,rn.asMinutes=Ui,rn.asHours=Hi,rn.asDays=Bi,rn.asWeeks=Vi,rn.asMonths=Gi,rn.asYears=Xi,rn.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)},rn._bubble=function(){var e,t,i,n,o,s=this._milliseconds,a=this._days,r=this._months,l=this._data;return s>=0&&a>=0&&r>=0||s<=0&&a<=0&&r<=0||(s+=864e5*ot(at(r)+a),a=0,r=0),l.milliseconds=s%1e3,e=m(s/1e3),l.seconds=e%60,t=m(e/60),l.minutes=t%60,i=m(t/60),l.hours=i%24,a+=m(i/24),o=m(st(a)),r+=o,a-=ot(at(o)),n=m(r/12),r%=12,l.days=a,l.months=r,l.years=n,this},rn.get=function(e){return e=P(e),this[e+"s"]()},rn.milliseconds=Qi,rn.seconds=Ji,rn.minutes=Zi,rn.hours=Ki,rn.days=en,rn.weeks=function(){return m(this.days()/7)},rn.months=tn,rn.years=nn,rn.humanize=function(e){var t=this.localeData(),i=dt(this,!e,t);return e&&(i=t.pastFuture(+this,i)),t.postformat(i)},rn.toISOString=ut,rn.toString=ut,rn.toJSON=ut,rn.locale=Ne,rn.localeData=We,rn.toIsoString=y("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ut),rn.lang=yi,L("X",0,0,"unix"),L("x",0,0,"valueOf"),U("x",qt),U("X",Yt),G("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),G("x",function(e,t,i){i._d=new Date(g(e))}),e.version="2.13.0",function(e){ht=e}(Te),e.fn=Ei,e.min=function(){return De("isBefore",[].slice.call(arguments,0))},e.max=function(){return De("isAfter",[].slice.call(arguments,0))},e.now=function(){return Date.now?Date.now():+new Date},e.utc=a,e.unix=function(e){return Te(1e3*e)},e.months=function(e,t){return tt(e,t,"months")},e.isDate=i,e.locale=_,e.invalid=d,e.duration=je,e.isMoment=f,e.weekdays=function(e,t,i){return it(e,t,i,"weekdays")},e.parseZone=function(){return Te.apply(null,arguments).parseZone()},e.localeData=O,e.isDuration=_e,e.monthsShort=function(e,t){return tt(e,t,"monthsShort")},e.weekdaysMin=function(e,t,i){return it(e,t,i,"weekdaysMin")},e.defineLocale=M,e.updateLocale=function(e,t){if(null!=t){var i;null!=wt[e]&&(t=C(wt[e]._config,t)),(i=new S(t)).parentLocale=wt[e],wt[e]=i,_(e)}else null!=wt[e]&&(null!=wt[e].parentLocale?wt[e]=wt[e].parentLocale:null!=wt[e]&&delete wt[e]);return wt[e]},e.locales=function(){return vt(wt)},e.weekdaysShort=function(e,t,i){return it(e,t,i,"weekdaysShort")},e.normalizeUnits=P,e.relativeTimeThreshold=function(e,t){return void 0!==sn[e]&&(void 0===t?sn[e]:(sn[e]=t,!0))},e.prototype=Ei,e}),function(e,t){"object"==typeof exports&&exports&&"string"!=typeof exports.nodeName?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e.Mustache={},t(e.Mustache))}(this,function(e){function t(e){return"function"==typeof e}function i(e){return f(e)?"array":typeof e}function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(e,t){return null!=e&&"object"==typeof e&&t in e}function s(e,t){return m.call(e,t)}function a(e){return!s(g,e)}function r(t,i){function o(e){if("string"==typeof e&&(e=e.split(y,2)),!f(e)||2!==e.length)throw new Error("Invalid tags: "+e);s=new RegExp(n(e[0])+"\\s*"),r=new RegExp("\\s*"+n(e[1])),u=new RegExp("\\s*"+n("}"+e[1]))}if(!t)return[];var s,r,u,h=[],p=[],m=[],g=!1,v=!1;o(i||e.tags);for(var C,S,T,D,$,_,M=new d(t);!M.eos();){if(C=M.pos,T=M.scanUntil(s))for(var O=0,A=T.length;O<A;++O)a(D=T.charAt(O))?m.push(p.length):v=!0,p.push(["text",D,C,C+1]),C+=1,"\n"===D&&function(){if(g&&!v)for(;m.length;)delete p[m.pop()];else m=[];g=!1,v=!1}();if(!M.scan(s))break;if(g=!0,S=M.scan(k)||"name",M.scan(b),"="===S?(T=M.scanUntil(w),M.scan(w),M.scanUntil(r)):"{"===S?(T=M.scanUntil(u),M.scan(x),M.scanUntil(r),S="&"):T=M.scanUntil(r),!M.scan(r))throw new Error("Unclosed tag at "+M.pos);if($=[S,T,C,M.pos],p.push($),"#"===S||"^"===S)h.push($);else if("/"===S){if(!(_=h.pop()))throw new Error('Unopened section "'+T+'" at '+C);if(_[1]!==T)throw new Error('Unclosed section "'+_[1]+'" at '+C)}else"name"===S||"{"===S||"&"===S?v=!0:"="===S&&o(T)}if(_=h.pop())throw new Error('Unclosed section "'+_[1]+'" at '+M.pos);return c(l(p))}function l(e){for(var t,i,n=[],o=0,s=e.length;o<s;++o)(t=e[o])&&("text"===t[0]&&i&&"text"===i[0]?(i[1]+=t[1],i[3]=t[3]):(n.push(t),i=t));return n}function c(e){for(var t,i=[],n=i,o=[],s=0,a=e.length;s<a;++s)switch((t=e[s])[0]){case"#":case"^":n.push(t),o.push(t),n=t[4]=[];break;case"/":o.pop()[5]=t[2],n=o.length>0?o[o.length-1][4]:i;break;default:n.push(t)}return i}function d(e){this.string=e,this.tail=e,this.pos=0}function u(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function h(){this.cache={}}var p=Object.prototype.toString,f=Array.isArray||function(e){return"[object Array]"===p.call(e)},m=RegExp.prototype.test,g=/\S/,v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},b=/\s*/,y=/\s+/,w=/\s*=/,x=/\s*\}/,k=/#|\^|\/|>|\{|&|=|!/;d.prototype.eos=function(){return""===this.tail},d.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var i=t[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i},d.prototype.scanUntil=function(e){var t,i=this.tail.search(e);switch(i){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=t.length,t},u.prototype.push=function(e){return new u(e,this)},u.prototype.lookup=function(e){var i,n=this.cache;if(n.hasOwnProperty(e))i=n[e];else{for(var s,a,r=this,l=!1;r;){if(e.indexOf(".")>0)for(i=r.view,s=e.split("."),a=0;null!=i&&a<s.length;)a===s.length-1&&(l=o(i,s[a])),i=i[s[a++]];else i=r.view[e],l=o(r.view,e);if(l)break;r=r.parent}n[e]=i}return t(i)&&(i=i.call(this.view)),i},h.prototype.clearCache=function(){this.cache={}},h.prototype.parse=function(e,t){var i=this.cache,n=i[e];return null==n&&(n=i[e]=r(e,t)),n},h.prototype.render=function(e,t,i){var n=this.parse(e),o=t instanceof u?t:new u(t);return this.renderTokens(n,o,i,e)},h.prototype.renderTokens=function(e,t,i,n){for(var o,s,a,r="",l=0,c=e.length;l<c;++l)a=void 0,"#"===(s=(o=e[l])[0])?a=this.renderSection(o,t,i,n):"^"===s?a=this.renderInverted(o,t,i,n):">"===s?a=this.renderPartial(o,t,i,n):"&"===s?a=this.unescapedValue(o,t):"name"===s?a=this.escapedValue(o,t):"text"===s&&(a=this.rawValue(o)),void 0!==a&&(r+=a);return r},h.prototype.renderSection=function(e,i,n,o){var s=this,a="",r=i.lookup(e[1]);if(r){if(f(r))for(var l=0,c=r.length;l<c;++l)a+=this.renderTokens(e[4],i.push(r[l]),n,o);else if("object"==typeof r||"string"==typeof r||"number"==typeof r)a+=this.renderTokens(e[4],i.push(r),n,o);else if(t(r)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(r=r.call(i.view,o.slice(e[3],e[5]),function(e){return s.render(e,i,n)}))&&(a+=r)}else a+=this.renderTokens(e[4],i,n,o);return a}},h.prototype.renderInverted=function(e,t,i,n){var o=t.lookup(e[1]);if(!o||f(o)&&0===o.length)return this.renderTokens(e[4],t,i,n)},h.prototype.renderPartial=function(e,i,n){if(n){var o=t(n)?n(e[1]):n[e[1]];return null!=o?this.renderTokens(this.parse(o),i,n,o):void 0}},h.prototype.unescapedValue=function(e,t){var i=t.lookup(e[1]);if(null!=i)return i},h.prototype.escapedValue=function(t,i){var n=i.lookup(t[1]);if(null!=n)return e.escape(n)},h.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.2.1",e.tags=["{{","}}"];var C=new h;e.clearCache=function(){return C.clearCache()},e.parse=function(e,t){return C.parse(e,t)},e.render=function(e,t,n){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+i(e)+'" was given as the first argument for mustache#render(template, view, partials)');return C.render(e,t,n)},e.to_html=function(i,n,o,s){var a=e.render(i,n,o);if(!t(s))return a;s(a)},e.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return v[e]})},e.Scanner=d,e.Context=u,e.Writer=h}),function(e){e.reject=function(n){var o=e.extend(!0,{reject:{all:!1,msie:6},display:[],browserShow:!0,browserInfo:{chrome:{text:"Google Chrome",url:"http://www.google.com/chrome/"},firefox:{text:"Mozilla Firefox",url:"http://www.mozilla.com/firefox/"},safari:{text:"Safari",url:"http://www.apple.com/safari/download/"},opera:{text:"Opera",url:"http://www.opera.com/download/"},msie:{text:"Internet Explorer",url:"http://www.microsoft.com/windows/Internet-explorer/"}},header:"Did you know that your Internet Browser is out of date?",paragraph1:"Your browser is out of date, and may not be compatible with our website. A list of the most popular web browsers can be found below.",paragraph2:"Just click on the icons to get to the download page",close:!0,closeMessage:"By closing this window you acknowledge that your experience on this website may be degraded",closeLink:"Close This Window",closeURL:"#",closeESC:!0,closeCookie:!1,cookieSettings:{path:"/",expires:0},imagePath:"./images/",overlayBgColor:"#000",overlayOpacity:.8,fadeInTime:"fast",fadeOutTime:"fast",analytics:!1},n);o.display.length<1&&(o.display=["chrome","firefox","safari","opera","msie"]),e.isFunction(o.beforeReject)&&o.beforeReject(),o.close||(o.closeESC=!1);var s=function(t){var i=t[e.layout.name],n=t[e.browser.name];return!!(t.all||n&&(!0===n||e.browser.versionNumber<=n)||t[e.browser.className]||i&&(!0===i||e.layout.versionNumber<=i)||t[e.os.name])};if(!s(o.reject))return e.isFunction(o.onFail)&&o.onFail(),!1;if(o.close&&o.closeCookie){var a="jreject-close",r=function(t,i){if(void 0!==i){var n="";if(0!==o.cookieSettings.expires){var s=new Date;s.setTime(s.getTime()+1e3*o.cookieSettings.expires),n="; expires="+s.toGMTString()}var a=o.cookieSettings.path||"/";return document.cookie=t+"="+encodeURIComponent(i||"")+n+"; path="+a,!0}var r,l=null;if(document.cookie&&""!==document.cookie)for(var c=document.cookie.split(";"),d=c.length,u=0;u<d;++u)if((r=e.trim(c[u])).substring(0,t.length+1)==t+"="){var h=t.length;l=decodeURIComponent(r.substring(h+1));break}return l};if(r(a))return!1}var l='<div id="jr_overlay"></div><div id="jr_wrap"><div id="jr_inner"><h1 id="jr_header">'+o.header+"</h1>"+(""===o.paragraph1?"":"<p>"+o.paragraph1+"</p>")+(""===o.paragraph2?"":"<p>"+o.paragraph2+"</p>"),c=0;if(o.browserShow){l+="<ul>";for(var d in o.display){var u=o.display[d],h=o.browserInfo[u]||!1;h&&(void 0==h.allow||s(h.allow))&&(l+='<li id="jr_'+u+'"><div class="jr_icon"></div><div><a href="'+(h.url||"#")+'">'+(h.text||"Unknown")+"</a></div></li>",++c)}l+="</ul>"}l+='<div id="jr_close">'+(o.close?'<a href="'+o.closeURL+'">'+o.closeLink+"</a><p>"+o.closeMessage+"</p>":"")+"</div></div></div>";var p=e("<div>"+l+"</div>"),f=t(),m=i();p.bind("closejr",function(){if(!o.close)return!1;e.isFunction(o.beforeClose)&&o.beforeClose(),e(this).unbind("closejr"),e("#jr_overlay,#jr_wrap").fadeOut(o.fadeOutTime,function(){e(this).remove(),e.isFunction(o.afterClose)&&o.afterClose()});return e("embed.jr_hidden, object.jr_hidden, select.jr_hidden, applet.jr_hidden").show().removeClass("jr_hidden"),o.closeCookie&&r(a,"true"),!0});var g=function(e){if(!o.analytics)return!1;var t=e.split(/\/+/g)[1];try{ga("send","event","External","Click",t,e)}catch(i){try{_gaq.push(["_trackEvent","External Links",t,e])}catch(e){}}},v=function(e){return g(e),window.open(e,"jr_"+Math.round(11*Math.random())),!1};return p.find("#jr_overlay").css({width:f[0],height:f[1],background:o.overlayBgColor,opacity:o.overlayOpacity}),p.find("#jr_wrap").css({top:m[1]+f[3]/4,left:m[0]}),p.find("#jr_inner").css({minWidth:100*c,maxWidth:140*c,width:"trident"==e.layout.name?155*c:"auto"}),p.find("#jr_inner li").css({background:'transparent url("'+o.imagePath+'background_browser.gif")no-repeat scroll left top'}),p.find("#jr_inner li .jr_icon").each(function(){var t=e(this);t.css("background","transparent url("+o.imagePath+"browser_"+t.parent("li").attr("id").replace(/jr_/,"")+".gif) no-repeat scroll left top"),t.click(function(){var t=e(this).next("div").children("a").attr("href");v(t)})}),p.find("#jr_inner li a").click(function(){return v(e(this).attr("href")),!1}),p.find("#jr_close a").click(function(){if(e(this).trigger("closejr"),"#"===o.closeURL)return!1}),e("#jr_overlay").focus(),e("embed, object, select, applet").each(function(){e(this).is(":visible")&&e(this).hide().addClass("jr_hidden")}),e("body").append(p.hide().fadeIn(o.fadeInTime)),e(window).bind("resize scroll",function(){var n=t();e("#jr_overlay").css({width:n[0],height:n[1]});var o=i();e("#jr_wrap").css({top:o[1]+n[3]/4,left:o[0]})}),o.closeESC&&e(document).bind("keydown",function(e){27==e.keyCode&&p.trigger("closejr")}),e.isFunction(o.afterReject)&&o.afterReject(),!0};var t=function(){var e=window.innerWidth&&window.scrollMaxX?window.innerWidth+window.scrollMaxX:document.body.scrollWidth>document.body.offsetWidth?document.body.scrollWidth:document.body.offsetWidth,t=window.innerHeight&&window.scrollMaxY?window.innerHeight+window.scrollMaxY:document.body.scrollHeight>document.body.offsetHeight?document.body.scrollHeight:document.body.offsetHeight,i=window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth,n=window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight;return[e<i?e:i,t<n?n:t,i,n]},i=function(){return[window.pageXOffset?window.pageXOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollLeft:document.body.scrollLeft,window.pageYOffset?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop]}}(jQuery),function(e){e.browserTest=function(t,i){var n="unknown",o="X",s=function(e,t){for(var i=0;i<t.length;i+=1)e=e.replace(t[i][0],t[i][1]);return e},a=function(t,i,a,r){var l={name:s((i.exec(t)||[n,n])[1],a)};if(l[l.name]=!0,l.opera?l.version=window.opera.version():l.version=(r.exec(t)||[o,o,o,o])[3],/safari/.test(l.name)){var c=/(safari)(\/|\s)([a-z0-9\.\+]*?)(\;|dev|rel|\s|$)/.exec(t);c&&c[3]&&c[3]<400&&(l.version="2.0")}else"presto"===l.name&&(l.version=e.browser.version>9.27?"futhark":"linear_b");if(/msie/.test(l.name)&&l.version===o){var d=/rv:(\d+\.\d+)/.exec(t);l.version=d[1]}l.versionNumber=parseFloat(l.version,10)||0;var u=1;return l.versionNumber<100&&l.versionNumber>9&&(u=2),l.versionX=l.version!==o?l.version.substr(0,u):o,l.className=l.name+l.versionX,l};t=(/Opera|Navigator|Minefield|KHTML|Chrome|CriOS/.test(t)?s(t,[[/(Firefox|MSIE|KHTML,\slike\sGecko|Konqueror)/,""],["Chrome Safari","Chrome"],["CriOS","Chrome"],["KHTML","Konqueror"],["Minefield","Firefox"],["Navigator","Netscape"]]):t).toLowerCase(),e.browser=e.extend(i?{}:e.browser,a(t,/(camino|chrome|crios|firefox|netscape|konqueror|lynx|msie|trident|opera|safari)/,[["trident","msie"]],/(camino|chrome|crios|firefox|netscape|netscape6|opera|version|konqueror|lynx|msie|rv|safari)(:|\/|\s)([a-z0-9\.\+]*?)(\;|dev|rel|\s|$)/)),e.layout=a(t,/(gecko|konqueror|msie|trident|opera|webkit)/,[["konqueror","khtml"],["msie","trident"],["opera","presto"]],/(applewebkit|rv|konqueror|msie)(\:|\/|\s)([a-z0-9\.]*?)(\;|\)|\s)/),e.os={name:(/(win|mac|linux|sunos|solaris|iphone|ipad)/.exec(navigator.platform.toLowerCase())||[n])[0].replace("sunos","solaris")},i||e("html").addClass([e.os.name,e.browser.name,e.browser.className,e.layout.name,e.layout.className].join(" "))},e.browserTest(navigator.userAgent)}(jQuery),"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(e,t,i){var n={init:function(t,i){this.$elem=e(i),this.options=e.extend({},e.fn.owlCarousel.options,this.$elem.data(),t),this.userOptions=t,this.loadContent()},loadContent:function(){var t,i=this;"function"==typeof i.options.beforeInit&&i.options.beforeInit.apply(this,[i.$elem]),"string"==typeof i.options.jsonPath?(t=i.options.jsonPath,e.getJSON(t,function(e){var t,n="";if("function"==typeof i.options.jsonSuccess)i.options.jsonSuccess.apply(this,[e]);else{for(t in e.owl)e.owl.hasOwnProperty(t)&&(n+=e.owl[t].item);i.$elem.html(n)}i.logIn()})):i.logIn()},logIn:function(){this.$elem.data("owl-originalStyles",this.$elem.attr("style")),this.$elem.data("owl-originalClasses",this.$elem.attr("class")),this.$elem.css({opacity:0}),this.orignalItems=this.options.items,this.checkBrowser(),this.wrapperWidth=0,this.checkVisible=null,this.setVars()},setVars:function(){if(0===this.$elem.children().length)return!1;this.baseClass(),this.eventTypes(),this.$userItems=this.$elem.children(),this.itemsAmount=this.$userItems.length,this.wrapItems(),this.$owlItems=this.$elem.find(".owl-item"),this.$owlWrapper=this.$elem.find(".owl-wrapper"),this.playDirection="next",this.prevItem=0,this.prevArr=[0],this.currentItem=0,this.customEvents(),this.onStartup()},onStartup:function(){this.updateItems(),this.calculateAll(),this.buildControls(),this.updateControls(),this.response(),this.moveEvents(),this.stopOnHover(),this.owlStatus(),!1!==this.options.transitionStyle&&this.transitionTypes(this.options.transitionStyle),!0===this.options.autoPlay&&(this.options.autoPlay=5e3),this.play(),this.$elem.find(".owl-wrapper").css("display","block"),this.$elem.is(":visible")?this.$elem.css("opacity",1):this.watchVisibility(),this.onstartup=!1,this.eachMoveUpdate(),"function"==typeof this.options.afterInit&&this.options.afterInit.apply(this,[this.$elem])},eachMoveUpdate:function(){!0===this.options.lazyLoad&&this.lazyLoad(),!0===this.options.autoHeight&&this.autoHeight(),this.onVisibleItems(),"function"==typeof this.options.afterAction&&this.options.afterAction.apply(this,[this.$elem])},updateVars:function(){"function"==typeof this.options.beforeUpdate&&this.options.beforeUpdate.apply(this,[this.$elem]),this.watchVisibility(),this.updateItems(),this.calculateAll(),this.updatePosition(),this.updateControls(),this.eachMoveUpdate(),"function"==typeof this.options.afterUpdate&&this.options.afterUpdate.apply(this,[this.$elem])},reload:function(){var e=this;t.setTimeout(function(){e.updateVars()},0)},watchVisibility:function(){var e=this;if(!1!==e.$elem.is(":visible"))return!1;e.$elem.css({opacity:0}),t.clearInterval(e.autoPlayInterval),t.clearInterval(e.checkVisible),e.checkVisible=t.setInterval(function(){e.$elem.is(":visible")&&(e.reload(),e.$elem.animate({opacity:1},200),t.clearInterval(e.checkVisible))},500)},wrapItems:function(){this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>'),this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">'),this.wrapperOuter=this.$elem.find(".owl-wrapper-outer"),this.$elem.css("display","block")},baseClass:function(){var e=this.$elem.hasClass(this.options.baseClass),t=this.$elem.hasClass(this.options.theme);e||this.$elem.addClass(this.options.baseClass),t||this.$elem.addClass(this.options.theme)},updateItems:function(){var t,i;if(!1===this.options.responsive)return!1;if(!0===this.options.singleItem)return this.options.items=this.orignalItems=1,this.options.itemsCustom=!1,this.options.itemsDesktop=!1,this.options.itemsDesktopSmall=!1,this.options.itemsTablet=!1,this.options.itemsTabletSmall=!1,this.options.itemsMobile=!1;if((t=e(this.options.responsiveBaseWidth).width())>(this.options.itemsDesktop[0]||this.orignalItems)&&(this.options.items=this.orignalItems),!1!==this.options.itemsCustom)for(this.options.itemsCustom.sort(function(e,t){return e[0]-t[0]}),i=0;i<this.options.itemsCustom.length;i+=1)this.options.itemsCustom[i][0]<=t&&(this.options.items=this.options.itemsCustom[i][1]);else t<=this.options.itemsDesktop[0]&&!1!==this.options.itemsDesktop&&(this.options.items=this.options.itemsDesktop[1]),t<=this.options.itemsDesktopSmall[0]&&!1!==this.options.itemsDesktopSmall&&(this.options.items=this.options.itemsDesktopSmall[1]),t<=this.options.itemsTablet[0]&&!1!==this.options.itemsTablet&&(this.options.items=this.options.itemsTablet[1]),t<=this.options.itemsTabletSmall[0]&&!1!==this.options.itemsTabletSmall&&(this.options.items=this.options.itemsTabletSmall[1]),t<=this.options.itemsMobile[0]&&!1!==this.options.itemsMobile&&(this.options.items=this.options.itemsMobile[1]);this.options.items>this.itemsAmount&&!0===this.options.itemsScaleUp&&(this.options.items=this.itemsAmount)},response:function(){var i,n,o=this;if(!0!==o.options.responsive)return!1;n=e(t).width(),o.resizer=function(){e(t).width()!==n&&(!1!==o.options.autoPlay&&t.clearInterval(o.autoPlayInterval),t.clearTimeout(i),i=t.setTimeout(function(){n=e(t).width(),o.updateVars()},o.options.responsiveRefreshRate))},e(t).resize(o.resizer)},updatePosition:function(){this.jumpTo(this.currentItem),!1!==this.options.autoPlay&&this.checkAp()},appendItemsSizes:function(){var t=this,i=0,n=t.itemsAmount-t.options.items;t.$owlItems.each(function(o){var s=e(this);s.css({width:t.itemWidth}).data("owl-item",Number(o)),0!=o%t.options.items&&o!==n||o>n||(i+=1),s.data("owl-roundPages",i)})},appendWrapperSizes:function(){this.$owlWrapper.css({width:this.$owlItems.length*this.itemWidth*2,left:0}),this.appendItemsSizes()},calculateAll:function(){this.calculateWidth(),this.appendWrapperSizes(),this.loops(),this.max()},calculateWidth:function(){this.itemWidth=Math.round(this.$elem.width()/this.options.items)},max:function(){var e=-1*(this.itemsAmount*this.itemWidth-this.options.items*this.itemWidth);return this.options.items>this.itemsAmount?this.maximumPixels=e=this.maximumItem=0:(this.maximumItem=this.itemsAmount-this.options.items,this.maximumPixels=e),e},min:function(){return 0},loops:function(){var t,i,n=0,o=0;for(this.positionsInArray=[0],this.pagesInArray=[],t=0;t<this.itemsAmount;t+=1)o+=this.itemWidth,this.positionsInArray.push(-o),!0===this.options.scrollPerPage&&(i=e(this.$owlItems[t]),(i=i.data("owl-roundPages"))!==n&&(this.pagesInArray[n]=this.positionsInArray[t],n=i))},buildControls:function(){!0!==this.options.navigation&&!0!==this.options.pagination||(this.owlControls=e('<div class="owl-controls"/>').toggleClass("clickable",!this.browser.isTouch).appendTo(this.$elem)),!0===this.options.pagination&&this.buildPagination(),!0===this.options.navigation&&this.buildButtons()},buildButtons:function(){var t=this,i=e('<div class="owl-buttons"/>');t.owlControls.append(i),t.buttonPrev=e("<div/>",{class:"owl-prev",html:t.options.navigationText[0]||""}),t.buttonNext=e("<div/>",{class:"owl-next",html:t.options.navigationText[1]||""}),i.append(t.buttonPrev).append(t.buttonNext),i.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(e){e.preventDefault()}),i.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(i){i.preventDefault(),e(this).hasClass("owl-next")?t.next():t.prev()})},buildPagination:function(){var t=this;t.paginationWrapper=e('<div class="owl-pagination"/>'),t.owlControls.append(t.paginationWrapper),t.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(i){i.preventDefault(),Number(e(this).data("owl-page"))!==t.currentItem&&t.goTo(Number(e(this).data("owl-page")),!0)})},updatePagination:function(){var t,i,n,o,s,a;if(!1===this.options.pagination)return!1;for(this.paginationWrapper.html(""),t=0,i=this.itemsAmount-this.itemsAmount%this.options.items,o=0;o<this.itemsAmount;o+=1)0==o%this.options.items&&(t+=1,i===o&&(n=this.itemsAmount-this.options.items),s=e("<div/>",{class:"owl-page"}),a=e("<span></span>",{text:!0===this.options.paginationNumbers?t:"",class:!0===this.options.paginationNumbers?"owl-numbers":""}),s.append(a),s.data("owl-page",i===o?n:o),s.data("owl-roundPages",t),this.paginationWrapper.append(s));this.checkPagination()},checkPagination:function(){var t=this;if(!1===t.options.pagination)return!1;t.paginationWrapper.find(".owl-page").each(function(){e(this).data("owl-roundPages")===e(t.$owlItems[t.currentItem]).data("owl-roundPages")&&(t.paginationWrapper.find(".owl-page").removeClass("active"),e(this).addClass("active"))})},checkNavigation:function(){if(!1===this.options.navigation)return!1;!1===this.options.rewindNav&&(0===this.currentItem&&0===this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.addClass("disabled")):0===this.currentItem&&0!==this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.removeClass("disabled")):this.currentItem===this.maximumItem?(this.buttonPrev.removeClass("disabled"),this.buttonNext.addClass("disabled")):0!==this.currentItem&&this.currentItem!==this.maximumItem&&(this.buttonPrev.removeClass("disabled"),this.buttonNext.removeClass("disabled")))},updateControls:function(){this.updatePagination(),this.checkNavigation(),this.owlControls&&(this.options.items>=this.itemsAmount?this.owlControls.hide():this.owlControls.show())},destroyControls:function(){this.owlControls&&this.owlControls.remove()},next:function(e){if(this.isTransition)return!1;if(this.currentItem+=!0===this.options.scrollPerPage?this.options.items:1,this.currentItem>this.maximumItem+(!0===this.options.scrollPerPage?this.options.items-1:0)){if(!0!==this.options.rewindNav)return this.currentItem=this.maximumItem,!1;this.currentItem=0,e="rewind"}this.goTo(this.currentItem,e)},prev:function(e){if(this.isTransition)return!1;if(this.currentItem=!0===this.options.scrollPerPage&&0<this.currentItem&&this.currentItem<this.options.items?0:this.currentItem-(!0===this.options.scrollPerPage?this.options.items:1),0>this.currentItem){if(!0!==this.options.rewindNav)return this.currentItem=0,!1;this.currentItem=this.maximumItem,e="rewind"}this.goTo(this.currentItem,e)},goTo:function(e,i,n){var o=this;return!o.isTransition&&("function"==typeof o.options.beforeMove&&o.options.beforeMove.apply(this,[o.$elem]),e>=o.maximumItem?e=o.maximumItem:0>=e&&(e=0),o.currentItem=o.owl.currentItem=e,!1!==o.options.transitionStyle&&"drag"!==n&&1===o.options.items&&!0===o.browser.support3d?(o.swapSpeed(0),!0===o.browser.support3d?o.transition3d(o.positionsInArray[e]):o.css2slide(o.positionsInArray[e],1),o.afterGo(),o.singleItemTransition(),!1):(e=o.positionsInArray[e],!0===o.browser.support3d?(o.isCss3Finish=!1,!0===i?(o.swapSpeed("paginationSpeed"),t.setTimeout(function(){o.isCss3Finish=!0},o.options.paginationSpeed)):"rewind"===i?(o.swapSpeed(o.options.rewindSpeed),t.setTimeout(function(){o.isCss3Finish=!0},o.options.rewindSpeed)):(o.swapSpeed("slideSpeed"),t.setTimeout(function(){o.isCss3Finish=!0},o.options.slideSpeed)),o.transition3d(e)):!0===i?o.css2slide(e,o.options.paginationSpeed):"rewind"===i?o.css2slide(e,o.options.rewindSpeed):o.css2slide(e,o.options.slideSpeed),void o.afterGo()))},jumpTo:function(e){"function"==typeof this.options.beforeMove&&this.options.beforeMove.apply(this,[this.$elem]),e>=this.maximumItem||-1===e?e=this.maximumItem:0>=e&&(e=0),this.swapSpeed(0),!0===this.browser.support3d?this.transition3d(this.positionsInArray[e]):this.css2slide(this.positionsInArray[e],1),this.currentItem=this.owl.currentItem=e,this.afterGo()},afterGo:function(){this.prevArr.push(this.currentItem),this.prevItem=this.owl.prevItem=this.prevArr[this.prevArr.length-2],this.prevArr.shift(0),this.prevItem!==this.currentItem&&(this.checkPagination(),this.checkNavigation(),this.eachMoveUpdate(),!1!==this.options.autoPlay&&this.checkAp()),"function"==typeof this.options.afterMove&&this.prevItem!==this.currentItem&&this.options.afterMove.apply(this,[this.$elem])},stop:function(){this.apStatus="stop",t.clearInterval(this.autoPlayInterval)},checkAp:function(){"stop"!==this.apStatus&&this.play()},play:function(){var e=this;if(e.apStatus="play",!1===e.options.autoPlay)return!1;t.clearInterval(e.autoPlayInterval),e.autoPlayInterval=t.setInterval(function(){e.next(!0)},e.options.autoPlay)},swapSpeed:function(e){"slideSpeed"===e?this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)):"paginationSpeed"===e?this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)):"string"!=typeof e&&this.$owlWrapper.css(this.addCssSpeed(e))},addCssSpeed:function(e){return{"-webkit-transition":"all "+e+"ms ease","-moz-transition":"all "+e+"ms ease","-o-transition":"all "+e+"ms ease",transition:"all "+e+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(e){return{"-webkit-transform":"translate3d("+e+"px, 0px, 0px)","-moz-transform":"translate3d("+e+"px, 0px, 0px)","-o-transform":"translate3d("+e+"px, 0px, 0px)","-ms-transform":"translate3d("+e+"px, 0px, 0px)",transform:"translate3d("+e+"px, 0px,0px)"}},transition3d:function(e){this.$owlWrapper.css(this.doTranslate(e))},css2move:function(e){this.$owlWrapper.css({left:e})},css2slide:function(e,t){var i=this;i.isCssFinish=!1,i.$owlWrapper.stop(!0,!0).animate({left:e},{duration:t||i.options.slideSpeed,complete:function(){i.isCssFinish=!0}})},checkBrowser:function(){var e=i.createElement("div");e.style.cssText="  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)",e=e.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g),this.browser={support3d:null!==e&&1===e.length,isTouch:"ontouchstart"in t||t.navigator.msMaxTouchPoints}},moveEvents:function(){!1===this.options.mouseDrag&&!1===this.options.touchDrag||(this.gestures(),this.disabledEvents())},eventTypes:function(){var e=["s","e","x"];this.ev_types={},!0===this.options.mouseDrag&&!0===this.options.touchDrag?e=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:!1===this.options.mouseDrag&&!0===this.options.touchDrag?e=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:!0===this.options.mouseDrag&&!1===this.options.touchDrag&&(e=["mousedown.owl","mousemove.owl","mouseup.owl"]),this.ev_types.start=e[0],this.ev_types.move=e[1],this.ev_types.end=e[2]},disabledEvents:function(){this.$elem.on("dragstart.owl",function(e){e.preventDefault()}),this.$elem.on("mousedown.disableTextSelect",function(t){return e(t.target).is("input, textarea, select, option")})},gestures:function(){function n(e){if(void 0!==e.touches)return{x:e.touches[0].pageX,y:e.touches[0].pageY};if(void 0===e.touches){if(void 0!==e.pageX)return{x:e.pageX,y:e.pageY};if(void 0===e.pageX)return{x:e.clientX,y:e.clientY}}}function o(t){"on"===t?(e(i).on(r.ev_types.move,s),e(i).on(r.ev_types.end,a)):"off"===t&&(e(i).off(r.ev_types.move),e(i).off(r.ev_types.end))}function s(o){o=o.originalEvent||o||t.event,r.newPosX=n(o).x-l.offsetX,r.newPosY=n(o).y-l.offsetY,r.newRelativeX=r.newPosX-l.relativePos,"function"==typeof r.options.startDragging&&!0!==l.dragging&&0!==r.newRelativeX&&(l.dragging=!0,r.options.startDragging.apply(r,[r.$elem])),(8<r.newRelativeX||-8>r.newRelativeX)&&!0===r.browser.isTouch&&(void 0!==o.preventDefault?o.preventDefault():o.returnValue=!1,l.sliding=!0),(10<r.newPosY||-10>r.newPosY)&&!1===l.sliding&&e(i).off("touchmove.owl"),r.newPosX=Math.max(Math.min(r.newPosX,r.newRelativeX/5),r.maximumPixels+r.newRelativeX/5),!0===r.browser.support3d?r.transition3d(r.newPosX):r.css2move(r.newPosX)}function a(i){var n;(i=i.originalEvent||i||t.event).target=i.target||i.srcElement,l.dragging=!1,!0!==r.browser.isTouch&&r.$owlWrapper.removeClass("grabbing"),r.dragDirection=0>r.newRelativeX?r.owl.dragDirection="left":r.owl.dragDirection="right",0!==r.newRelativeX&&(n=r.getNewPosition(),r.goTo(n,!1,"drag"),l.targetElement===i.target&&!0!==r.browser.isTouch&&(e(i.target).on("click.disable",function(t){t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e(t.target).off("click.disable")}),i=e._data(i.target,"events").click,n=i.pop(),i.splice(0,0,n))),o("off")}var r=this,l={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};r.isCssFinish=!0,r.$elem.on(r.ev_types.start,".owl-wrapper",function(i){var s;if(3===(i=i.originalEvent||i||t.event).which)return!1;if(!(r.itemsAmount<=r.options.items)){if(!1===r.isCssFinish&&!r.options.dragBeforeAnimFinish||!1===r.isCss3Finish&&!r.options.dragBeforeAnimFinish)return!1;!1!==r.options.autoPlay&&t.clearInterval(r.autoPlayInterval),!0===r.browser.isTouch||r.$owlWrapper.hasClass("grabbing")||r.$owlWrapper.addClass("grabbing"),r.newPosX=0,r.newRelativeX=0,e(this).css(r.removeTransition()),s=e(this).position(),l.relativePos=s.left,l.offsetX=n(i).x-s.left,l.offsetY=n(i).y-s.top,o("on"),l.sliding=!1,l.targetElement=i.target||i.srcElement}})},getNewPosition:function(){var e=this.closestItem();return e>this.maximumItem?e=this.currentItem=this.maximumItem:0<=this.newPosX&&(this.currentItem=e=0),e},closestItem:function(){var t=this,i=!0===t.options.scrollPerPage?t.pagesInArray:t.positionsInArray,n=t.newPosX,o=null;return e.each(i,function(s,a){n-t.itemWidth/20>i[s+1]&&n-t.itemWidth/20<a&&"left"===t.moveDirection()?(o=a,t.currentItem=!0===t.options.scrollPerPage?e.inArray(o,t.positionsInArray):s):n+t.itemWidth/20<a&&n+t.itemWidth/20>(i[s+1]||i[s]-t.itemWidth)&&"right"===t.moveDirection()&&(!0===t.options.scrollPerPage?(o=i[s+1]||i[i.length-1],t.currentItem=e.inArray(o,t.positionsInArray)):(o=i[s+1],t.currentItem=s+1))}),t.currentItem},moveDirection:function(){var e;return 0>this.newRelativeX?(e="right",this.playDirection="next"):(e="left",this.playDirection="prev"),e},customEvents:function(){var e=this;e.$elem.on("owl.next",function(){e.next()}),e.$elem.on("owl.prev",function(){e.prev()}),e.$elem.on("owl.play",function(t,i){e.options.autoPlay=i,e.play(),e.hoverStatus="play"}),e.$elem.on("owl.stop",function(){e.stop(),e.hoverStatus="stop"}),e.$elem.on("owl.goTo",function(t,i){e.goTo(i)}),e.$elem.on("owl.jumpTo",function(t,i){e.jumpTo(i)})},stopOnHover:function(){var e=this;!0===e.options.stopOnHover&&!0!==e.browser.isTouch&&!1!==e.options.autoPlay&&(e.$elem.on("mouseover",function(){e.stop()}),e.$elem.on("mouseout",function(){"stop"!==e.hoverStatus&&e.play()}))},lazyLoad:function(){var t,i,n,o;if(!1===this.options.lazyLoad)return!1;for(t=0;t<this.itemsAmount;t+=1)"loaded"!==(i=e(this.$owlItems[t])).data("owl-loaded")&&(n=i.data("owl-item"),"string"!=typeof(o=i.find(".lazyOwl")).data("src")?i.data("owl-loaded","loaded"):(void 0===i.data("owl-loaded")&&(o.hide(),i.addClass("loading").data("owl-loaded","checked")),(!0!==this.options.lazyFollow||n>=this.currentItem)&&n<this.currentItem+this.options.items&&o.length&&this.lazyPreload(i,o)))},lazyPreload:function(e,i){function n(){e.data("owl-loaded","loaded").removeClass("loading"),i.removeAttr("data-src"),"fade"===a.options.lazyEffect?i.fadeIn(400):i.show(),"function"==typeof a.options.afterLazyLoad&&a.options.afterLazyLoad.apply(this,[a.$elem])}function o(){r+=1,a.completeImg(i.get(0))||!0===s?n():100>=r?t.setTimeout(o,100):n()}var s,a=this,r=0;"DIV"===i.prop("tagName")?(i.css("background-image","url("+i.data("src")+")"),s=!0):i[0].src=i.data("src"),o()},autoHeight:function(){function i(){var i=e(s.$owlItems[s.currentItem]).height();s.wrapperOuter.css("height",i+"px"),s.wrapperOuter.hasClass("autoHeight")||t.setTimeout(function(){s.wrapperOuter.addClass("autoHeight")},0)}function n(){o+=1,s.completeImg(a.get(0))?i():100>=o?t.setTimeout(n,100):s.wrapperOuter.css("height","")}var o,s=this,a=e(s.$owlItems[s.currentItem]).find("img");void 0!==a.get(0)?(o=0,n()):i()},completeImg:function(e){return!(!e.complete||void 0!==e.naturalWidth&&0===e.naturalWidth)},onVisibleItems:function(){var t;for(!0===this.options.addClassActive&&this.$owlItems.removeClass("active"),this.visibleItems=[],t=this.currentItem;t<this.currentItem+this.options.items;t+=1)this.visibleItems.push(t),!0===this.options.addClassActive&&e(this.$owlItems[t]).addClass("active");this.owl.visibleItems=this.visibleItems},transitionTypes:function(e){this.outClass="owl-"+e+"-out",this.inClass="owl-"+e+"-in"},singleItemTransition:function(){var e=this,t=e.outClass,i=e.inClass,n=e.$owlItems.eq(e.currentItem),o=e.$owlItems.eq(e.prevItem),s=Math.abs(e.positionsInArray[e.currentItem])+e.positionsInArray[e.prevItem],a=Math.abs(e.positionsInArray[e.currentItem])+e.itemWidth/2;e.isTransition=!0,e.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":a+"px","-moz-perspective-origin":a+"px","perspective-origin":a+"px"}),o.css({position:"relative",left:s+"px"}).addClass(t).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){e.endPrev=!0,o.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"),e.clearTransStyle(o,t)}),n.addClass(i).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){e.endCurrent=!0,n.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"),e.clearTransStyle(n,i)})},clearTransStyle:function(e,t){e.css({position:"",left:""}).removeClass(t),this.endPrev&&this.endCurrent&&(this.$owlWrapper.removeClass("owl-origin"),this.isTransition=this.endCurrent=this.endPrev=!1)},owlStatus:function(){this.owl={userOptions:this.userOptions,baseElement:this.$elem,userItems:this.$userItems,owlItems:this.$owlItems,currentItem:this.currentItem,prevItem:this.prevItem,visibleItems:this.visibleItems,isTouch:this.browser.isTouch,browser:this.browser,dragDirection:this.dragDirection}},clearEvents:function(){this.$elem.off(".owl owl mousedown.disableTextSelect"),e(i).off(".owl owl"),e(t).off("resize",this.resizer)},unWrap:function(){0!==this.$elem.children().length&&(this.$owlWrapper.unwrap(),this.$userItems.unwrap().unwrap(),this.owlControls&&this.owlControls.remove()),this.clearEvents(),this.$elem.attr("style",this.$elem.data("owl-originalStyles")||"").attr("class",this.$elem.data("owl-originalClasses"))},destroy:function(){this.stop(),t.clearInterval(this.checkVisible),this.unWrap(),this.$elem.removeData()},reinit:function(t){t=e.extend({},this.userOptions,t),this.unWrap(),this.init(t,this.$elem)},addItem:function(e,t){var i;return!!e&&(0===this.$elem.children().length?(this.$elem.append(e),this.setVars(),!1):(this.unWrap(),(i=void 0===t||-1===t?-1:t)>=this.$userItems.length||-1===i?this.$userItems.eq(-1).after(e):this.$userItems.eq(i).before(e),void this.setVars()))},removeItem:function(e){if(0===this.$elem.children().length)return!1;e=void 0===e||-1===e?-1:e,this.unWrap(),this.$userItems.eq(e).remove(),this.setVars()}};e.fn.owlCarousel=function(t){return this.each(function(){if(!0===e(this).data("owl-init"))return!1;e(this).data("owl-init",!0);var i=Object.create(n);i.init(t,this),e.data(this,"owlCarousel",i)})},e.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:t,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}}(jQuery,window,document),function(e,t,i,n){function o(t,i){var s=this;"object"==typeof i&&(delete i.refresh,delete i.render,e.extend(this,i)),this.$element=e(t),!this.imageSrc&&this.$element.is("img")&&(this.imageSrc=this.$element.attr("src"));var a=(this.position+"").toLowerCase().match(/\S+/g)||[];if(a.length<1&&a.push("center"),1==a.length&&a.push(a[0]),"top"!=a[0]&&"bottom"!=a[0]&&"left"!=a[1]&&"right"!=a[1]||(a=[a[1],a[0]]),this.positionX!=n&&(a[0]=this.positionX.toLowerCase()),this.positionY!=n&&(a[1]=this.positionY.toLowerCase()),s.positionX=a[0],s.positionY=a[1],"left"!=this.positionX&&"right"!=this.positionX&&(isNaN(parseInt(this.positionX))?this.positionX="center":this.positionX=parseInt(this.positionX)),"top"!=this.positionY&&"bottom"!=this.positionY&&(isNaN(parseInt(this.positionY))?this.positionY="center":this.positionY=parseInt(this.positionY)),this.position=this.positionX+(isNaN(this.positionX)?"":"px")+" "+this.positionY+(isNaN(this.positionY)?"":"px"),navigator.userAgent.match(/(iPod|iPhone|iPad)/))return this.imageSrc&&this.iosFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:"url("+this.imageSrc+")",backgroundSize:"cover",backgroundPosition:this.position}),this;if(navigator.userAgent.match(/(Android)/))return this.imageSrc&&this.androidFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:"url("+this.imageSrc+")",backgroundSize:"cover",backgroundPosition:this.position}),this;this.$mirror=e("<div />").prependTo("body");var r=this.$element.find(">.parallax-slider"),l=!1;0==r.length?this.$slider=e("<img />").prependTo(this.$mirror):(this.$slider=r.prependTo(this.$mirror),l=!0),this.$mirror.addClass("parallax-mirror").css({visibility:"hidden",zIndex:this.zIndex,position:"fixed",top:0,left:0,overflow:"hidden"}),this.$slider.addClass("parallax-slider").one("load",function(){s.naturalHeight&&s.naturalWidth||(s.naturalHeight=this.naturalHeight||this.height||1,s.naturalWidth=this.naturalWidth||this.width||1),s.aspectRatio=s.naturalWidth/s.naturalHeight,o.isSetup||o.setup(),o.sliders.push(s),o.isFresh=!1,o.requestRender()}),l||(this.$slider[0].src=this.imageSrc),(this.naturalHeight&&this.naturalWidth||this.$slider[0].complete||r.length>0)&&this.$slider.trigger("load")}!function(){for(var e=0,i=["ms","moz","webkit","o"],n=0;n<i.length&&!t.requestAnimationFrame;++n)t.requestAnimationFrame=t[i[n]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[n]+"CancelAnimationFrame"]||t[i[n]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(i){var n=(new Date).getTime(),o=Math.max(0,16-(n-e)),s=t.setTimeout(function(){i(n+o)},o);return e=n+o,s}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(e){clearTimeout(e)})}(),e.extend(o.prototype,{speed:.2,bleed:0,zIndex:-100,iosFix:!0,androidFix:!0,position:"center",overScrollFix:!1,refresh:function(){this.boxWidth=this.$element.outerWidth(),this.boxHeight=this.$element.outerHeight()+2*this.bleed,this.boxOffsetTop=this.$element.offset().top-this.bleed,this.boxOffsetLeft=this.$element.offset().left,this.boxOffsetBottom=this.boxOffsetTop+this.boxHeight;var e=o.winHeight,t=o.docHeight,i=Math.min(this.boxOffsetTop,t-e),n=Math.max(this.boxOffsetTop+this.boxHeight-e,0),s=this.boxHeight+(i-n)*(1-this.speed)|0,a=(this.boxOffsetTop-i)*(1-this.speed)|0;if(s*this.aspectRatio>=this.boxWidth){this.imageWidth=s*this.aspectRatio|0,this.imageHeight=s,this.offsetBaseTop=a;r=this.imageWidth-this.boxWidth;"left"==this.positionX?this.offsetLeft=0:"right"==this.positionX?this.offsetLeft=-r:isNaN(this.positionX)?this.offsetLeft=-r/2|0:this.offsetLeft=Math.max(this.positionX,-r)}else{this.imageWidth=this.boxWidth,this.imageHeight=this.boxWidth/this.aspectRatio|0,this.offsetLeft=0;var r=this.imageHeight-s;"top"==this.positionY?this.offsetBaseTop=a:"bottom"==this.positionY?this.offsetBaseTop=a-r:isNaN(this.positionY)?this.offsetBaseTop=a-r/2|0:this.offsetBaseTop=a+Math.max(this.positionY,-r)}},render:function(){var e=o.scrollTop,t=o.scrollLeft,i=this.overScrollFix?o.overScroll:0,n=e+o.winHeight;this.boxOffsetBottom>e&&this.boxOffsetTop<=n?(this.visibility="visible",this.mirrorTop=this.boxOffsetTop-e,this.mirrorLeft=this.boxOffsetLeft-t,this.offsetTop=this.offsetBaseTop-this.mirrorTop*(1-this.speed)):this.visibility="hidden",this.$mirror.css({transform:"translate3d(0px, 0px, 0px)",visibility:this.visibility,top:this.mirrorTop-i,left:this.mirrorLeft,height:this.boxHeight,width:this.boxWidth}),this.$slider.css({transform:"translate3d(0px, 0px, 0px)",position:"absolute",top:this.offsetTop,left:this.offsetLeft,height:this.imageHeight,width:this.imageWidth,maxWidth:"none"})}}),e.extend(o,{scrollTop:0,scrollLeft:0,winHeight:0,winWidth:0,docHeight:1<<30,docWidth:1<<30,sliders:[],isReady:!1,isFresh:!1,isBusy:!1,setup:function(){if(!this.isReady){var n=e(i),s=e(t),a=function(){o.winHeight=s.height(),o.winWidth=s.width(),o.docHeight=n.height(),o.docWidth=n.width()},r=function(){var e=s.scrollTop(),t=o.docHeight-o.winHeight,i=o.docWidth-o.winWidth;o.scrollTop=Math.max(0,Math.min(t,e)),o.scrollLeft=Math.max(0,Math.min(i,s.scrollLeft())),o.overScroll=Math.max(e-t,Math.min(e,0))};s.on("resize.px.parallax load.px.parallax",function(){a(),o.isFresh=!1,o.requestRender()}).on("scroll.px.parallax load.px.parallax",function(){r(),o.requestRender()}),a(),r(),this.isReady=!0}},configure:function(t){"object"==typeof t&&(delete t.refresh,delete t.render,e.extend(this.prototype,t))},refresh:function(){e.each(this.sliders,function(){this.refresh()}),this.isFresh=!0},render:function(){this.isFresh||this.refresh(),e.each(this.sliders,function(){this.render()})},requestRender:function(){var e=this;this.isBusy||(this.isBusy=!0,t.requestAnimationFrame(function(){e.render(),e.isBusy=!1}))},destroy:function(i){var n,s=e(i).data("px.parallax");for(s.$mirror.remove(),n=0;n<this.sliders.length;n+=1)this.sliders[n]==s&&this.sliders.splice(n,1);e(i).data("px.parallax",!1),0===this.sliders.length&&(e(t).off("scroll.px.parallax resize.px.parallax load.px.parallax"),this.isReady=!1,o.isSetup=!1)}});var s=e.fn.parallax;e.fn.parallax=function(n){return this.each(function(){var s=e(this),a="object"==typeof n&&n;this==t||this==i||s.is("body")?o.configure(a):s.data("px.parallax")?"object"==typeof n&&e.extend(s.data("px.parallax"),a):(a=e.extend({},s.data(),a),s.data("px.parallax",new o(this,a))),"string"==typeof n&&("destroy"==n?o.destroy(this):o[n]())})},e.fn.parallax.Constructor=o,e.fn.parallax.noConflict=function(){return e.fn.parallax=s,this},e(i).on("ready.px.parallax.data-api",function(){e('[data-parallax="scroll"]').parallax()})}(jQuery,window,document),function(e){"function"==typeof define&&define.amd?define(["picker","jquery"],e):"object"==typeof exports?module.exports=e(require("./picker.js"),require("jquery")):e(Picker,jQuery)}(function(e,t){function i(e,t){var i=this,n=e.$node[0],o=n.value,s=e.$node.data("value"),a=s||o,r=s?t.formatSubmit:t.format,l=function(){return n.currentStyle?"rtl"==n.currentStyle.direction:"rtl"==getComputedStyle(e.$root[0]).direction};i.settings=t,i.$node=e.$node,i.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},i.item={},i.item.clear=null,i.item.disable=(t.disable||[]).slice(0),i.item.enable=-function(e){return!0===e[0]?e.shift():-1}(i.item.disable),i.set("min",t.min).set("max",t.max).set("now"),a?i.set("select",a,{format:r,defaultValue:!0}):i.set("select",null).set("highlight",i.item.now),i.key={40:7,38:-7,39:function(){return l()?-1:1},37:function(){return l()?1:-1},go:function(e){var t=i.item.highlight,n=new Date(t.year,t.month,t.date+e);i.set("highlight",n,{interval:e}),this.render()}},e.on("render",function(){e.$root.find("."+t.klass.selectMonth).on("change",function(){var i=this.value;i&&(e.set("highlight",[e.get("view").year,i,e.get("highlight").date]),e.$root.find("."+t.klass.selectMonth).trigger("focus"))}),e.$root.find("."+t.klass.selectYear).on("change",function(){var i=this.value;i&&(e.set("highlight",[i,e.get("view").month,e.get("highlight").date]),e.$root.find("."+t.klass.selectYear).trigger("focus"))})},1).on("open",function(){var n="";i.disabled(i.get("now"))&&(n=":not(."+t.klass.buttonToday+")"),e.$root.find("button"+n+", select").attr("disabled",!1)},1).on("close",function(){e.$root.find("button, select").attr("disabled",!0)},1)}var n=e._;i.prototype.set=function(e,t,i){var n=this,o=n.item;return null===t?("clear"==e&&(e="select"),o[e]=t,n):(o["enable"==e?"disable":"flip"==e?"enable":e]=n.queue[e].split(" ").map(function(o){return t=n[o](e,t,i)}).pop(),"select"==e?n.set("highlight",o.select,i):"highlight"==e?n.set("view",o.highlight,i):e.match(/^(flip|min|max|disable|enable)$/)&&(o.select&&n.disabled(o.select)&&n.set("select",o.select,i),o.highlight&&n.disabled(o.highlight)&&n.set("highlight",o.highlight,i)),n)},i.prototype.get=function(e){return this.item[e]},i.prototype.create=function(e,i,o){var s,a=this;return(i=void 0===i?e:i)==-1/0||i==1/0?s=i:t.isPlainObject(i)&&n.isInteger(i.pick)?i=i.obj:t.isArray(i)?(i=new Date(i[0],i[1],i[2]),i=n.isDate(i)?i:a.create().obj):i=n.isInteger(i)||n.isDate(i)?a.normalize(new Date(i),o):a.now(e,i,o),{year:s||i.getFullYear(),month:s||i.getMonth(),date:s||i.getDate(),day:s||i.getDay(),obj:s||i,pick:s||i.getTime()}},i.prototype.createRange=function(e,i){var o=this,s=function(e){return!0===e||t.isArray(e)||n.isDate(e)?o.create(e):e};return n.isInteger(e)||(e=s(e)),n.isInteger(i)||(i=s(i)),n.isInteger(e)&&t.isPlainObject(i)?e=[i.year,i.month,i.date+e]:n.isInteger(i)&&t.isPlainObject(e)&&(i=[e.year,e.month,e.date+i]),{from:s(e),to:s(i)}},i.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},i.prototype.overlapRanges=function(e,t){var i=this;return e=i.createRange(e.from,e.to),t=i.createRange(t.from,t.to),i.withinRange(e,t.from)||i.withinRange(e,t.to)||i.withinRange(t,e.from)||i.withinRange(t,e.to)},i.prototype.now=function(e,t,i){return t=new Date,i&&i.rel&&t.setDate(t.getDate()+i.rel),this.normalize(t,i)},i.prototype.navigate=function(e,i,n){var o,s,a,r,l=t.isArray(i),c=t.isPlainObject(i),d=this.item.view;if(l||c){for(c?(s=i.year,a=i.month,r=i.date):(s=+i[0],a=+i[1],r=+i[2]),n&&n.nav&&d&&d.month!==a&&(s=d.year,a=d.month),s=(o=new Date(s,a+(n&&n.nav?n.nav:0),1)).getFullYear(),a=o.getMonth();new Date(s,a,r).getMonth()!==a;)r-=1;i=[s,a,r]}return i},i.prototype.normalize=function(e){return e.setHours(0,0,0,0),e},i.prototype.measure=function(e,t){var i=this;return t?"string"==typeof t?t=i.parse(e,t):n.isInteger(t)&&(t=i.now(e,t,{rel:t})):t="min"==e?-1/0:1/0,t},i.prototype.viewset=function(e,t){return this.create([t.year,t.month,1])},i.prototype.validate=function(e,i,o){var s,a,r,l,c=this,d=i,u=o&&o.interval?o.interval:1,h=-1===c.item.enable,p=c.item.min,f=c.item.max,m=h&&c.item.disable.filter(function(e){if(t.isArray(e)){var o=c.create(e).pick;o<i.pick?s=!0:o>i.pick&&(a=!0)}return n.isInteger(e)}).length;if((!o||!o.nav&&!o.defaultValue)&&(!h&&c.disabled(i)||h&&c.disabled(i)&&(m||s||a)||!h&&(i.pick<=p.pick||i.pick>=f.pick)))for(h&&!m&&(!a&&u>0||!s&&u<0)&&(u*=-1);c.disabled(i)&&(Math.abs(u)>1&&(i.month<d.month||i.month>d.month)&&(i=d,u=u>0?1:-1),i.pick<=p.pick?(r=!0,u=1,i=c.create([p.year,p.month,p.date+(i.pick===p.pick?0:-1)])):i.pick>=f.pick&&(l=!0,u=-1,i=c.create([f.year,f.month,f.date+(i.pick===f.pick?0:1)])),!r||!l);)i=c.create([i.year,i.month,i.date+u]);return i},i.prototype.disabled=function(e){var i=this,o=i.item.disable.filter(function(o){return n.isInteger(o)?e.day===(i.settings.firstDay?o:o-1)%7:t.isArray(o)||n.isDate(o)?e.pick===i.create(o).pick:t.isPlainObject(o)?i.withinRange(o,e):void 0});return o=o.length&&!o.filter(function(e){return t.isArray(e)&&"inverted"==e[3]||t.isPlainObject(e)&&e.inverted}).length,-1===i.item.enable?!o:o||e.pick<i.item.min.pick||e.pick>i.item.max.pick},i.prototype.parse=function(e,t,i){var o=this,s={};return t&&"string"==typeof t?(i&&i.format||((i=i||{}).format=o.settings.format),o.formats.toArray(i.format).map(function(e){var i=o.formats[e],a=i?n.trigger(i,o,[t,s]):e.replace(/^!/,"").length;i&&(s[e]=t.substr(0,a)),t=t.substr(a)}),[s.yyyy||s.yy,+(s.mm||s.m)-1,s.dd||s.d]):t},i.prototype.formats=function(){function e(e,t,i){var n=e.match(/[^\x00-\x7F]+|\w+/)[0];return i.mm||i.m||(i.m=t.indexOf(n)+1),n.length}function t(e){return e.match(/\w+/)[0].length}return{d:function(e,t){return e?n.digits(e):t.date},dd:function(e,t){return e?2:n.lead(t.date)},ddd:function(e,i){return e?t(e):this.settings.weekdaysShort[i.day]},dddd:function(e,i){return e?t(e):this.settings.weekdaysFull[i.day]},m:function(e,t){return e?n.digits(e):t.month+1},mm:function(e,t){return e?2:n.lead(t.month+1)},mmm:function(t,i){var n=this.settings.monthsShort;return t?e(t,n,i):n[i.month]},mmmm:function(t,i){var n=this.settings.monthsFull;return t?e(t,n,i):n[i.month]},yy:function(e,t){return e?2:(""+t.year).slice(2)},yyyy:function(e,t){return e?4:t.year},toArray:function(e){return e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(e,t){var i=this;return i.formats.toArray(e).map(function(e){return n.trigger(i.formats[e],i,[0,t])||e.replace(/^!/,"")}).join("")}}}(),i.prototype.isDateExact=function(e,i){var o=this;return n.isInteger(e)&&n.isInteger(i)||"boolean"==typeof e&&"boolean"==typeof i?e===i:(n.isDate(e)||t.isArray(e))&&(n.isDate(i)||t.isArray(i))?o.create(e).pick===o.create(i).pick:!(!t.isPlainObject(e)||!t.isPlainObject(i))&&(o.isDateExact(e.from,i.from)&&o.isDateExact(e.to,i.to))},i.prototype.isDateOverlap=function(e,i){var o=this,s=o.settings.firstDay?1:0;return n.isInteger(e)&&(n.isDate(i)||t.isArray(i))?(e=e%7+s)===o.create(i).day+1:n.isInteger(i)&&(n.isDate(e)||t.isArray(e))?(i=i%7+s)===o.create(e).day+1:!(!t.isPlainObject(e)||!t.isPlainObject(i))&&o.overlapRanges(e,i)},i.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},i.prototype.deactivate=function(e,i){var o=this,s=o.item.disable.slice(0);return"flip"==i?o.flipEnable():!1===i?(o.flipEnable(1),s=[]):!0===i?(o.flipEnable(-1),s=[]):i.map(function(e){for(var i,a=0;a<s.length;a+=1)if(o.isDateExact(e,s[a])){i=!0;break}i||(n.isInteger(e)||n.isDate(e)||t.isArray(e)||t.isPlainObject(e)&&e.from&&e.to)&&s.push(e)}),s},i.prototype.activate=function(e,i){var o=this,s=o.item.disable,a=s.length;return"flip"==i?o.flipEnable():!0===i?(o.flipEnable(1),s=[]):!1===i?(o.flipEnable(-1),s=[]):i.map(function(e){var i,r,l,c;for(l=0;l<a;l+=1){if(r=s[l],o.isDateExact(r,e)){i=s[l]=null,c=!0;break}if(o.isDateOverlap(r,e)){t.isPlainObject(e)?(e.inverted=!0,i=e):t.isArray(e)?(i=e)[3]||i.push("inverted"):n.isDate(e)&&(i=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(i)for(l=0;l<a;l+=1)if(o.isDateExact(s[l],e)){s[l]=null;break}if(c)for(l=0;l<a;l+=1)if(o.isDateOverlap(s[l],e)){s[l]=null;break}i&&s.push(i)}),s.filter(function(e){return null!=e})},i.prototype.nodes=function(e){var t=this,i=t.settings,o=t.item,s=o.now,a=o.select,r=o.highlight,l=o.view,c=o.disable,d=o.min,u=o.max,h=function(e,t){return i.firstDay&&(e.push(e.shift()),t.push(t.shift())),n.node("thead",n.node("tr",n.group({min:0,max:6,i:1,node:"th",item:function(n){return[e[n],i.klass.weekdays,'scope=col title="'+t[n]+'"']}})))}((i.showWeekdaysFull?i.weekdaysFull:i.weekdaysShort).slice(0),i.weekdaysFull.slice(0)),p=function(e){return n.node("div"," ",i.klass["nav"+(e?"Next":"Prev")]+(e&&l.year>=u.year&&l.month>=u.month||!e&&l.year<=d.year&&l.month<=d.month?" "+i.klass.navDisabled:""),"data-nav="+(e||-1)+" "+n.ariaAttr({role:"button",controls:t.$node[0].id+"_table"})+' title="'+(e?i.labelMonthNext:i.labelMonthPrev)+'"')},f=function(){var o=i.showMonthsShort?i.monthsShort:i.monthsFull;return i.selectMonths?n.node("select",n.group({min:0,max:11,i:1,node:"option",item:function(e){return[o[e],0,"value="+e+(l.month==e?" selected":"")+(l.year==d.year&&e<d.month||l.year==u.year&&e>u.month?" disabled":"")]}}),i.klass.selectMonth,(e?"":"disabled")+" "+n.ariaAttr({controls:t.$node[0].id+"_table"})+' title="'+i.labelMonthSelect+'"'):n.node("div",o[l.month],i.klass.month)},m=function(){var o=l.year,s=!0===i.selectYears?5:~~(i.selectYears/2);if(s){var a=d.year,r=u.year,c=o-s,h=o+s;if(a>c&&(h+=a-c,c=a),r<h){var p=c-a,f=h-r;c-=p>f?f:p,h=r}return n.node("select",n.group({min:c,max:h,i:1,node:"option",item:function(e){return[e,0,"value="+e+(o==e?" selected":"")]}}),i.klass.selectYear,(e?"":"disabled")+" "+n.ariaAttr({controls:t.$node[0].id+"_table"})+' title="'+i.labelYearSelect+'"')}return n.node("div",o,i.klass.year)};return n.node("div",(i.selectYears?m()+f():f()+m())+p()+p(1),i.klass.header)+n.node("table",h+n.node("tbody",n.group({min:0,max:5,i:1,node:"tr",item:function(e){var o=i.firstDay&&0===t.create([l.year,l.month,1]).day?-7:0;return[n.group({min:7*e-l.day+o+1,max:function(){return this.min+7-1},i:1,node:"td",item:function(e){e=t.create([l.year,l.month,e+(i.firstDay?1:0)]);var o=a&&a.pick==e.pick,h=r&&r.pick==e.pick,p=c&&t.disabled(e)||e.pick<d.pick||e.pick>u.pick,f=n.trigger(t.formats.toString,t,[i.format,e]);return[n.node("div",e.date,function(t){return t.push(l.month==e.month?i.klass.infocus:i.klass.outfocus),s.pick==e.pick&&t.push(i.klass.now),o&&t.push(i.klass.selected),h&&t.push(i.klass.highlighted),p&&t.push(i.klass.disabled),t.join(" ")}([i.klass.day]),"data-pick="+e.pick+" "+n.ariaAttr({role:"gridcell",label:f,selected:!(!o||t.$node.val()!==f)||null,activedescendant:!!h||null,disabled:!!p||null})),"",n.ariaAttr({role:"presentation"})]}})]}})),i.klass.table,'id="'+t.$node[0].id+'_table" '+n.ariaAttr({role:"grid",controls:t.$node[0].id,readonly:!0}))+n.node("div",n.node("button",i.today,i.klass.buttonToday,"type=button data-pick="+s.pick+(e&&!t.disabled(s)?"":" disabled")+" "+n.ariaAttr({controls:t.$node[0].id}))+n.node("button",i.clear,i.klass.buttonClear,"type=button data-clear=1"+(e?"":" disabled")+" "+n.ariaAttr({controls:t.$node[0].id}))+n.node("button",i.close,i.klass.buttonClose,"type=button data-close=true "+(e?"":" disabled")+" "+n.ariaAttr({controls:t.$node[0].id})),i.klass.footer)},i.defaults=function(e){return{labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",close:"Close",closeOnSelect:!0,closeOnClear:!0,format:"d mmmm, yyyy",klass:{table:e+"table",header:e+"header",navPrev:e+"nav--prev",navNext:e+"nav--next",navDisabled:e+"nav--disabled",month:e+"month",year:e+"year",selectMonth:e+"select--month",selectYear:e+"select--year",weekdays:e+"weekday",day:e+"day",disabled:e+"day--disabled",selected:e+"day--selected",highlighted:e+"day--highlighted",now:e+"day--today",infocus:e+"day--infocus",outfocus:e+"day--outfocus",footer:e+"footer",buttonClear:e+"button--clear",buttonToday:e+"button--today",buttonClose:e+"button--close"}}}(e.klasses().picker+"__"),e.extend("pickadate",i)}),jQuery.extend(jQuery.fn.pickadate.defaults,{monthsFull:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthsShort:["jan","feb","maa","apr","mei","jun","jul","aug","sep","okt","nov","dec"],weekdaysFull:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],weekdaysShort:["zo","ma","di","wo","do","vr","za"],today:"vandaag",clear:"verwijderen",close:"sluiten",firstDay:1,format:"dddd d mmmm yyyy",formatSubmit:"yyyy/mm/dd"}),jQuery.extend(jQuery.fn.pickatime.defaults,{clear:"verwijderen"}),function(e){"function"==typeof define&&define.amd?define("picker",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):this.Picker=e(jQuery)}(function(e){function t(s,r,u,h){function p(){return t._.node("div",t._.node("div",t._.node("div",t._.node("div",$.component.nodes(k.open),S.box),S.wrap),S.frame),S.holder,'tabindex="-1"')}function f(){T.data(r,$).addClass(S.input).val(T.data("value")?$.get("select",C.format):s.value),C.editable||T.on("focus."+k.id+" click."+k.id,function(e){e.preventDefault(),$.open()}).on("keydown."+k.id,w),o(s,{haspopup:!0,expanded:!1,readonly:!1,owns:s.id+"_root"})}function m(){o($.$root[0],"hidden",!0)}function g(){$.$holder.on({keydown:w,"focus.toOpen":y,blur:function(){T.removeClass(S.target)},focusin:function(e){$.$root.removeClass(S.focused),e.stopPropagation()},"mousedown click":function(t){var i=t.target;i!=$.$holder[0]&&(t.stopPropagation(),"mousedown"!=t.type||e(i).is("input, select, textarea, button, option")||(t.preventDefault(),$.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var t=e(this),i=t.data(),n=t.hasClass(S.navDisabled)||t.hasClass(S.disabled),o=a();o=o&&(o.type||o.href),(n||o&&!e.contains($.$root[0],o))&&$.$holder[0].focus(),!n&&i.nav?$.set("highlight",$.component.item.highlight,{nav:i.nav}):!n&&"pick"in i?($.set("select",i.pick),C.closeOnSelect&&$.close(!0)):i.clear?($.clear(),C.closeOnClear&&$.close(!0)):i.close&&$.close(!0)})}function v(){var t;!0===C.hiddenName?(t=s.name,s.name=""):t=(t=["string"==typeof C.hiddenPrefix?C.hiddenPrefix:"","string"==typeof C.hiddenSuffix?C.hiddenSuffix:"_submit"])[0]+s.name+t[1],$._hidden=e('<input type=hidden name="'+t+'"'+(T.data("value")||s.value?' value="'+$.get("select",C.formatSubmit)+'"':"")+">")[0],T.on("change."+k.id,function(){$._hidden.value=s.value?$.get("select",C.formatSubmit):""})}function b(){x&&d?$.$holder.find("."+S.frame).one("transitionend",function(){$.$holder[0].focus()}):$.$holder[0].focus()}function y(e){e.stopPropagation(),T.addClass(S.target),$.$root.addClass(S.focused),$.open()}function w(e){var t=e.keyCode,i=/^(8|46)$/.test(t);if(27==t)return $.close(!0),!1;(32==t||i||!k.open&&$.component.key[t])&&(e.preventDefault(),e.stopPropagation(),i?$.clear().close():$.open())}if(!s)return t;var x=!1,k={id:s.id||"P"+Math.abs(~~(Math.random()*new Date))},C=u?e.extend(!0,{},u.defaults,h):h||{},S=e.extend({},t.klasses(),C.klass),T=e(s),D=function(){return this.start()},$=D.prototype={constructor:D,$node:T,start:function(){return k&&k.start?$:(k.methods={},k.start=!0,k.open=!1,k.type=s.type,s.autofocus=s==a(),s.readOnly=!C.editable,s.id=s.id||k.id,"text"!=s.type&&(s.type="text"),$.component=new u($,C),$.$root=e('<div class="'+S.picker+'" id="'+s.id+'_root" />'),m(),$.$holder=e(p()).appendTo($.$root),g(),C.formatSubmit&&v(),f(),C.containerHidden?e(C.containerHidden).append($._hidden):T.after($._hidden),C.container?e(C.container).append($.$root):T.after($.$root),$.on({start:$.component.onStart,render:$.component.onRender,stop:$.component.onStop,open:$.component.onOpen,close:$.component.onClose,set:$.component.onSet}).on({start:C.onStart,render:C.onRender,stop:C.onStop,open:C.onOpen,close:C.onClose,set:C.onSet}),x=i($.$holder[0]),s.autofocus&&$.open(),$.trigger("start").trigger("render"))},render:function(t){return t?($.$holder=e(p()),g(),$.$root.html($.$holder)):$.$root.find("."+S.box).html($.component.nodes(k.open)),$.trigger("render")},stop:function(){return k.start?($.close(),$._hidden&&$._hidden.parentNode.removeChild($._hidden),$.$root.remove(),T.removeClass(S.input).removeData(r),setTimeout(function(){T.off("."+k.id)},0),s.type=k.type,s.readOnly=!1,$.trigger("stop"),k.methods={},k.start=!1,$):$},open:function(i){return k.open?$:(T.addClass(S.active),o(s,"expanded",!0),setTimeout(function(){$.$root.addClass(S.opened),o($.$root[0],"hidden",!1)},0),!1!==i&&(k.open=!0,x&&c.css("overflow","hidden").css("padding-right","+="+n()),b(),l.on("click."+k.id+" focusin."+k.id,function(e){var t=e.target;t!=s&&t!=document&&3!=e.which&&$.close(t===$.$holder[0])}).on("keydown."+k.id,function(i){var n=i.keyCode,o=$.component.key[n],s=i.target;27==n?$.close(!0):s!=$.$holder[0]||!o&&13!=n?e.contains($.$root[0],s)&&13==n&&(i.preventDefault(),s.click()):(i.preventDefault(),o?t._.trigger($.component.key.go,$,[t._.trigger(o)]):$.$root.find("."+S.highlighted).hasClass(S.disabled)||($.set("select",$.component.item.highlight),C.closeOnSelect&&$.close(!0)))})),$.trigger("open"))},close:function(e){return e&&(C.editable?s.focus():($.$holder.off("focus.toOpen").focus(),setTimeout(function(){$.$holder.on("focus.toOpen",y)},0))),T.removeClass(S.active),o(s,"expanded",!1),setTimeout(function(){$.$root.removeClass(S.opened+" "+S.focused),o($.$root[0],"hidden",!0)},0),k.open?(k.open=!1,x&&c.css("overflow","").css("padding-right","-="+n()),l.off("."+k.id),$.trigger("close")):$},clear:function(e){return $.set("clear",null,e)},set:function(t,i,n){var o,s,a=e.isPlainObject(t),r=a?t:{};if(n=a&&e.isPlainObject(i)?i:n||{},t){a||(r[t]=i);for(o in r)s=r[o],o in $.component.item&&(void 0===s&&(s=null),$.component.set(o,s,n)),"select"!=o&&"clear"!=o||T.val("clear"==o?"":$.get(o,C.format)).trigger("change");$.render()}return n.muted?$:$.trigger("set",r)},get:function(e,i){if(e=e||"value",null!=k[e])return k[e];if("valueSubmit"==e){if($._hidden)return $._hidden.value;e="value"}if("value"==e)return s.value;if(e in $.component.item){if("string"==typeof i){var n=$.component.get(e);return n?t._.trigger($.component.formats.toString,$.component,[i,n]):""}return $.component.get(e)}},on:function(t,i,n){var o,s,a=e.isPlainObject(t),r=a?t:{};if(t){a||(r[t]=i);for(o in r)s=r[o],n&&(o="_"+o),k.methods[o]=k.methods[o]||[],k.methods[o].push(s)}return $},off:function(){var e,t,i=arguments;for(e=0,namesCount=i.length;e<namesCount;e+=1)(t=i[e])in k.methods&&delete k.methods[t];return $},trigger:function(e,i){var n=function(e){var n=k.methods[e];n&&n.map(function(e){t._.trigger(e,$,[i])})};return n("_"+e),n(e),$}};return new D}function i(e){var t;return e.currentStyle?t=e.currentStyle.position:window.getComputedStyle&&(t=getComputedStyle(e).position),"fixed"==t}function n(){if(c.height()<=r.height())return 0;var t=e('<div style="visibility:hidden;width:100px" />').appendTo("body"),i=t[0].offsetWidth;t.css("overflow","scroll");var n=e('<div style="width:100%" />').appendTo(t)[0].offsetWidth;return t.remove(),i-n}function o(t,i,n){if(e.isPlainObject(i))for(var o in i)s(t,o,i[o]);else s(t,i,n)}function s(e,t,i){e.setAttribute(("role"==t?"":"aria-")+t,i)}function a(){try{return document.activeElement}catch(e){}}var r=e(window),l=e(document),c=e(document.documentElement),d=null!=document.documentElement.style.transition;return t.klasses=function(e){return e=e||"picker",{picker:e,opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",target:e+"__input--target",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},t._={group:function(e){for(var i,n="",o=t._.trigger(e.min,e);o<=t._.trigger(e.max,e,[o]);o+=e.i)i=t._.trigger(e.item,e,[o]),n+=t._.node(e.node,i[0],i[1],i[2]);return n},node:function(t,i,n,o){return i?(i=e.isArray(i)?i.join(""):i,n=n?' class="'+n+'"':"",o=o?" "+o:"","<"+t+n+o+">"+i+"</"+t+">"):""},lead:function(e){return(e<10?"0":"")+e},trigger:function(e,t,i){return"function"==typeof e?e.apply(t,i||[]):e},digits:function(e){return/\d/.test(e[1])?2:1},isDate:function(e){return{}.toString.call(e).indexOf("Date")>-1&&this.isInteger(e.getDate())},isInteger:function(e){return{}.toString.call(e).indexOf("Number")>-1&&e%1==0},ariaAttr:function(t,i){e.isPlainObject(t)||(t={attribute:i}),i="";for(var n in t){var o=("role"==n?"":"aria-")+n;i+=null==t[n]?"":o+'="'+t[n]+'"'}return i}},t.extend=function(i,n){e.fn[i]=function(o,s){var a=this.data(i);return"picker"==o?a:a&&"string"==typeof o?t._.trigger(a[o],a,[s]):this.each(function(){e(this).data(i)||new t(this,i,n,o)})},e.fn[i].defaults=n.defaults},t}),function(e){"function"==typeof define&&define.amd?define(["picker","jquery"],e):"object"==typeof exports?module.exports=e(require("./picker.js"),require("jquery")):e(Picker,jQuery)}(function(e,t){function i(e,t){var i=this,n=e.$node[0].value,o=e.$node.data("value"),s=o||n,a=o?t.formatSubmit:t.format;i.settings=t,i.$node=e.$node,i.queue={interval:"i",min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse create validate",view:"parse create validate",disable:"deactivate",enable:"activate"},i.item={},i.item.clear=null,i.item.interval=t.interval||30,i.item.disable=(t.disable||[]).slice(0),i.item.enable=-function(e){return!0===e[0]?e.shift():-1}(i.item.disable),i.set("min",t.min).set("max",t.max).set("now"),s?i.set("select",s,{format:a}):i.set("select",null).set("highlight",i.item.now),i.key={40:1,38:-1,39:1,37:-1,go:function(e){i.set("highlight",i.item.highlight.pick+e*i.item.interval,{interval:e*i.item.interval}),this.render()}},e.on("render",function(){var i=e.$root.children(),n=i.find("."+t.klass.viewset),o=function(e){return["webkit","moz","ms","o",""].map(function(t){return(t?"-"+t+"-":"")+e})},s=function(e,t){o("transform").map(function(i){e.css(i,t)}),o("transition").map(function(i){e.css(i,t)})};n.length&&(s(i,"none"),i[0].scrollTop=~~n.position().top-2*n[0].clientHeight,s(i,""))},1).on("open",function(){e.$root.find("button").attr("disabled",!1)},1).on("close",function(){e.$root.find("button").attr("disabled",!0)},1)}var n=60,o=1440,s=e._;i.prototype.set=function(e,t,i){var n=this,o=n.item;return null===t?("clear"==e&&(e="select"),o[e]=t,n):(o["enable"==e?"disable":"flip"==e?"enable":e]=n.queue[e].split(" ").map(function(o){return t=n[o](e,t,i)}).pop(),"select"==e?n.set("highlight",o.select,i):"highlight"==e?n.set("view",o.highlight,i):"interval"==e?n.set("min",o.min,i).set("max",o.max,i):e.match(/^(flip|min|max|disable|enable)$/)&&(o.select&&n.disabled(o.select)&&n.set("select",t,i),o.highlight&&n.disabled(o.highlight)&&n.set("highlight",t,i),"min"==e&&n.set("max",o.max,i)),n)},i.prototype.get=function(e){return this.item[e]},i.prototype.create=function(e,i,a){var r=this;return i=void 0===i?e:i,s.isDate(i)&&(i=[i.getHours(),i.getMinutes()]),t.isPlainObject(i)&&s.isInteger(i.pick)?i=i.pick:t.isArray(i)?i=+i[0]*n+ +i[1]:s.isInteger(i)||(i=r.now(e,i,a)),"max"==e&&i<r.item.min.pick&&(i+=o),"min"!=e&&"max"!=e&&(i-r.item.min.pick)%r.item.interval!=0&&(i+=r.item.interval),i=r.normalize(e,i,a),{hour:~~(24+i/n)%24,mins:(n+i%n)%n,time:(o+i)%o,pick:i%o}},i.prototype.createRange=function(e,i){var n=this,o=function(e){return!0===e||t.isArray(e)||s.isDate(e)?n.create(e):e};return s.isInteger(e)||(e=o(e)),s.isInteger(i)||(i=o(i)),s.isInteger(e)&&t.isPlainObject(i)?e=[i.hour,i.mins+e*n.settings.interval]:s.isInteger(i)&&t.isPlainObject(e)&&(i=[e.hour,e.mins+i*n.settings.interval]),{from:o(e),to:o(i)}},i.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},i.prototype.overlapRanges=function(e,t){var i=this;return e=i.createRange(e.from,e.to),t=i.createRange(t.from,t.to),i.withinRange(e,t.from)||i.withinRange(e,t.to)||i.withinRange(t,e.from)||i.withinRange(t,e.to)},i.prototype.now=function(e,t){var i,o=this.item.interval,a=new Date,r=a.getHours()*n+a.getMinutes(),l=s.isInteger(t);return r-=r%o,i=0>t&&-o>=o*t+r,r+="min"==e&&i?0:o,l&&(r+=o*(i&&"max"!=e?t+1:t)),r},i.prototype.normalize=function(e,t){var i=this.item.interval,n=this.item.min&&this.item.min.pick||0;return t-="min"==e?0:(t-n)%i},i.prototype.measure=function(e,i,n){var o=this;return i||(i="min"==e?[0,0]:[23,59]),"string"==typeof i?i=o.parse(e,i):!0===i||s.isInteger(i)?i=o.now(e,i,n):t.isPlainObject(i)&&s.isInteger(i.pick)&&(i=o.normalize(e,i.pick,n)),i},i.prototype.validate=function(e,t,i){var n=this,o=i&&i.interval?i.interval:n.item.interval;return n.disabled(t)&&(t=n.shift(t,o)),t=n.scope(t),n.disabled(t)&&(t=n.shift(t,-1*o)),t},i.prototype.disabled=function(e){var i=this,n=i.item.disable.filter(function(n){return s.isInteger(n)?e.hour==n:t.isArray(n)||s.isDate(n)?e.pick==i.create(n).pick:t.isPlainObject(n)?i.withinRange(n,e):void 0});return n=n.length&&!n.filter(function(e){return t.isArray(e)&&"inverted"==e[2]||t.isPlainObject(e)&&e.inverted}).length,-1===i.item.enable?!n:n||e.pick<i.item.min.pick||e.pick>i.item.max.pick},i.prototype.shift=function(e,t){var i=this,n=i.item.min.pick,o=i.item.max.pick;for(t=t||i.item.interval;i.disabled(e)&&!((e=i.create(e.pick+=t)).pick<=n||e.pick>=o););return e},i.prototype.scope=function(e){var t=this.item.min.pick,i=this.item.max.pick;return this.create(e.pick>i?i:e.pick<t?t:e)},i.prototype.parse=function(e,t,i){var o,a,r,l,c,d=this,u={};if(!t||"string"!=typeof t)return t;i&&i.format||(i=i||{},i.format=d.settings.format),d.formats.toArray(i.format).map(function(e){var i,n=d.formats[e],o=n?s.trigger(n,d,[t,u]):e.replace(/^!/,"").length;n&&(i=t.substr(0,o),u[e]=i.match(/^\d+$/)?+i:i),t=t.substr(o)});for(l in u)c=u[l],s.isInteger(c)?l.match(/^(h|hh)$/i)?(o=c,("h"==l||"hh"==l)&&(o%=12)):"i"==l&&(a=c):l.match(/^a$/i)&&c.match(/^p/i)&&("h"in u||"hh"in u)&&(r=!0);return(r?o+12:o)*n+a},i.prototype.formats={h:function(e,t){return e?s.digits(e):t.hour%12||12},hh:function(e,t){return e?2:s.lead(t.hour%12||12)},H:function(e,t){return e?s.digits(e):""+t.hour%24},HH:function(e,t){return e?s.digits(e):s.lead(t.hour%24)},i:function(e,t){return e?2:s.lead(t.mins)},a:function(e,t){return e?4:720>t.time%o?"a.m.":"p.m."},A:function(e,t){return e?2:720>t.time%o?"AM":"PM"},toArray:function(e){return e.split(/(h{1,2}|H{1,2}|i|a|A|!.)/g)},toString:function(e,t){var i=this;return i.formats.toArray(e).map(function(e){return s.trigger(i.formats[e],i,[0,t])||e.replace(/^!/,"")}).join("")}},i.prototype.isTimeExact=function(e,i){var n=this;return s.isInteger(e)&&s.isInteger(i)||"boolean"==typeof e&&"boolean"==typeof i?e===i:(s.isDate(e)||t.isArray(e))&&(s.isDate(i)||t.isArray(i))?n.create(e).pick===n.create(i).pick:!(!t.isPlainObject(e)||!t.isPlainObject(i))&&(n.isTimeExact(e.from,i.from)&&n.isTimeExact(e.to,i.to))},i.prototype.isTimeOverlap=function(e,i){var n=this;return s.isInteger(e)&&(s.isDate(i)||t.isArray(i))?e===n.create(i).hour:s.isInteger(i)&&(s.isDate(e)||t.isArray(e))?i===n.create(e).hour:!(!t.isPlainObject(e)||!t.isPlainObject(i))&&n.overlapRanges(e,i)},i.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},i.prototype.deactivate=function(e,i){var n=this,o=n.item.disable.slice(0);return"flip"==i?n.flipEnable():!1===i?(n.flipEnable(1),o=[]):!0===i?(n.flipEnable(-1),o=[]):i.map(function(e){for(var i,a=0;a<o.length;a+=1)if(n.isTimeExact(e,o[a])){i=!0;break}i||(s.isInteger(e)||s.isDate(e)||t.isArray(e)||t.isPlainObject(e)&&e.from&&e.to)&&o.push(e)}),o},i.prototype.activate=function(e,i){var n=this,o=n.item.disable,a=o.length;return"flip"==i?n.flipEnable():!0===i?(n.flipEnable(1),o=[]):!1===i?(n.flipEnable(-1),o=[]):i.map(function(e){var i,r,l,c;for(l=0;a>l;l+=1){if(r=o[l],n.isTimeExact(r,e)){i=o[l]=null,c=!0;break}if(n.isTimeOverlap(r,e)){t.isPlainObject(e)?(e.inverted=!0,i=e):t.isArray(e)?(i=e)[2]||i.push("inverted"):s.isDate(e)&&(i=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(i)for(l=0;a>l;l+=1)if(n.isTimeExact(o[l],e)){o[l]=null;break}if(c)for(l=0;a>l;l+=1)if(n.isTimeOverlap(o[l],e)){o[l]=null;break}i&&o.push(i)}),o.filter(function(e){return null!=e})},i.prototype.i=function(e,t){return s.isInteger(t)&&t>0?t:this.item.interval},i.prototype.nodes=function(e){var t=this,i=t.settings,n=t.item.select,o=t.item.highlight,a=t.item.view,r=t.item.disable;return s.node("ul",s.group({min:t.item.min.pick,max:t.item.max.pick,i:t.item.interval,node:"li",item:function(e){var l=(e=t.create(e)).pick,c=n&&n.pick==l,d=o&&o.pick==l,u=r&&t.disabled(e),h=s.trigger(t.formats.toString,t,[i.format,e]);return[s.trigger(t.formats.toString,t,[s.trigger(i.formatLabel,t,[e])||i.format,e]),function(e){return c&&e.push(i.klass.selected),d&&e.push(i.klass.highlighted),a&&a.pick==l&&e.push(i.klass.viewset),u&&e.push(i.klass.disabled),e.join(" ")}([i.klass.listItem]),"data-pick="+e.pick+" "+s.ariaAttr({role:"option",label:h,selected:!(!c||t.$node.val()!==h)||null,activedescendant:!!d||null,disabled:!!u||null})]}})+s.node("li",s.node("button",i.clear,i.klass.buttonClear,"type=button data-clear=1"+(e?"":" disabled")+" "+s.ariaAttr({controls:t.$node[0].id})),"",s.ariaAttr({role:"presentation"})),i.klass.list,s.ariaAttr({role:"listbox",controls:t.$node[0].id}))},i.defaults=function(e){return{clear:"Clear",format:"h:i A",interval:30,closeOnSelect:!0,closeOnClear:!0,klass:{picker:e+" "+e+"--time",holder:e+"__holder",list:e+"__list",listItem:e+"__list-item",disabled:e+"__list-item--disabled",selected:e+"__list-item--selected",highlighted:e+"__list-item--highlighted",viewset:e+"__list-item--viewset",now:e+"__list-item--now",buttonClear:e+"__button--clear"}}}(e.klasses().picker),e.extend("pickatime",i)}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):t(e.jQuery)}(this,function(e){"use strict";var t=function(e,i){var n=this;return n.id=t.count++,t.lifo.push(n),e&&n.open(e,i),n};t.defaults={prefix:"jqi",classes:{box:"",fade:"",prompt:"",form:"",close:"",title:"",message:"",buttons:"",button:"",defaultButton:""},title:"",closeText:"&times;",buttons:{Ok:!0},buttonTimeout:1e3,loaded:function(e){},submit:function(e,t,i,n){},close:function(e,t,i,n){},statechanging:function(e,t,i){},statechanged:function(e,t){},opacity:.6,zIndex:999,overlayspeed:"slow",promptspeed:"fast",show:"fadeIn",hide:"fadeOut",focus:0,defaultButton:0,useiframe:!1,top:"15%",position:{container:null,x:null,y:null,arrow:null,width:null},persistent:!0,timeout:0,states:{},initialState:0,state:{name:null,title:"",html:"",buttons:{Ok:!0},focus:0,defaultButton:0,position:{container:null,x:null,y:null,arrow:null,width:null},submit:function(e,t,i,n){return!0}}},t.setDefaults=function(i){t.defaults=e.extend({},t.defaults,i)},t.setStateDefaults=function(i){t.defaults.state=e.extend({},t.defaults.state,i)},t.count=0,t.lifo=[],t.getLast=function(){var e=t.lifo.length;return e>0&&t.lifo[e-1]},t.removeFromStack=function(e){for(var i=t.lifo.length-1;i>=0;i--)if(t.lifo[i].id===e)return t.lifo.splice(i,1)[0]},t.prototype={id:null,open:function(i,n){var o=this;o.options=e.extend({},t.defaults,n),o.timeout&&clearTimeout(o.timeout),o.timeout=!1;var s=o.options,a=e(document.body),r=e(window),l='<div class="'+s.prefix+"box "+s.classes.box+'">';s.useiframe&&e("object, applet").length>0?l+='<iframe src="javascript:false;" class="'+s.prefix+"fade "+s.classes.fade+'"></iframe>':l+='<div class="'+s.prefix+"fade "+s.classes.fade+'"></div>',l+='<div class="'+s.prefix+" "+s.classes.prompt+'"><form action="#" class="ui tiny form '+s.prefix+"form "+s.classes.form+'"><div class="'+s.prefix+"close "+s.classes.close+'">'+s.closeText+'</div><div class="'+s.prefix+'states"></div></form></div></div>',o.jqib=e(l).appendTo(a),o.jqi=o.jqib.children("."+s.prefix),o.jqif=o.jqib.children("."+s.prefix+"fade"),i.constructor===String&&(i={state0:{title:s.title,html:i,buttons:s.buttons,position:s.position,focus:s.focus,defaultButton:s.defaultButton,submit:s.submit}}),o.options.states={};var c,d;for(c in i)d=e.extend({},t.defaults.state,{name:c},i[c]),o.addState(d.name,d),""===o.currentStateName&&(o.currentStateName=d.name);o.jqi.on("click","."+s.prefix+"buttons button",function(t){var i=e(this),n=i.parents("."+s.prefix+"state"),a=n.data("jqi-name"),r=o.options.states[a],l=n.children("."+s.prefix+"message"),c=r.buttons[i.text()]||r.buttons[i.html()],d={};if(o.options.buttonTimeout>0&&(o.disableStateButtons(a),setTimeout(function(){o.enableStateButtons(a)},o.options.buttonTimeout)),void 0===c)for(var u in r.buttons)r.buttons[u].title!==i.text()&&r.buttons[u].title!==i.html()||(c=r.buttons[u].value);e.each(o.jqi.children("form").serializeArray(),function(e,t){void 0===d[t.name]?d[t.name]=t.value:typeof d[t.name]===Array||"object"==typeof d[t.name]?d[t.name].push(t.value):d[t.name]=[d[t.name],t.value]});var h=new e.Event("impromptu:submit");h.stateName=r.name,h.state=n,n.trigger(h,[c,l,d]),h.isDefaultPrevented()||o.close(!0,c,l,d)});var u=function(){if(s.persistent){var t=s.top.toString().indexOf("%")>=0?r.height()*(parseInt(s.top,10)/100):parseInt(s.top,10),i=parseInt(o.jqi.css("top").replace("px",""),10)-t;e("html,body").animate({scrollTop:i},"fast",function(){var e=0;o.jqib.addClass(s.prefix+"warning");var t=setInterval(function(){o.jqib.toggleClass(s.prefix+"warning"),e++>1&&(clearInterval(t),o.jqib.removeClass(s.prefix+"warning"))},100)})}else o.close(!0)};return o.position(),o.style(),o._windowResize=function(e){o.position(e)},r.resize({animate:!1},o._windowResize),o.jqif.click(u),o.jqi.find("."+s.prefix+"close").click(function(){o.close()}),o.jqi.find("."+s.prefix+"form").submit(function(){return!1}),o.jqib.on("keydown",function(t){var i=window.event?event.keyCode:t.keyCode;if(27===i&&u(),13===i){var n=o.getCurrentState().find("."+s.prefix+"defaultbutton");!1===e(t.target).is("textarea,."+s.prefix+"button")&&n.length>0&&(t.preventDefault(),n.click())}if(9===i){var a=e("input,select,textarea,button",o.getCurrentState()),r=!t.shiftKey&&t.target===a[a.length-1],l=t.shiftKey&&t.target===a[0];if(r||l)return setTimeout(function(){if(a){var e=a[!0===l?a.length-1:0];e&&e.focus()}},10),!1}}).on("impromptu:loaded",s.loaded).on("impromptu:close",s.close).on("impromptu:statechanging",s.statechanging).on("impromptu:statechanged",s.statechanged),o.jqif[s.show](s.overlayspeed),o.jqi[s.show](s.promptspeed,function(){o.goToState(isNaN(s.initialState)?s.initialState:o.jqi.find("."+s.prefix+"states ."+s.prefix+"state").eq(s.initialState).data("jqi-name")),o.jqib.trigger("impromptu:loaded")}),s.timeout>0&&(o.timeout=setTimeout(function(){o.close(!0)},s.timeout)),o},close:function(i,n,o,s){var a=this;return t.removeFromStack(a.id),a.timeout&&(clearTimeout(a.timeout),a.timeout=!1),a.jqib&&a.jqib[a.options.hide]("fast",function(){a.jqib.trigger("impromptu:close",[n,o,s]),a.jqib.remove(),e(window).off("resize",a._windowResize),"function"==typeof i&&i()}),a.currentStateName="",a},addState:function(i,n,o){var s,a,r,l,c,d=this,u="",h=null,p="",f="",m=d.options,g=d.jqi.find("."+m.prefix+"states"),v=[],b=0;if(null!==(n=e.extend({},t.defaults.state,{name:i},n)).position.arrow&&(p='<div class="'+m.prefix+"arrow "+m.prefix+"arrow"+n.position.arrow+'"></div>'),n.title&&""!==n.title&&(f='<div class="lead '+m.prefix+"title "+m.classes.title+'">'+n.title+'</div><div class="ui mini error errors message '+n.uid+'"></div><div class="ui success message '+n.uid+'"></div>'),s=n.html,"function"==typeof n.html&&(s="Error: html function must return text"),u+='<div class="'+m.prefix+'state" data-jqi-name="'+i+'">'+p+f+'<div class="'+m.prefix+"message "+m.classes.message+'">'+s+'</div><div class="'+m.prefix+"buttons"+(e.isEmptyObject(n.buttons)?"hide ":" ")+m.classes.buttons+'">',e.isArray(n.buttons))v=n.buttons;else if(e.isPlainObject(n.buttons))for(r in n.buttons)n.buttons.hasOwnProperty(r)&&v.push({title:r,value:n.buttons[r]});for(b=0,c=v.length;b<c;b++)l=v[b],a=n.focus===b||isNaN(n.focus)&&n.defaultButton===b?m.prefix+"defaultbutton "+m.classes.defaultButton:"",u+='<button type="submit" class="'+n.uid+m.classes.button+" "+m.prefix+"button "+a,void 0!==l.classes&&(u+=" "+(e.isArray(l.classes)?l.classes.join(" "):l.classes)+" "),u+='" name="'+m.prefix+"_"+i+"_button"+l.title.replace(/[^a-z0-9]+/gi,"")+'" value="'+l.value+'">'+l.title+"</button>";return u+="</div></div>",(h=e(u).css({display:"none"})).on("impromptu:submit",n.submit),void 0!==o?d.getState(o).after(h):g.append(h),d.options.states[i]=n,h},removeState:function(e,t){var i=this,n=i.getState(e),o=function(){n.remove()};return 0!==n.length&&("none"!==n.css("display")?void 0!==t&&i.getState(t).length>0?i.goToState(t,!1,o):n.next().length>0?i.nextState(o):n.prev().length>0?i.prevState(o):i.close():n.slideUp("slow",o),!0)},getApi:function(){return this},getBox:function(){return this.jqib},getPrompt:function(){return this.jqi},getState:function(e){return this.jqi.find('[data-jqi-name="'+e+'"]')},getCurrentState:function(){return this.getState(this.getCurrentStateName())},getCurrentStateName:function(){return this.currentStateName},disableStateButtons:function(t,i,n){var o=this;e.isArray(t)&&(i=t,t=null),o.getState(t||o.getCurrentStateName()).find("."+o.options.prefix+"button").each(function(t,o){void 0!==i&&-1===e.inArray(o.value,i)||(o.disabled=!n)})},enableStateButtons:function(e,t){this.disableStateButtons(e,t,!0)},position:function(t){var i=this,n=e.fx.off,o=i.getCurrentState(),s=i.options.states[o.data("jqi-name")],a=s?s.position:void 0,r=e(window),l=document.body.scrollHeight,c=e(window).height(),d=(e(document).height(),l>c?l:c),u=parseInt(r.scrollTop(),10),h=u+(i.options.top.toString().indexOf("%")>=0?c*(parseInt(i.options.top,10)/100):parseInt(i.options.top,10));if(void 0!==t&&!1===t.data.animate&&(e.fx.off=!0),i.jqib.css({position:"absolute",height:d,width:"100%",top:0,left:0,right:0,bottom:0}),i.jqif.css({position:"fixed",height:d,width:"100%",top:0,left:0,right:0,bottom:0}),a&&a.container){var p=e(a.container).offset(),f=!1;e.isPlainObject(p)&&void 0!==p.top&&(h=p.top+a.y-(i.options.top.toString().indexOf("%")>=0?c*(parseInt(i.options.top,10)/100):parseInt(i.options.top,10)),i.jqi.css({position:"absolute"}),i.jqi.animate({top:p.top+a.y,left:p.left+a.x,marginLeft:0,width:void 0!==a.width?a.width:null},function(){!f&&p.top+a.y+i.jqi.outerHeight(!0)>u+c&&(e("html,body").animate({scrollTop:h},"slow","swing",function(){}),f=!0)}),(h<u||h>u+c)&&(e("html,body").animate({scrollTop:h},"slow","swing",function(){}),f=!0))}else a&&a.width?(i.jqi.css({position:"absolute",left:"50%"}),i.jqi.animate({top:a.y||h,left:a.x||"50%",marginLeft:a.width/2*-1,width:a.width})):i.jqi.css({position:"absolute",top:h,left:"50%",marginLeft:i.jqi.outerWidth(!1)/2*-1});void 0!==t&&!1===t.data.animate&&(e.fx.off=n)},style:function(){var e=this;e.jqif.css({zIndex:e.options.zIndex,display:"none",opacity:e.options.opacity}),e.jqi.css({zIndex:e.options.zIndex+1,display:"none"}),e.jqib.css({zIndex:e.options.zIndex})},goToState:function(t,i,n){var o=this,s=(o.jqi,o.options),a=o.getState(t),r=s.states[a.data("jqi-name")],l=new e.Event("impromptu:statechanging"),c=o.options;if(void 0!==r){if("function"==typeof r.html){var d=r.html;a.find("."+c.prefix+"message ").html(d())}"function"==typeof i&&(n=i,i=!1),o.jqib.trigger(l,[o.getCurrentStateName(),t]),!l.isDefaultPrevented()&&a.length>0&&(o.jqi.find("."+c.prefix+"parentstate").removeClass(c.prefix+"parentstate"),i?(o.jqi.find("."+c.prefix+"substate").not(a).slideUp(s.promptspeed).removeClass("."+c.prefix+"substate").find("."+c.prefix+"arrow").hide(),o.jqi.find("."+c.prefix+"state:visible").addClass(c.prefix+"parentstate"),a.addClass(c.prefix+"substate")):o.jqi.find("."+c.prefix+"state").not(a).slideUp(s.promptspeed).find("."+c.prefix+"arrow").hide(),o.currentStateName=r.name,a.slideDown(s.promptspeed,function(){var i=e(this);o.enableStateButtons(),"string"==typeof r.focus?i.find(r.focus).eq(0).focus():i.find("."+c.prefix+"defaultbutton").focus(),i.find("."+c.prefix+"arrow").show(s.promptspeed),"function"==typeof n&&o.jqib.on("impromptu:statechanged",n),o.jqib.trigger("impromptu:statechanged",[t]),"function"==typeof n&&o.jqib.off("impromptu:statechanged",n)}),i||o.position())}return a},nextState:function(e){var t=this,i=t.getCurrentState().next();return i.length>0&&t.goToState(i.data("jqi-name"),e),i},prevState:function(e){var t=this,i=t.getCurrentState().prev();return i.length>0&&t.goToState(i.data("jqi-name"),e),i}},e.prompt=function(e,i){return new t(e,i).jqi},e.each(t,function(t,i){e.prompt[t]=i}),e.each(t.prototype,function(i,n){e.prompt[i]=function(){var e=t.getLast();if(e&&"function"==typeof e[i])return e[i].apply(e,arguments)}}),e.fn.prompt=function(t){void 0===t&&(t={}),void 0===t.withDataAndEvents&&(t.withDataAndEvents=!1),e.prompt(e(this).clone(t.withDataAndEvents).html(),t)},window.Impromptu=t}),function(e){e.fn.responsify=function(){return this.each(function(){var t,i,n,o,s,a,r,l,c,d,u,h,p=e(this);if(t=p.width(),i=p.height(),n=p.parent().width(),o=p.parent().height(),s=Number(p.attr("data-focus-left")),a=Number(p.attr("data-focus-top")),r=Number(p.attr("data-focus-right")),l=Number(p.attr("data-focus-bottom")),t/i>n/o){var f=(r-s)*t;f/i>n/o?(h=-s*(c=t*n/f),u=(o-(d=i*n/f))/2):(d=o,h=n-(h=(h=n/2-(s+r)*(c=o*t/i)/2)>0?0:h)-c>0?n-c:h,u=0)}else{var m=(l-a)*i;m/t>o/n?(u=-a*(d=i*o/m),h=(n-(c=t*o/m))/2):(c=n,u=o-(u=(u=o/2-(a+l)*(d=n*i/t)/2)>0?0:u)-d>0?o-d:u,h=0)}p.parent().css({overflow:"hidden"}),p.css({position:"relative",height:d,width:c,left:h,top:u})})}}(jQuery),function(e){window.select={settings:{maxOptionsInLabel:3},counter:1,ln:{oneOptionSelected:"geselecteerd",multipleOptionsSelected:"geselecteerd",defaultPlaceholder:"Klik hier om te kiezen"},init:function(t){return e(this).data("settings",e.extend(select.settings,t)),this.each(function(){var t=e(this);if("SELECT"!=t.prop("tagName"))return e.error("jquery.select only applies to <SELECT> elements not <"+t.prop("tagName")+">");t.select("buildTrigger"),t.select("buildContainer"),t.select("updateLabel"),t.hide(),select.counter++})},buildTrigger:function(){var t,i=e(this);t=i.data("jquery.select.trigger")?i.data("jquery.select.trigger"):e("<a>").attr("href","javascript:void(0)").attr("id","jquery-select-trigger-"+select.counter).addClass("jquery-select-trigger").css({width:i.outerWidth(!0)}).data("jquery.select.no",select.counter).data("jquery.select.source.element",i).on("click",function(t){e(this).select("toggle")}).on("keypress",function(t){0==t.keyCode&&e(this).select("toggle")}).insertAfter(i);var n=e("<span>").addClass("jquery-select-trigger-label").appendTo(t),o=e("<span>").addClass("jquery-select-trigger-arrow").appendTo(t);e("<span>").addClass("jquery-select-trigger-arrow-inner").appendTo(o);return i.data("placeholder")?n.html(i.data("placeholder")).addClass("placeholder"):n.html(select.ln.defaultPlaceholder).addClass("placeholder"),i.data("jquery.select.trigger",t),i},buildContainer:function(){var t,i,n=e(this),o=n.data("jquery.select.trigger");return n.data("jquery.select.container")?(t=n.data("jquery.select.container"),i=t.children()):(t=e("<div>").attr("id","jquery-select-container-"+select.counter).addClass("jquery-select-container").data("jquery.select.no",select.counter).data("jquery.select.source.element",n).insertAfter(o),i=e("<div>").addClass("jquery-select-container-inner").appendTo(t)),n.find("optgroup, option").each(function(t,o){var s=e(o);if("OPTGROUP"==s.prop("tagName")){var a=e("<a>").attr("href","javascript:void(0)").addClass("jquery-select-container-inner-group").html(s.attr("label")).on("keypress",function(t){return 38==t.keyCode?(t.preventDefault(),t.stopPropagation(),e(this).prev().focus(),!1):40==t.keyCode?(t.preventDefault(),t.stopPropagation(),e(this).next().focus(),!1):void 0}).appendTo(i);n.attr("multiple")||a.on("click",function(){})}else{var r=e("<a>").attr("href","javascript:void(0)").addClass("jquery-select-container-inner-item").html(s.text()).data("jquery.select.value",s.val()).data("jquery.select.multiple",n.attr("multiple")).on("keypress",function(t){if(38==t.keyCode)return t.preventDefault(),t.stopPropagation(),e(this).prev().focus(),!1;if(40==t.keyCode)return t.preventDefault(),t.stopPropagation(),e(this).next().focus(),!1;if(0==t.keyCode){t.preventDefault(),t.stopPropagation();var i=e(this);if(i.hasClass("disabled"))return;var n=i.parents(".jquery-select-container"),o=e("#jquery-select-trigger-"+n.data("jquery.select.no"));if(o.data("jquery.select.source.element").attr("multiple")||n.find(".selected").removeClass("selected"),i.hasClass("selected")?i.removeClass("selected"):i.addClass("selected"),o.data("jquery.select.source.element").attr("multiple")){var s=[];n.find(".selected").each(function(t,i){s.push(e(i).data("jquery.select.value"))});var a=!1;o.data("jquery.select.source.element").find("option").each(function(t,i){-1!==e.inArray(i.value,s)?(i.selected=!0,a||(o.data("jquery.select.source.element")[0].selectedIndex=t,a=!0)):i.selected=!1})}else{var r=n.find(".selected");o.data("jquery.select.source.element").find("option").each(function(e,t){r.data("jquery.select.value")==t.value?(t.selected=!0,o.data("jquery.select.source.element")[0].selectedIndex=e):t.selected=!1})}return o.data("jquery.select.source.element").trigger("change"),o.data("jquery.select.source.element").select("updateLabel"),o.data("jquery.select.source.element").attr("multiple")||o.select("close"),!1}}).on("click",function(t){var i=e(this);if(!i.hasClass("disabled")){var n=i.parents(".jquery-select-container"),o=e("#jquery-select-trigger-"+n.data("jquery.select.no"));if(o.data("jquery.select.source.element").attr("multiple")||n.find(".selected").removeClass("selected"),i.hasClass("selected")?i.removeClass("selected"):i.addClass("selected"),o.data("jquery.select.source.element").attr("multiple")){var s=[];n.find(".selected").each(function(t,i){s.push(e(i).data("jquery.select.value"))});var a=!1;o.data("jquery.select.source.element").find("option").each(function(t,i){-1!==e.inArray(i.value,s)?(i.selected=!0,a||(o.data("jquery.select.source.element")[0].selectedIndex=t,a=!0)):i.selected=!1})}else{var r=n.find(".selected");o.data("jquery.select.source.element").find("option").each(function(e,t){r.data("jquery.select.value")==t.value?(t.selected=!0,o.data("jquery.select.source.element")[0].selectedIndex=e):t.selected=!1})}return o.data("jquery.select.source.element").trigger("change"),o.data("jquery.select.source.element").select("updateLabel"),o.data("jquery.select.source.element").attr("multiple")||o.select("close"),!1}}).appendTo(i);s.prop("selected")&&r.addClass("selected"),s.prop("disabled")&&r.addClass("disabled"),s.attr("title")&&""!=s.attr("title")&&r.append('<span class="jquery-select-container-inner-item-description">'+s.attr("title")+"</span>")}}),n.data("jquery.select.container",t),n},updateLabel:function(){var t=e(this).data("jquery.select.trigger"),i=t.find(".jquery-select-trigger-label"),n=e("#jquery-select-container-"+t.data("jquery.select.no"));void 0===i.data("jquery.select.original.label")&&i.data("jquery.select.original.label",i.html());var o=n.find(".selected");if(o.length>select.settings.maxOptionsInLabel)i.removeClass("placeholder").html(o.length+" "+(1==o.length?select.ln.oneOptionSelected:select.ln.multipleOptionsSelected));else if(o.length>0&&o.length<=select.settings.maxOptionsInLabel){var s="";o.each(function(t,i){""!=s&&(s+=", "),s+=e(i).clone().children().remove().end().text()}),i.removeClass("placeholder").html(s)}else i.addClass("placeholder").html(i.data("jquery.select.original.label"))},open:function(){e(".jquery-select-container").each(function(t,i){var n=e(i);n.is(":visible")&&e("#jquery-select-trigger-"+n.data("jquery.select.no")).select("close")});var t=e(this),i=e("#jquery-select-container-"+t.data("jquery.select.no"));i.show(),t.addClass("active"),i.find("a").first().focus();var n=e(document).width(),o=t.outerWidth(!0),s=t.offset(),a=o;return i.hasClass("jquery-select-x3")&&s.left+3*o<n?a=3*o:i.hasClass("jquery-select-x2")&&s.left+2*o<n?a=2*o:i.hasClass("jquery-select-x.5")&&(a=o/2),i.css("width",a),t.data("jquery.select.source.element").trigger("open"),t},close:function(){var t=e(this);return e("#jquery-select-container-"+t.data("jquery.select.no")).hide(),t.removeClass("active"),t.data("jquery.select.source.element").trigger("close"),t},toggle:function(){var t=e(this);return e("#jquery-select-container-"+t.data("jquery.select.no")).is(":visible")?t.select("close"):t.select("open"),t}},e.fn.select=function(t){return select[t]?select[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?e.error("Method "+t+" does not exist on jquery.select"):select.init.apply(this,arguments)},e(document).on("click touchstart",function(t){e(t.target).closest(".jquery-select-trigger").length||e(t.target).closest(".jquery-select-container").length||e(".jquery-select-container").each(function(t,i){var n=e(i);n.is(":visible")&&e("#jquery-select-trigger-"+n.data("jquery.select.no")).select("close")})}),e(document).on("keypress",function(t){27==t.keyCode&&e(".jquery-select-container").each(function(t,i){var n=e(i);n.is(":visible")&&e("#jquery-select-trigger-"+n.data("jquery.select.no")).select("close")})})}(jQuery),function(e,t,i,n){e.site=e.fn.site=function(n){var o,s,a=(new Date).getTime(),r=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1),u=e.isPlainObject(n)?e.extend(!0,{},e.site.settings,n):e.extend({},e.site.settings),h=u.namespace,p=u.error,f="module-"+h,m=e(i),g=this,v=m.data(f);return o={initialize:function(){o.instantiate()},instantiate:function(){o.verbose("Storing instance of site",o),v=o,m.data(f,o)},normalize:function(){o.fix.console(),o.fix.requestAnimationFrame()},fix:{console:function(){o.debug("Normalizing window.console"),void 0!==console&&void 0!==console.log||(o.verbose("Console not available, normalizing events"),o.disable.console()),void 0!==console.group&&void 0!==console.groupEnd&&void 0!==console.groupCollapsed||(o.verbose("Console group not available, normalizing events"),t.console.group=function(){},t.console.groupEnd=function(){},t.console.groupCollapsed=function(){}),void 0===console.markTimeline&&(o.verbose("Mark timeline not available, normalizing events"),t.console.markTimeline=function(){})},consoleClear:function(){o.debug("Disabling programmatic console clearing"),t.console.clear=function(){}},requestAnimationFrame:function(){o.debug("Normalizing requestAnimationFrame"),void 0===t.requestAnimationFrame&&(o.debug("RequestAnimationFrame not available, normalizing event"),t.requestAnimationFrame=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(t){return void 0!==e.fn[t]&&void 0!==e.fn[t].settings},enabled:{modules:function(t){var i=[];return t=t||u.modules,e.each(t,function(e,t){o.moduleExists(t)&&i.push(t)}),i}},disabled:{modules:function(t){var i=[];return t=t||u.modules,e.each(t,function(e,t){o.moduleExists(t)||i.push(t)}),i}},change:{setting:function(t,i,n,s){n="string"==typeof n?"all"===n?u.modules:[n]:n||u.modules,s=void 0===s||s,e.each(n,function(n,a){var r,l=!o.moduleExists(a)||(e.fn[a].settings.namespace||!1);o.moduleExists(a)&&(o.verbose("Changing default setting",t,i,a),e.fn[a].settings[t]=i,s&&l&&(r=e(":data(module-"+l+")")).length>0&&(o.verbose("Modifying existing settings",r),r[a]("setting",t,i)))})},settings:function(t,i,n){i="string"==typeof i?[i]:i||u.modules,n=void 0===n||n,e.each(i,function(i,s){var a;o.moduleExists(s)&&(o.verbose("Changing default setting",t,s),e.extend(!0,e.fn[s].settings,t),n&&h&&(a=e(":data(module-"+h+")")).length>0&&(o.verbose("Modifying existing settings",a),a[s]("setting",t)))})}},enable:{console:function(){o.console(!0)},debug:function(e,t){e=e||u.modules,o.debug("Enabling debug for modules",e),o.change.setting("debug",!0,e,t)},verbose:function(e,t){e=e||u.modules,o.debug("Enabling verbose debug for modules",e),o.change.setting("verbose",!0,e,t)}},disable:{console:function(){o.console(!1)},debug:function(e,t){e=e||u.modules,o.debug("Disabling debug for modules",e),o.change.setting("debug",!1,e,t)},verbose:function(e,t){e=e||u.modules,o.debug("Disabling verbose debug for modules",e),o.change.setting("verbose",!1,e,t)}},console:function(e){if(e){if(void 0===v.cache.console)return void o.error(p.console);o.debug("Restoring console function"),t.console=v.cache.console}else o.debug("Disabling console function"),v.cache.console=t.console,t.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){o.verbose("Destroying previous site for",m),m.removeData(f)},cache:{},setting:function(t,i){if(e.isPlainObject(t))e.extend(!0,u,t);else{if(void 0===i)return u[t];u[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,o,t);else{if(void 0===i)return o[t];o[t]=i}},debug:function(){u.debug&&(u.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,u.name+":"),o.debug.apply(console,arguments)))},verbose:function(){u.verbose&&u.debug&&(u.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),o.verbose.apply(console,arguments)))},error:function(){o.error=Function.prototype.bind.call(console.error,console,u.name+":"),o.error.apply(console,arguments)},performance:{log:function(e){var t,i;u.performance&&(i=(t=(new Date).getTime())-(a||t),a=t,r.push({Element:g,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":i})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,500)},display:function(){var t=u.name+":",i=0;a=!1,clearTimeout(o.performance.timer),e.each(r,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,i,n){var a,r,l,c=v;return i=i||d,n=g||n,"string"==typeof t&&void 0!==c&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(i,n){var s=i!=a?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(c[s])&&i!=a)c=c[s];else{if(void 0!==c[s])return r=c[s],!1;if(!e.isPlainObject(c[n])||i==a)return void 0!==c[n]?(r=c[n],!1):(o.error(p.method,t),!1);c=c[n]}})),e.isFunction(r)?l=r.apply(n,i):void 0!==r&&(l=r),e.isArray(s)?s.push(l):void 0!==s?s=[s,l]:void 0!==l&&(s=l),r}},c?(void 0===v&&o.initialize(),o.invoke(l)):(void 0!==v&&o.destroy(),o.initialize()),void 0!==s?s:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])}})}(jQuery,window,document),function(e,t,i,n){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.form=function(t){var n,o=e(this),s=o.selector||"",a=(new Date).getTime(),r=[],l=arguments[0],c=arguments[1],d="string"==typeof l,u=[].slice.call(arguments,1);return o.each(function(){var h,p,f,m,g,v,b,y,w,x,k,C,S,T,D,$,_,M,O=e(this),A=this,P=[],I=!1;(M={initialize:function(){M.get.settings(),d?(void 0===_&&M.instantiate(),M.invoke(l)):(void 0!==_&&_.invoke("destroy"),M.verbose("Initializing form validation",O,y),M.bindEvents(),M.set.defaults(),M.instantiate())},instantiate:function(){M.verbose("Storing instance of module",M),_=M,O.data(D,M)},destroy:function(){M.verbose("Destroying previous module",_),M.removeEvents(),O.removeData(D)},refresh:function(){M.verbose("Refreshing selector cache"),h=O.find(k.field),p=O.find(k.group),f=O.find(k.message),m=O.find(k.prompt),g=O.find(k.submit),v=O.find(k.clear),b=O.find(k.reset)},submit:function(){M.verbose("Submitting form",O),O.submit()},attachEvents:function(t,i){i=i||"submit",e(t).on("click"+$,function(e){M[i](),e.preventDefault()})},bindEvents:function(){M.verbose("Attaching form events"),O.on("submit"+$,M.validate.form).on("blur"+$,k.field,M.event.field.blur).on("click"+$,k.submit,M.submit).on("click"+$,k.reset,M.reset).on("click"+$,k.clear,M.clear),y.keyboardShortcuts&&O.on("keydown"+$,k.field,M.event.field.keydown),h.each(function(){var t=e(this),i=t.prop("type"),n=M.get.changeEvent(i,t);e(this).on(n+$,M.event.field.change)})},clear:function(){h.each(function(){var t=e(this),i=t.parent(),n=t.closest(p),o=n.find(k.prompt),s=t.data(x.defaultValue)||"",a=i.is(k.uiCheckbox),r=i.is(k.uiDropdown);n.hasClass(C.error)&&(M.verbose("Resetting error on field",n),n.removeClass(C.error),o.remove()),r?(M.verbose("Resetting dropdown value",i,s),i.dropdown("clear")):a?t.prop("checked",!1):(M.verbose("Resetting field value",t,s),t.val(""))})},reset:function(){h.each(function(){var t=e(this),i=t.parent(),n=t.closest(p),o=n.find(k.prompt),s=t.data(x.defaultValue),a=i.is(k.uiCheckbox),r=i.is(k.uiDropdown),l=n.hasClass(C.error);void 0!==s&&(l&&(M.verbose("Resetting error on field",n),n.removeClass(C.error),o.remove()),r?(M.verbose("Resetting dropdown value",i,s),i.dropdown("restore defaults")):a?(M.verbose("Resetting checkbox value",i,s),t.prop("checked",s)):(M.verbose("Resetting field value",t,s),t.val(s)))})},is:{bracketedRule:function(e){return e.type&&e.type.match(y.regExp.bracket)},empty:function(e){return!e||0===e.length||(e.is('input[type="checkbox"]')?!e.is(":checked"):M.is.blank(e))},blank:function(t){return""===e.trim(t.val())},valid:function(){var t=!0;return M.verbose("Checking if form is valid"),e.each(w,function(e,i){M.validate.field(i,e)||(t=!1)}),t}},removeEvents:function(){O.off($),h.off($),g.off($),h.off($)},event:{field:{keydown:function(t){var i=e(this),n=t.which,o=i.is(k.input),s=i.is(k.checkbox),a=i.closest(k.uiDropdown).length>0,r={enter:13,escape:27};n==r.escape&&(M.verbose("Escape key pressed blurring field"),i.blur()),t.ctrlKey||n!=r.enter||!o||a||s||(I||(i.one("keyup"+$,M.event.field.keyup),M.submit(),M.debug("Enter pressed on input submitting form")),I=!0)},keyup:function(){I=!1},blur:function(t){var i=e(this),n=i.closest(p),o=M.get.validation(i);n.hasClass(C.error)?(M.debug("Revalidating field",i,o),o&&M.validate.field(o)):"blur"!=y.on&&"change"!=y.on||o&&M.validate.field(o)},change:function(t){var i=e(this),n=i.closest(p),o=M.get.validation(i);("change"==y.on||n.hasClass(C.error)&&y.revalidate)&&(clearTimeout(M.timer),M.timer=setTimeout(function(){M.debug("Revalidating field",i,M.get.validation(i)),M.validate.field(o)},y.delay))}}},get:{ancillaryValue:function(e){return!(!e.type||!M.is.bracketedRule(e))&&e.type.match(y.regExp.bracket)[1]+""},ruleName:function(e){return M.is.bracketedRule(e)?e.type.replace(e.type.match(y.regExp.bracket)[0],""):e.type},changeEvent:function(e,t){return"checkbox"==e||"radio"==e||"hidden"==e||t.is("select")?"change":M.get.inputEvent()},inputEvent:function(){return void 0!==i.createElement("input").oninput?"input":void 0!==i.createElement("input").onpropertychange?"propertychange":"keyup"},prompt:function(e,t){var i,n,o,s=M.get.ruleName(e),a=M.get.ancillaryValue(e),r=e.prompt||y.prompt[s]||y.text.unspecifiedRule,l=-1!==r.search("{value}"),c=-1!==r.search("{name}");return(c||l)&&(n=M.get.field(t.identifier)),l&&(r=r.replace("{value}",n.val())),c&&(o=1==(i=n.closest(k.group).find("label").eq(0)).length?i.text():n.prop("placeholder")||y.text.unspecifiedField,r=r.replace("{name}",o)),r=r.replace("{identifier}",t.identifier),r=r.replace("{ruleValue}",a),e.prompt||M.verbose("Using default validation prompt for type",r,s),r},settings:function(){if(e.isPlainObject(t)){var i,n=Object.keys(t);n.length>0&&(void 0!==t[n[0]].identifier&&void 0!==t[n[0]].rules)?(y=e.extend(!0,{},e.fn.form.settings,c),w=e.extend({},e.fn.form.settings.defaults,t),M.error(y.error.oldSyntax,A),M.verbose("Extending settings from legacy parameters",w,y)):(t.fields&&(i=Object.keys(t.fields),("string"==typeof t.fields[i[0]]||e.isArray(t.fields[i[0]]))&&e.each(t.fields,function(i,n){"string"==typeof n&&(n=[n]),t.fields[i]={rules:[]},e.each(n,function(e,n){t.fields[i].rules.push({type:n})})})),y=e.extend(!0,{},e.fn.form.settings,t),w=e.extend({},e.fn.form.settings.defaults,y.fields),M.verbose("Extending settings",w,y))}else y=e.fn.form.settings,w=e.fn.form.settings.defaults,M.verbose("Using default form validation",w,y);T=y.namespace,x=y.metadata,k=y.selector,C=y.className,S=y.error,D="module-"+T,$="."+T,_=O.data(D),M.refresh()},field:function(t){return M.verbose("Finding field with identifier",t),h.filter("#"+t).length>0?h.filter("#"+t):h.filter('[name="'+t+'"]').length>0?h.filter('[name="'+t+'"]'):h.filter('[name="'+t+'[]"]').length>0?h.filter('[name="'+t+'[]"]'):h.filter("[data-"+x.validate+'="'+t+'"]').length>0?h.filter("[data-"+x.validate+'="'+t+'"]'):e("<input/>")},fields:function(t){var i=e();return e.each(t,function(e,t){i=i.add(M.get.field(t))}),i},validation:function(t){var i,n;return!!w&&(e.each(w,function(e,o){n=o.identifier||e,M.get.field(n)[0]==t[0]&&(o.identifier=n,i=o)}),i||!1)},value:function(e){var t=[];return t.push(e),M.get.values.call(A,t)[e]},values:function(t){var i={};return(e.isArray(t)?M.get.fields(t):h).each(function(t,n){var o=e(n),s=(o.prop("type"),o.prop("name")),a=o.val(),r=o.is(k.checkbox),l=o.is(k.radio),c=-1!==s.indexOf("[]"),d=!!r&&o.is(":checked");s&&(c?(s=s.replace("[]",""),i[s]||(i[s]=[]),r?d?i[s].push(a||!0):i[s].push(!1):i[s].push(a)):l?d&&(i[s]=a):i[s]=r?!!d&&(a||!0):a)}),i}},has:{field:function(e){return M.verbose("Checking for existence of a field with identifier",e),"string"!=typeof e&&M.error(S.identifier,e),h.filter("#"+e).length>0||(h.filter('[name="'+e+'"]').length>0||h.filter("[data-"+x.validate+'="'+e+'"]').length>0)}},add:{prompt:function(t,i){var n=M.get.field(t).closest(p),o=n.children(k.prompt),s=0!==o.length;i="string"==typeof i?[i]:i,M.verbose("Adding field error state",t),n.addClass(C.error),y.inline&&(s||(o=y.templates.prompt(i)).appendTo(n),o.html(i[0]),s?M.verbose("Inline errors are disabled, no inline error added",t):y.transition&&void 0!==e.fn.transition&&O.transition("is supported")?(M.verbose("Displaying error with css transition",y.transition),o.transition(y.transition+" in",y.duration)):(M.verbose("Displaying error with fallback javascript animation"),o.fadeIn(y.duration)))},errors:function(e){M.debug("Adding form error messages",e),M.set.error(),f.html(y.templates.error(e))}},remove:{prompt:function(t){var i=M.get.field(t).closest(p),n=i.children(k.prompt);i.removeClass(C.error),y.inline&&n.is(":visible")&&(M.verbose("Removing prompt for field",t),y.transition&&void 0!==e.fn.transition&&O.transition("is supported")?n.transition(y.transition+" out",y.duration,function(){n.remove()}):n.fadeOut(y.duration,function(){n.remove()}))}},set:{success:function(){O.removeClass(C.error).addClass(C.success)},defaults:function(){h.each(function(){var t=e(this),i=t.filter(k.checkbox).length>0?t.is(":checked"):t.val();t.data(x.defaultValue,i)})},error:function(){O.removeClass(C.success).addClass(C.error)},value:function(e,t){var i={};return i[e]=t,M.set.values.call(A,i)},values:function(t){e.isEmptyObject(t)||e.each(t,function(t,i){var n,o=M.get.field(t),s=o.parent(),a=e.isArray(i),r=s.is(k.uiCheckbox),l=s.is(k.uiDropdown),c=o.is(k.radio)&&r;o.length>0&&(a&&r?(M.verbose("Selecting multiple",i,o),s.checkbox("uncheck"),e.each(i,function(e,t){n=o.filter('[value="'+t+'"]'),s=n.parent(),n.length>0&&s.checkbox("check")})):c?(M.verbose("Selecting radio value",i,o),o.filter('[value="'+i+'"]').parent(k.uiCheckbox).checkbox("check")):r?(M.verbose("Setting checkbox value",i,s),!0===i?s.checkbox("check"):s.checkbox("uncheck")):l?(M.verbose("Setting dropdown value",i,s),s.dropdown("set selected",i)):(M.verbose("Setting field value",i,o),o.val(i)))})}},validate:{form:function(e,t){var i=M.get.values();if(I)return!1;if(P=[],M.is.valid()){if(M.debug("Form has no validation errors, submitting"),M.set.success(),!0!==t)return y.onSuccess.call(A,e,i)}else if(M.debug("Form has errors"),M.set.error(),y.inline||M.add.errors(P),void 0!==O.data("moduleApi")&&e.stopImmediatePropagation(),!0!==t)return y.onFailure.call(A,P,i)},field:function(t,i){var n=t.identifier||i,o=M.get.field(n),s=!!t.depends&&M.get.field(t.depends),a=!0,r=[];return t.identifier||(M.debug("Using field name as identifier",n),t.identifier=n),o.prop("disabled")?(M.debug("Field is disabled. Skipping",n),a=!0):t.optional&&M.is.blank(o)?(M.debug("Field is optional and blank. Skipping",n),a=!0):t.depends&&M.is.empty(s)?(M.debug("Field depends on another value that is not present or empty. Skipping",s),a=!0):void 0!==t.rules&&e.each(t.rules,function(e,i){M.has.field(n)&&!M.validate.rule(t,i)&&(M.debug("Field is invalid",n,i.type),r.push(M.get.prompt(i,t)),a=!1)}),a?(M.remove.prompt(n,r),y.onValid.call(o),!0):(P=P.concat(r),M.add.prompt(n,r),y.onInvalid.call(o,r),!1)},rule:function(t,i){var n=M.get.field(t.identifier),o=(i.type,n.val()),s=M.get.ancillaryValue(i),a=M.get.ruleName(i),r=y.rules[a];{if(e.isFunction(r))return o=void 0===o||""===o||null===o?"":e.trim(o+""),r.call(n,o,s);M.error(S.noRule,a)}}},setting:function(t,i){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(void 0===i)return y[t];y[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,M,t);else{if(void 0===i)return M[t];M[t]=i}},debug:function(){!y.silent&&y.debug&&(y.performance?M.performance.log(arguments):(M.debug=Function.prototype.bind.call(console.info,console,y.name+":"),M.debug.apply(console,arguments)))},verbose:function(){!y.silent&&y.verbose&&y.debug&&(y.performance?M.performance.log(arguments):(M.verbose=Function.prototype.bind.call(console.info,console,y.name+":"),M.verbose.apply(console,arguments)))},error:function(){y.silent||(M.error=Function.prototype.bind.call(console.error,console,y.name+":"),M.error.apply(console,arguments))},performance:{log:function(e){var t,i;y.performance&&(i=(t=(new Date).getTime())-(a||t),a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:A,"Execution Time":i})),clearTimeout(M.performance.timer),M.performance.timer=setTimeout(M.performance.display,500)},display:function(){var t=y.name+":",i=0;a=!1,clearTimeout(M.performance.timer),e.each(r,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",s&&(t+=" '"+s+"'"),o.length>1&&(t+=" ("+o.length+")"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,i,o){var s,a,r,l=_;return i=i||u,o=A||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]&&(a=l[n],!1);l=l[n]}})),e.isFunction(a)?r=a.apply(o,i):void 0!==a&&(r=a),e.isArray(n)?n.push(r):void 0!==n?n=[n,r]:void 0!==r&&(n=r),a}}).initialize()}),void 0!==n?n:this},e.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},regExp:{bracket:/\[(.*)\]/i,decimal:/^\d*(\.)\d+/,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field"},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} cannot contain "{ruleValue}"',containExactly:'{name} cannot contain exactly "{ruleValue}"',doesntContain:'{name} must contain  "{ruleValue}"',doesntContainExactly:'{name} must contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(t){var i='<ul class="list">';return e.each(t,function(e,t){i+="<li>"+t+"</li>"}),i+="</ul>",e(i)},prompt:function(t){return e("<div/>").addClass("ui basic red pointing prompt label").html(t[0])}},rules:{empty:function(t){return!(void 0===t||""===t||e.isArray(t)&&0===t.length)},checked:function(){return e(this).filter(":checked").length>0},email:function(t){return e.fn.form.settings.regExp.email.test(t)},url:function(t){return e.fn.form.settings.regExp.url.test(t)},regExp:function(t,i){var n,o=i.match(e.fn.form.settings.regExp.flags);return o&&(i=o.length>=2?o[1]:i,n=o.length>=3?o[2]:""),t.match(new RegExp(i,n))},integer:function(t,i){var n,o,s,a=e.fn.form.settings.regExp.integer;return i&&-1===["",".."].indexOf(i)&&(-1==i.indexOf("..")?a.test(i)&&(n=o=i-0):(s=i.split("..",2),a.test(s[0])&&(n=s[0]-0),a.test(s[1])&&(o=s[1]-0))),a.test(t)&&(void 0===n||t>=n)&&(void 0===o||t<=o)},decimal:function(t){return e.fn.form.settings.regExp.decimal.test(t)},number:function(t){return e.fn.form.settings.regExp.number.test(t)},is:function(e,t){return t="string"==typeof t?t.toLowerCase():t,(e="string"==typeof e?e.toLowerCase():e)==t},isExactly:function(e,t){return e==t},not:function(e,t){return e="string"==typeof e?e.toLowerCase():e,t="string"==typeof t?t.toLowerCase():t,e!=t},notExactly:function(e,t){return e!=t},contains:function(t,i){return i=i.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1!==t.search(new RegExp(i,"i"))},containsExactly:function(t,i){return i=i.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1!==t.search(new RegExp(i))},doesntContain:function(t,i){return i=i.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1===t.search(new RegExp(i,"i"))},doesntContainExactly:function(t,i){return i=i.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1===t.search(new RegExp(i))},minLength:function(e,t){return void 0!==e&&e.length>=t},length:function(e,t){return void 0!==e&&e.length>=t},exactLength:function(e,t){return void 0!==e&&e.length==t},maxLength:function(e,t){return void 0!==e&&e.length<=t},match:function(t,i){var n;e(this);return e('[data-validate="'+i+'"]').length>0?n=e('[data-validate="'+i+'"]').val():e("#"+i).length>0?n=e("#"+i).val():e('[name="'+i+'"]').length>0?n=e('[name="'+i+'"]').val():e('[name="'+i+'[]"]').length>0&&(n=e('[name="'+i+'[]"]')),void 0!==n&&t.toString()==n.toString()},different:function(t,i){var n;e(this);return e('[data-validate="'+i+'"]').length>0?n=e('[data-validate="'+i+'"]').val():e("#"+i).length>0?n=e("#"+i).val():e('[name="'+i+'"]').length>0?n=e('[name="'+i+'"]').val():e('[name="'+i+'[]"]').length>0&&(n=e('[name="'+i+'[]"]')),void 0!==n&&t.toString()!==n.toString()},creditCard:function(t,i){var n,o,s={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},a={},r=!1,l="string"==typeof i&&i.split(",");if("string"==typeof t&&0!==t.length){if(l&&(e.each(l,function(i,n){(o=s[n])&&(a={length:-1!==e.inArray(t.length,o.length),pattern:-1!==t.search(o.pattern)}).length&&a.pattern&&(r=!0)}),!r))return!1;if((n={number:-1!==e.inArray(t.length,s.unionPay.length),pattern:-1!==t.search(s.unionPay.pattern)}).number&&n.pattern)return!0;for(var c=t.length,d=0,u=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],h=0;c--;)h+=u[d][parseInt(t.charAt(c),10)],d^=1;return h%10==0&&h>0}},minCount:function(e,t){return 0==t||(1==t?""!==e:e.split(",").length>=t)},exactCount:function(e,t){return 0==t?""===e:1==t?""!==e&&-1===e.search(","):e.split(",").length==t},maxCount:function(e,t){return 0!=t&&(1==t?-1===e.search(","):e.split(",").length<=t)}}}}(jQuery,window,document),function(e,t,i,n){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.accordion=function(i){var n,o=e(this),s=(new Date).getTime(),a=[],r=arguments[0],l="string"==typeof r,c=[].slice.call(arguments,1);t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame;return o.each(function(){var d,u,h=e.isPlainObject(i)?e.extend(!0,{},e.fn.accordion.settings,i):e.extend({},e.fn.accordion.settings),p=h.className,f=h.namespace,m=h.selector,g=h.error,v="."+f,b="module-"+f,y=o.selector||"",w=e(this),x=w.find(m.title),k=w.find(m.content),C=this,S=w.data(b);u={initialize:function(){u.debug("Initializing",w),u.bind.events(),h.observeChanges&&u.observeChanges(),u.instantiate()},instantiate:function(){S=u,w.data(b,u)},destroy:function(){u.debug("Destroying previous instance",w),w.off(v).removeData(b)},refresh:function(){x=w.find(m.title),k=w.find(m.content)},observeChanges:function(){"MutationObserver"in t&&((d=new MutationObserver(function(e){u.debug("DOM tree modified, updating selector cache"),u.refresh()})).observe(C,{childList:!0,subtree:!0}),u.debug("Setting up mutation observer",d))},bind:{events:function(){u.debug("Binding delegated events"),w.on(h.on+v,m.trigger,u.event.click)}},event:{click:function(){u.toggle.call(this)}},toggle:function(t){var i=void 0!==t?"number"==typeof t?x.eq(t):e(t).closest(m.title):e(this).closest(m.title),n=i.next(k),o=n.hasClass(p.animating),s=n.hasClass(p.active),a=s&&!o,r=!s&&o;u.debug("Toggling visibility of content",i),a||r?h.collapsible?u.close.call(i):u.debug("Cannot close accordion content collapsing is disabled"):u.open.call(i)},open:function(t){var i=void 0!==t?"number"==typeof t?x.eq(t):e(t).closest(m.title):e(this).closest(m.title),n=i.next(k),o=n.hasClass(p.animating);n.hasClass(p.active)||o?u.debug("Accordion already open, skipping",n):(u.debug("Opening accordion content",i),h.onOpening.call(n),h.exclusive&&u.closeOthers.call(i),i.addClass(p.active),n.stop(!0,!0).addClass(p.animating),h.animateChildren&&(void 0!==e.fn.transition&&w.transition("is supported")?n.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:h.debug,verbose:h.verbose,duration:h.duration}):n.children().stop(!0,!0).animate({opacity:1},h.duration,u.resetOpacity)),n.slideDown(h.duration,h.easing,function(){n.removeClass(p.animating).addClass(p.active),u.reset.display.call(this),h.onOpen.call(this),h.onChange.call(this)}))},close:function(t){var i=void 0!==t?"number"==typeof t?x.eq(t):e(t).closest(m.title):e(this).closest(m.title),n=i.next(k),o=n.hasClass(p.animating),s=n.hasClass(p.active),a=!s&&o,r=s&&o;!s&&!a||r||(u.debug("Closing accordion content",n),h.onClosing.call(n),i.removeClass(p.active),n.stop(!0,!0).addClass(p.animating),h.animateChildren&&(void 0!==e.fn.transition&&w.transition("is supported")?n.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:h.debug,verbose:h.verbose,duration:h.duration}):n.children().stop(!0,!0).animate({opacity:0},h.duration,u.resetOpacity)),n.slideUp(h.duration,h.easing,function(){n.removeClass(p.animating).removeClass(p.active),u.reset.display.call(this),h.onClose.call(this),h.onChange.call(this)}))},closeOthers:function(t){var i,n,o,s=void 0!==t?x.eq(t):e(this).closest(m.title),a=s.parents(m.content).prev(m.title),r=s.closest(m.accordion),l=m.title+"."+p.active+":visible",c=m.content+"."+p.active+":visible";h.closeNested?o=(i=r.find(l).not(a)).next(k):(i=r.find(l).not(a),n=r.find(c).find(l).not(a),o=(i=i.not(n)).next(k)),i.length>0&&(u.debug("Exclusive enabled, closing other content",i),i.removeClass(p.active),o.removeClass(p.animating).stop(!0,!0),h.animateChildren&&(void 0!==e.fn.transition&&w.transition("is supported")?o.children().transition({animation:"fade out",useFailSafe:!0,debug:h.debug,verbose:h.verbose,duration:h.duration}):o.children().stop(!0,!0).animate({opacity:0},h.duration,u.resetOpacity)),o.slideUp(h.duration,h.easing,function(){e(this).removeClass(p.active),u.reset.display.call(this)}))},reset:{display:function(){u.verbose("Removing inline display from element",this),e(this).css("display",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")},opacity:function(){u.verbose("Removing inline opacity from element",this),e(this).css("opacity",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")}},setting:function(t,i){if(u.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===i)return h[t];e.isPlainObject(h[t])?e.extend(!0,h[t],i):h[t]=i}},internal:function(t,i){if(u.debug("Changing internal",t,i),void 0===i)return u[t];e.isPlainObject(t)?e.extend(!0,u,t):u[t]=i},debug:function(){!h.silent&&h.debug&&(h.performance?u.performance.log(arguments):(u.debug=Function.prototype.bind.call(console.info,console,h.name+":"),u.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?u.performance.log(arguments):(u.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),u.verbose.apply(console,arguments)))},error:function(){h.silent||(u.error=Function.prototype.bind.call(console.error,console,h.name+":"),u.error.apply(console,arguments))},performance:{log:function(e){var t,i;h.performance&&(i=(t=(new Date).getTime())-(s||t),s=t,a.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:C,"Execution Time":i})),clearTimeout(u.performance.timer),u.performance.timer=setTimeout(u.performance.display,500)},display:function(){var t=h.name+":",i=0;s=!1,clearTimeout(u.performance.timer),e.each(a,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",y&&(t+=" '"+y+"'"),(void 0!==console.group||void 0!==console.table)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,i,o){var s,a,r,l=S;return i=i||c,o=C||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]?(a=l[n],!1):(u.error(g.method,t),!1);l=l[n]}})),e.isFunction(a)?r=a.apply(o,i):void 0!==a&&(r=a),e.isArray(n)?n.push(r):void 0!==n?n=[n,r]:void 0!==r&&(n=r),a}},l?(void 0===S&&u.initialize(),u.invoke(r)):(void 0!==S&&S.invoke("destroy"),u.initialize())}),void 0!==n?n:this},e.fn.accordion.settings={name:"Accordion",namespace:"accordion",silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onOpen:function(){},onClosing:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},e.extend(e.easing,{easeOutQuad:function(e,t,i,n,o){return-n*(t/=o)*(t-2)+i}})}(jQuery,window,document),function(e,t,i,n){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.checkbox=function(n){var o,s=e(this),a=s.selector||"",r=(new Date).getTime(),l=[],c=arguments[0],d="string"==typeof c,u=[].slice.call(arguments,1);return s.each(function(){var s,h,p=e.extend(!0,{},e.fn.checkbox.settings,n),f=p.className,m=p.namespace,g=p.selector,v=p.error,b="."+m,y="module-"+m,w=e(this),x=e(this).children(g.label),k=e(this).children(g.input),C=k[0],S=!1,T=!1,D=w.data(y),$=this;h={initialize:function(){h.verbose("Initializing checkbox",p),h.create.label(),h.bind.events(),h.set.tabbable(),h.hide.input(),h.observeChanges(),h.instantiate(),h.setup()},instantiate:function(){h.verbose("Storing instance of module",h),D=h,w.data(y,h)},destroy:function(){h.verbose("Destroying module"),h.unbind.events(),h.show.input(),w.removeData(y)},fix:{reference:function(){w.is(g.input)&&(h.debug("Behavior called on <input> adjusting invoked element"),w=w.closest(g.checkbox),h.refresh())}},setup:function(){h.set.initialLoad(),h.is.indeterminate()?(h.debug("Initial value is indeterminate"),h.indeterminate()):h.is.checked()?(h.debug("Initial value is checked"),h.check()):(h.debug("Initial value is unchecked"),h.uncheck()),h.remove.initialLoad()},refresh:function(){x=w.children(g.label),k=w.children(g.input),C=k[0]},hide:{input:function(){h.verbose("Modifying <input> z-index to be unselectable"),k.addClass(f.hidden)}},show:{input:function(){h.verbose("Modifying <input> z-index to be selectable"),k.removeClass(f.hidden)}},observeChanges:function(){"MutationObserver"in t&&((s=new MutationObserver(function(e){h.debug("DOM tree modified, updating selector cache"),h.refresh()})).observe($,{childList:!0,subtree:!0}),h.debug("Setting up mutation observer",s))},attachEvents:function(t,i){var n=e(t);i=e.isFunction(h[i])?h[i]:h.toggle,n.length>0?(h.debug("Attaching checkbox events to element",t,i),n.on("click"+b,i)):h.error(v.notFound)},event:{click:function(t){var i=e(t.target);i.is(g.input)?h.verbose("Using default check action on initialized checkbox"):i.is(g.link)?h.debug("Clicking link inside checkbox, skipping toggle"):(h.toggle(),k.focus(),t.preventDefault())},keydown:function(e){var t=e.which,i={enter:13,space:32,escape:27};t==i.escape?(h.verbose("Escape key pressed blurring field"),k.blur(),T=!0):e.ctrlKey||t!=i.space&&t!=i.enter?T=!1:(h.verbose("Enter/space key pressed, toggling checkbox"),h.toggle(),T=!0)},keyup:function(e){T&&e.preventDefault()}},check:function(){h.should.allowCheck()&&(h.debug("Checking checkbox",k),h.set.checked(),h.should.ignoreCallbacks()||(p.onChecked.call(C),p.onChange.call(C)))},uncheck:function(){h.should.allowUncheck()&&(h.debug("Unchecking checkbox"),h.set.unchecked(),h.should.ignoreCallbacks()||(p.onUnchecked.call(C),p.onChange.call(C)))},indeterminate:function(){h.should.allowIndeterminate()?h.debug("Checkbox is already indeterminate"):(h.debug("Making checkbox indeterminate"),h.set.indeterminate(),h.should.ignoreCallbacks()||(p.onIndeterminate.call(C),p.onChange.call(C)))},determinate:function(){h.should.allowDeterminate()?h.debug("Checkbox is already determinate"):(h.debug("Making checkbox determinate"),h.set.determinate(),h.should.ignoreCallbacks()||(p.onDeterminate.call(C),p.onChange.call(C)))},enable:function(){h.is.enabled()?h.debug("Checkbox is already enabled"):(h.debug("Enabling checkbox"),h.set.enabled(),p.onEnable.call(C),p.onEnabled.call(C))},disable:function(){h.is.disabled()?h.debug("Checkbox is already disabled"):(h.debug("Disabling checkbox"),h.set.disabled(),p.onDisable.call(C),p.onDisabled.call(C))},get:{radios:function(){var t=h.get.name();return e('input[name="'+t+'"]').closest(g.checkbox)},otherRadios:function(){return h.get.radios().not(w)},name:function(){return k.attr("name")}},is:{initialLoad:function(){return S},radio:function(){return k.hasClass(f.radio)||"radio"==k.attr("type")},indeterminate:function(){return void 0!==k.prop("indeterminate")&&k.prop("indeterminate")},checked:function(){return void 0!==k.prop("checked")&&k.prop("checked")},disabled:function(){return void 0!==k.prop("disabled")&&k.prop("disabled")},enabled:function(){return!h.is.disabled()},determinate:function(){return!h.is.indeterminate()},unchecked:function(){return!h.is.checked()}},should:{allowCheck:function(){return h.is.determinate()&&h.is.checked()&&!h.should.forceCallbacks()?(h.debug("Should not allow check, checkbox is already checked"),!1):!1!==p.beforeChecked.apply(C)||(h.debug("Should not allow check, beforeChecked cancelled"),!1)},allowUncheck:function(){return h.is.determinate()&&h.is.unchecked()&&!h.should.forceCallbacks()?(h.debug("Should not allow uncheck, checkbox is already unchecked"),!1):!1!==p.beforeUnchecked.apply(C)||(h.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1)},allowIndeterminate:function(){return h.is.indeterminate()&&!h.should.forceCallbacks()?(h.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):!1!==p.beforeIndeterminate.apply(C)||(h.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1)},allowDeterminate:function(){return h.is.determinate()&&!h.should.forceCallbacks()?(h.debug("Should not allow determinate, checkbox is already determinate"),!1):!1!==p.beforeDeterminate.apply(C)||(h.debug("Should not allow determinate, beforeDeterminate cancelled"),!1)},forceCallbacks:function(){return h.is.initialLoad()&&p.fireOnInit},ignoreCallbacks:function(){return S&&!p.fireOnInit}},can:{change:function(){return!(w.hasClass(f.disabled)||w.hasClass(f.readOnly)||k.prop("disabled")||k.prop("readonly"))},uncheck:function(){return"boolean"==typeof p.uncheckable?p.uncheckable:!h.is.radio()}},set:{initialLoad:function(){S=!0},checked:function(){h.verbose("Setting class to checked"),w.removeClass(f.indeterminate).addClass(f.checked),h.is.radio()&&h.uncheckOthers(),h.is.indeterminate()||!h.is.checked()?(h.verbose("Setting state to checked",C),k.prop("indeterminate",!1).prop("checked",!0),h.trigger.change()):h.debug("Input is already checked, skipping input property change")},unchecked:function(){h.verbose("Removing checked class"),w.removeClass(f.indeterminate).removeClass(f.checked),h.is.indeterminate()||!h.is.unchecked()?(h.debug("Setting state to unchecked"),k.prop("indeterminate",!1).prop("checked",!1),h.trigger.change()):h.debug("Input is already unchecked")},indeterminate:function(){h.verbose("Setting class to indeterminate"),w.addClass(f.indeterminate),h.is.indeterminate()?h.debug("Input is already indeterminate, skipping input property change"):(h.debug("Setting state to indeterminate"),k.prop("indeterminate",!0),h.trigger.change())},determinate:function(){h.verbose("Removing indeterminate class"),w.removeClass(f.indeterminate),h.is.determinate()?h.debug("Input is already determinate, skipping input property change"):(h.debug("Setting state to determinate"),k.prop("indeterminate",!1))},disabled:function(){h.verbose("Setting class to disabled"),w.addClass(f.disabled),h.is.disabled()?h.debug("Input is already disabled, skipping input property change"):(h.debug("Setting state to disabled"),k.prop("disabled","disabled"),h.trigger.change())},enabled:function(){h.verbose("Removing disabled class"),w.removeClass(f.disabled),h.is.enabled()?h.debug("Input is already enabled, skipping input property change"):(h.debug("Setting state to enabled"),k.prop("disabled",!1),h.trigger.change())},tabbable:function(){h.verbose("Adding tabindex to checkbox"),void 0===k.attr("tabindex")&&k.attr("tabindex",0)}},remove:{initialLoad:function(){S=!1}},trigger:{change:function(){var e=i.createEvent("HTMLEvents"),t=k[0];t&&(h.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},create:{label:function(){k.prevAll(g.label).length>0?(k.prev(g.label).detach().insertAfter(k),h.debug("Moving existing label",x)):h.has.label()||(x=e("<label>").insertAfter(k),h.debug("Creating label",x))}},has:{label:function(){return x.length>0}},bind:{events:function(){h.verbose("Attaching checkbox events"),w.on("click"+b,h.event.click).on("keydown"+b,g.input,h.event.keydown).on("keyup"+b,g.input,h.event.keyup)}},unbind:{events:function(){h.debug("Removing events"),w.off(b)}},uncheckOthers:function(){var e=h.get.otherRadios();h.debug("Unchecking other radios",e),e.removeClass(f.checked)},toggle:function(){h.can.change()?h.is.indeterminate()||h.is.unchecked()?(h.debug("Currently unchecked"),h.check()):h.is.checked()&&h.can.uncheck()&&(h.debug("Currently checked"),h.uncheck()):h.is.radio()||h.debug("Checkbox is read-only or disabled, ignoring toggle")},setting:function(t,i){if(h.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,p,t);else{if(void 0===i)return p[t];e.isPlainObject(p[t])?e.extend(!0,p[t],i):p[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===i)return h[t];h[t]=i}},debug:function(){!p.silent&&p.debug&&(p.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,p.name+":"),h.debug.apply(console,arguments)))},verbose:function(){!p.silent&&p.verbose&&p.debug&&(p.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),h.verbose.apply(console,arguments)))},error:function(){p.silent||(h.error=Function.prototype.bind.call(console.error,console,p.name+":"),h.error.apply(console,arguments))},performance:{log:function(e){var t,i;p.performance&&(i=(t=(new Date).getTime())-(r||t),r=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:$,"Execution Time":i})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var t=p.name+":",i=0;r=!1,clearTimeout(h.performance.timer),e.each(l,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",a&&(t+=" '"+a+"'"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,i,n){var s,a,r,l=D;return i=i||u,n=$||n,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]?(a=l[n],!1):(h.error(v.method,t),!1);l=l[n]}})),e.isFunction(a)?r=a.apply(n,i):void 0!==a&&(r=a),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),a}},d?(void 0===D&&h.initialize(),h.invoke(c)):(void 0!==D&&D.invoke("destroy"),h.initialize())}),void 0!==o?o:this},e.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",silent:!1,debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnable:function(){},onDisable:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}}(jQuery,window,document),function(e,t,i,n){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.dimmer=function(t){var n,o=e(this),s=(new Date).getTime(),a=[],r=arguments[0],l="string"==typeof r,c=[].slice.call(arguments,1);return o.each(function(){var d,u,h,p=e.isPlainObject(t)?e.extend(!0,{},e.fn.dimmer.settings,t):e.extend({},e.fn.dimmer.settings),f=p.selector,m=p.namespace,g=p.className,v=p.error,b="."+m,y="module-"+m,w=o.selector||"",x="ontouchstart"in i.documentElement?"touchstart":"click",k=e(this),C=this,S=k.data(y);(h={preinitialize:function(){h.is.dimmer()?(u=k.parent(),d=k):(u=k,d=h.has.dimmer()?p.dimmerName?u.find(f.dimmer).filter("."+p.dimmerName):u.find(f.dimmer):h.create())},initialize:function(){h.debug("Initializing dimmer",p),h.bind.events(),h.set.dimmable(),h.instantiate()},instantiate:function(){h.verbose("Storing instance of module",h),S=h,k.data(y,S)},destroy:function(){h.verbose("Destroying previous module",d),h.unbind.events(),h.remove.variation(),u.off(b)},bind:{events:function(){"hover"==p.on?u.on("mouseenter"+b,h.show).on("mouseleave"+b,h.hide):"click"==p.on&&u.on(x+b,h.toggle),h.is.page()&&(h.debug("Setting as a page dimmer",u),h.set.pageDimmer()),h.is.closable()&&(h.verbose("Adding dimmer close event",d),u.on(x+b,f.dimmer,h.event.click))}},unbind:{events:function(){k.removeData(y),u.off(b)}},event:{click:function(t){h.verbose("Determining if event occured on dimmer",t),(0===d.find(t.target).length||e(t.target).is(f.content))&&(h.hide(),t.stopImmediatePropagation())}},addContent:function(t){var i=e(t);h.debug("Add content to dimmer",i),i.parent()[0]!==d[0]&&i.detach().appendTo(d)},create:function(){var t=e(p.template.dimmer());return p.variation&&(h.debug("Creating dimmer with variation",p.variation),t.addClass(p.variation)),p.dimmerName&&(h.debug("Creating named dimmer",p.dimmerName),t.addClass(p.dimmerName)),t.appendTo(u),t},show:function(t){t=e.isFunction(t)?t:function(){},h.debug("Showing dimmer",d,p),h.is.dimmed()&&!h.is.animating()||!h.is.enabled()?h.debug("Dimmer is already shown or disabled"):(h.animate.show(t),p.onShow.call(C),p.onChange.call(C))},hide:function(t){t=e.isFunction(t)?t:function(){},h.is.dimmed()||h.is.animating()?(h.debug("Hiding dimmer",d),h.animate.hide(t),p.onHide.call(C),p.onChange.call(C)):h.debug("Dimmer is not visible")},toggle:function(){h.verbose("Toggling dimmer visibility",d),h.is.dimmed()?h.hide():h.show()},animate:{show:function(t){t=e.isFunction(t)?t:function(){},p.useCSS&&void 0!==e.fn.transition&&d.transition("is supported")?("auto"!==p.opacity&&h.set.opacity(),d.transition({animation:p.transition+" in",queue:!1,duration:h.get.duration(),useFailSafe:!0,onStart:function(){h.set.dimmed()},onComplete:function(){h.set.active(),t()}})):(h.verbose("Showing dimmer animation with javascript"),h.set.dimmed(),"auto"==p.opacity&&(p.opacity=.8),d.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(h.get.duration(),p.opacity,function(){d.removeAttr("style"),h.set.active(),t()}))},hide:function(t){t=e.isFunction(t)?t:function(){},p.useCSS&&void 0!==e.fn.transition&&d.transition("is supported")?(h.verbose("Hiding dimmer with css"),d.transition({animation:p.transition+" out",queue:!1,duration:h.get.duration(),useFailSafe:!0,onStart:function(){h.remove.dimmed()},onComplete:function(){h.remove.active(),t()}})):(h.verbose("Hiding dimmer with javascript"),h.remove.dimmed(),d.stop().fadeOut(h.get.duration(),function(){h.remove.active(),d.removeAttr("style"),t()}))}},get:{dimmer:function(){return d},duration:function(){return"object"==typeof p.duration?h.is.active()?p.duration.hide:p.duration.show:p.duration}},has:{dimmer:function(){return p.dimmerName?k.find(f.dimmer).filter("."+p.dimmerName).length>0:k.find(f.dimmer).length>0}},is:{active:function(){return d.hasClass(g.active)},animating:function(){return d.is(":animated")||d.hasClass(g.animating)},closable:function(){return"auto"==p.closable?"hover"!=p.on:p.closable},dimmer:function(){return k.hasClass(g.dimmer)},dimmable:function(){return k.hasClass(g.dimmable)},dimmed:function(){return u.hasClass(g.dimmed)},disabled:function(){return u.hasClass(g.disabled)},enabled:function(){return!h.is.disabled()},page:function(){return u.is("body")},pageDimmer:function(){return d.hasClass(g.pageDimmer)}},can:{show:function(){return!d.hasClass(g.disabled)}},set:{opacity:function(e){var t=d.css("background-color"),i=t.split(","),n=i&&3==i.length,o=i&&4==i.length;e=0===p.opacity?0:p.opacity||e,n||o?(i[3]=e+")",t=i.join(",")):t="rgba(0, 0, 0, "+e+")",h.debug("Setting opacity to",e),d.css("background-color",t)},active:function(){d.addClass(g.active)},dimmable:function(){u.addClass(g.dimmable)},dimmed:function(){u.addClass(g.dimmed)},pageDimmer:function(){d.addClass(g.pageDimmer)},disabled:function(){d.addClass(g.disabled)},variation:function(e){(e=e||p.variation)&&d.addClass(e)}},remove:{active:function(){d.removeClass(g.active)},dimmed:function(){u.removeClass(g.dimmed)},disabled:function(){d.removeClass(g.disabled)},variation:function(e){(e=e||p.variation)&&d.removeClass(e)}},setting:function(t,i){if(h.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,p,t);else{if(void 0===i)return p[t];e.isPlainObject(p[t])?e.extend(!0,p[t],i):p[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===i)return h[t];h[t]=i}},debug:function(){!p.silent&&p.debug&&(p.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,p.name+":"),h.debug.apply(console,arguments)))},verbose:function(){!p.silent&&p.verbose&&p.debug&&(p.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),h.verbose.apply(console,arguments)))},error:function(){p.silent||(h.error=Function.prototype.bind.call(console.error,console,p.name+":"),h.error.apply(console,arguments))},performance:{log:function(e){var t,i;p.performance&&(i=(t=(new Date).getTime())-(s||t),s=t,a.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:C,"Execution Time":i})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var t=p.name+":",i=0;s=!1,clearTimeout(h.performance.timer),e.each(a,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",w&&(t+=" '"+w+"'"),o.length>1&&(t+=" ("+o.length+")"),(void 0!==console.group||void 0!==console.table)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,i,o){var s,a,r,l=S;return i=i||c,o=C||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]?(a=l[n],!1):(h.error(v.method,t),!1);l=l[n]}})),e.isFunction(a)?r=a.apply(o,i):void 0!==a&&(r=a),e.isArray(n)?n.push(r):void 0!==n?n=[n,r]:void 0!==r&&(n=r),a}}).preinitialize(),l?(void 0===S&&h.initialize(),h.invoke(r)):(void 0!==S&&S.invoke("destroy"),h.initialize())}),void 0!==n?n:this},e.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",silent:!1,debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return e("<div />").attr("class","ui dimmer")}}}}(jQuery,window,document),function(e,t,i,n){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.dropdown=function(n){var o,s=e(this),a=e(i),r=s.selector||"",l="ontouchstart"in i.documentElement,c=(new Date).getTime(),d=[],u=arguments[0],h="string"==typeof u,p=[].slice.call(arguments,1);return s.each(function(f){var m,g,v,b,y,w,x,k,C=e.isPlainObject(n)?e.extend(!0,{},e.fn.dropdown.settings,n):e.extend({},e.fn.dropdown.settings),S=C.className,T=C.message,D=C.fields,$=C.keys,_=C.metadata,M=C.namespace,O=C.regExp,A=C.selector,P=C.error,I=C.templates,j="."+M,E="module-"+M,R=e(this),F=e(C.context),q=R.find(A.text),L=R.find(A.search),z=R.find(A.sizer),Y=R.find(A.input),N=R.find(A.icon),W=R.prev().find(A.text).length>0?R.prev().find(A.text):R.prev(),U=R.children(A.menu),H=U.find(A.item),B=!1,V=!1,G=!1,X=this,Q=R.data(E);k={initialize:function(){k.debug("Initializing dropdown",C),k.is.alreadySetup()?k.setup.reference():(k.setup.layout(),k.refreshData(),k.save.defaults(),k.restore.selected(),k.create.id(),k.bind.events(),k.observeChanges(),k.instantiate())},instantiate:function(){k.verbose("Storing instance of dropdown",k),Q=k,R.data(E,k)},destroy:function(){k.verbose("Destroying previous dropdown",R),k.remove.tabbable(),R.off(j).removeData(E),U.off(j),a.off(b),k.disconnect.menuObserver(),k.disconnect.selectObserver()},observeChanges:function(){"MutationObserver"in t&&(w=new MutationObserver(k.event.select.mutation),x=new MutationObserver(k.event.menu.mutation),k.debug("Setting up mutation observer",w,x),k.observe.select(),k.observe.menu())},disconnect:{menuObserver:function(){x&&x.disconnect()},selectObserver:function(){x&&x.disconnect()}},observe:{select:function(){k.has.input()&&w.observe(Y[0],{childList:!0,subtree:!0})},menu:function(){k.has.menu()&&x.observe(U[0],{childList:!0,subtree:!0})}},create:{id:function(){y=(Math.random().toString(16)+"000000000").substr(2,8),b="."+y,k.verbose("Creating unique id for element",y)},userChoice:function(t){var i,n,o;return!!(t=t||k.get.userValues())&&(t=e.isArray(t)?t:[t],e.each(t,function(t,s){!1===k.get.item(s)&&(o=C.templates.addition(k.add.variables(T.addResult,s)),n=e("<div />").html(o).attr("data-"+_.value,s).attr("data-"+_.text,s).addClass(S.addition).addClass(S.item),C.hideAdditions&&n.addClass(S.hidden),i=void 0===i?n:i.add(n),k.verbose("Creating user choices for value",s,n))}),i)},userLabels:function(t){var i=k.get.userValues();i&&(k.debug("Adding user labels",i),e.each(i,function(e,t){k.verbose("Adding custom user value"),k.add.label(t,t)}))},menu:function(){U=e("<div />").addClass(S.menu).appendTo(R)},sizer:function(){z=e("<span />").addClass(S.sizer).insertAfter(L)}},search:function(e){e=void 0!==e?e:k.get.query(),k.verbose("Searching for query",e),k.has.minCharacters(e)?k.filter(e):k.hide()},select:{firstUnfiltered:function(){k.verbose("Selecting first non-filtered element"),k.remove.selectedItem(),H.not(A.unselectable).not(A.addition+A.hidden).eq(0).addClass(S.selected)},nextAvailable:function(e){var t=(e=e.eq(0)).nextAll(A.item).not(A.unselectable).eq(0),i=e.prevAll(A.item).not(A.unselectable).eq(0);t.length>0?(k.verbose("Moving selection to",t),t.addClass(S.selected)):(k.verbose("Moving selection to",i),i.addClass(S.selected))}},setup:{api:function(){var e={debug:C.debug,urlData:{value:k.get.value(),query:k.get.query()},on:!1};k.verbose("First request, initializing API"),R.api(e)},layout:function(){R.is("select")&&(k.setup.select(),k.setup.returnedObject()),k.has.menu()||k.create.menu(),k.is.search()&&!k.has.search()&&(k.verbose("Adding search input"),L=e("<input />").addClass(S.search).prop("autocomplete","off").insertBefore(q)),k.is.multiple()&&k.is.searchSelection()&&!k.has.sizer()&&k.create.sizer(),C.allowTab&&k.set.tabbable()},select:function(){var t=k.get.selectValues();k.debug("Dropdown initialized on a select",t),R.is("select")&&(Y=R),Y.parent(A.dropdown).length>0?(k.debug("UI dropdown already exists. Creating dropdown menu only"),R=Y.closest(A.dropdown),k.has.menu()||k.create.menu(),U=R.children(A.menu),k.setup.menu(t)):(k.debug("Creating entire dropdown from select"),R=e("<div />").attr("class",Y.attr("class")).addClass(S.selection).addClass(S.dropdown).html(I.dropdown(t)).insertBefore(Y),Y.hasClass(S.multiple)&&!1===Y.prop("multiple")&&(k.error(P.missingMultiple),Y.prop("multiple",!0)),Y.is("[multiple]")&&k.set.multiple(),Y.prop("disabled")&&(k.debug("Disabling dropdown"),R.addClass(S.disabled)),Y.removeAttr("class").detach().prependTo(R)),k.refresh()},menu:function(e){U.html(I.menu(e,D)),H=U.find(A.item)},reference:function(){k.debug("Dropdown behavior was called on select, replacing with closest dropdown"),R=R.parent(A.dropdown),k.refresh(),k.setup.returnedObject(),h&&(Q=k,k.invoke(u))},returnedObject:function(){var e=s.slice(0,f),t=s.slice(f+1);s=e.add(R).add(t)}},refresh:function(){k.refreshSelectors(),k.refreshData()},refreshItems:function(){H=U.find(A.item)},refreshSelectors:function(){k.verbose("Refreshing selector cache"),q=R.find(A.text),L=R.find(A.search),Y=R.find(A.input),N=R.find(A.icon),W=R.prev().find(A.text).length>0?R.prev().find(A.text):R.prev(),U=R.children(A.menu),H=U.find(A.item)},refreshData:function(){k.verbose("Refreshing cached metadata"),H.removeData(_.text).removeData(_.value)},clearData:function(){k.verbose("Clearing metadata"),H.removeData(_.text).removeData(_.value),R.removeData(_.defaultText).removeData(_.defaultValue).removeData(_.placeholderText)},toggle:function(){k.verbose("Toggling menu visibility"),k.is.active()?k.hide():k.show()},show:function(t){if(t=e.isFunction(t)?t:function(){},k.can.show()&&!k.is.active()){if(k.debug("Showing dropdown"),!k.has.message()||k.has.maxSelections()||k.has.allResultsFiltered()||k.remove.message(),k.is.allFiltered())return!0;!1!==C.onShow.call(X)&&k.animate.show(function(){k.can.click()&&k.bind.intent(),k.has.menuSearch()&&k.focusSearch(),k.set.visible(),t.call(X)})}},hide:function(t){t=e.isFunction(t)?t:function(){},k.is.active()&&(k.debug("Hiding dropdown"),!1!==C.onHide.call(X)&&k.animate.hide(function(){k.remove.visible(),t.call(X)}))},hideOthers:function(){k.verbose("Finding other dropdowns to hide"),s.not(R).has(A.menu+"."+S.visible).dropdown("hide")},hideMenu:function(){k.verbose("Hiding menu  instantaneously"),k.remove.active(),k.remove.visible(),U.transition("hide")},hideSubMenus:function(){var e=U.children(A.item).find(A.menu);k.verbose("Hiding sub menus",e),e.transition("hide")},bind:{events:function(){l&&k.bind.touchEvents(),k.bind.keyboardEvents(),k.bind.inputEvents(),k.bind.mouseEvents()},touchEvents:function(){k.debug("Touch device detected binding additional touch events"),k.is.searchSelection()||k.is.single()&&R.on("touchstart"+j,k.event.test.toggle),U.on("touchstart"+j,A.item,k.event.item.mouseenter)},keyboardEvents:function(){k.verbose("Binding keyboard events"),R.on("keydown"+j,k.event.keydown),k.has.search()&&R.on(k.get.inputEvent()+j,A.search,k.event.input),k.is.multiple()&&a.on("keydown"+b,k.event.document.keydown)},inputEvents:function(){k.verbose("Binding input change events"),R.on("change"+j,A.input,k.event.change)},mouseEvents:function(){k.verbose("Binding mouse events"),k.is.multiple()&&R.on("click"+j,A.label,k.event.label.click).on("click"+j,A.remove,k.event.remove.click),k.is.searchSelection()?(R.on("mousedown"+j,k.event.mousedown).on("mouseup"+j,k.event.mouseup).on("mousedown"+j,A.menu,k.event.menu.mousedown).on("mouseup"+j,A.menu,k.event.menu.mouseup).on("click"+j,A.icon,k.event.icon.click).on("focus"+j,A.search,k.event.search.focus).on("click"+j,A.search,k.event.search.focus).on("blur"+j,A.search,k.event.search.blur).on("click"+j,A.text,k.event.text.focus),k.is.multiple()&&R.on("click"+j,k.event.click)):("click"==C.on?R.on("click"+j,A.icon,k.event.icon.click).on("click"+j,k.event.test.toggle):"hover"==C.on?R.on("mouseenter"+j,k.delay.show).on("mouseleave"+j,k.delay.hide):R.on(C.on+j,k.toggle),R.on("mousedown"+j,k.event.mousedown).on("mouseup"+j,k.event.mouseup).on("focus"+j,k.event.focus).on("blur"+j,k.event.blur)),U.on("mouseenter"+j,A.item,k.event.item.mouseenter).on("mouseleave"+j,A.item,k.event.item.mouseleave).on("click"+j,A.item,k.event.item.click)},intent:function(){k.verbose("Binding hide intent event to document"),l&&a.on("touchstart"+b,k.event.test.touch).on("touchmove"+b,k.event.test.touch),a.on("click"+b,k.event.test.hide)}},unbind:{intent:function(){k.verbose("Removing hide intent event from document"),l&&a.off("touchstart"+b).off("touchmove"+b),a.off("click"+b)}},filter:function(e){var t=void 0!==e?e:k.get.query(),i=function(){k.is.multiple()&&k.filterActive(),k.select.firstUnfiltered(),k.has.allResultsFiltered()?C.onNoResults.call(X,t)?C.allowAdditions?C.hideAdditions&&(k.verbose("User addition with no menu, setting empty style"),k.set.empty(),k.hideMenu()):(k.verbose("All items filtered, showing message",t),k.add.message(T.noResults)):(k.verbose("All items filtered, hiding dropdown",t),k.hideMenu()):(k.remove.empty(),k.remove.message()),C.allowAdditions&&k.add.userSuggestion(e),k.is.searchSelection()&&k.can.show()&&k.is.focusedOnSearch()&&k.show()};C.useLabels&&k.has.maxSelections()||(C.apiSettings?k.can.useAPI()?k.queryRemote(t,function(){i()}):k.error(P.noAPI):(k.filterItems(t),i()))},queryRemote:function(t,i){var n={errorDuration:!1,cache:"local",throttle:C.throttle,urlData:{query:t},onError:function(){k.add.message(T.serverError),i()},onFailure:function(){k.add.message(T.serverError),i()},onSuccess:function(e){k.remove.message(),k.setup.menu({values:e[D.remoteValues]}),i()}};R.api("get request")||k.setup.api(),n=e.extend(!0,{},n,C.apiSettings),R.api("setting",n).api("query")},filterItems:function(t){var i=void 0!==t?t:k.get.query(),n=null,o=k.escape.regExp(i),s=new RegExp("^"+o,"igm");k.has.query()&&(n=[],k.verbose("Searching for matching values",i),H.each(function(){var t,o,a=e(this);if("both"==C.match||"text"==C.match){if(-1!==(t=String(k.get.choiceText(a,!1))).search(s))return n.push(this),!0;if("exact"===C.fullTextSearch&&k.exactSearch(i,t))return n.push(this),!0;if(!0===C.fullTextSearch&&k.fuzzySearch(i,t))return n.push(this),!0}if("both"==C.match||"value"==C.match){if(-1!==(o=String(k.get.choiceValue(a,t))).search(s))return n.push(this),!0;if(C.fullTextSearch&&k.fuzzySearch(i,o))return n.push(this),!0}})),k.debug("Showing only matched items",i),k.remove.filteredItem(),n&&H.not(n).addClass(S.filtered)},fuzzySearch:function(e,t){var i=t.length,n=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),n>i)return!1;if(n===i)return e===t;e:for(var o=0,s=0;o<n;o++){for(var a=e.charCodeAt(o);s<i;)if(t.charCodeAt(s++)===a)continue e;return!1}return!0},exactSearch:function(e,t){return e=e.toLowerCase(),(t=t.toLowerCase()).indexOf(e)>-1},filterActive:function(){C.useLabels&&H.filter("."+S.active).addClass(S.filtered)},focusSearch:function(e){k.has.search()&&!k.is.focusedOnSearch()&&(e?(R.off("focus"+j,A.search),L.focus(),R.on("focus"+j,A.search,k.event.search.focus)):L.focus())},forceSelection:function(){var e=H.not(S.filtered).filter("."+S.selected).eq(0),t=H.not(S.filtered).filter("."+S.active).eq(0),i=e.length>0?e:t;if(i.length>0)return k.debug("Forcing partial selection to selected item",i),void k.event.item.click.call(i,{},!0);C.allowAdditions?(k.set.selected(k.get.query()),k.remove.searchTerm()):k.remove.searchTerm()},event:{change:function(){G||(k.debug("Input changed, updating selection"),k.set.selected())},focus:function(){C.showOnFocus&&!B&&k.is.hidden()&&!g&&k.show()},blur:function(e){g=i.activeElement===this,B||g||(k.remove.activeLabel(),k.hide())},mousedown:function(){k.is.searchSelection()?v=!0:B=!0},mouseup:function(){k.is.searchSelection()?v=!1:B=!1},click:function(t){e(t.target).is(R)&&(k.is.focusedOnSearch()?k.show():k.focusSearch())},search:{focus:function(){B=!0,k.is.multiple()&&k.remove.activeLabel(),C.showOnFocus&&k.search()},blur:function(e){g=i.activeElement===this,v||V||g||(C.forceSelection&&k.has.query()&&k.forceSelection(),k.hide()),v=!1}},icon:{click:function(e){k.toggle(),e.stopPropagation()}},text:{focus:function(e){B=!0,k.focusSearch()}},input:function(e){(k.is.multiple()||k.is.searchSelection())&&k.set.filtered(),clearTimeout(k.timer),k.timer=setTimeout(k.search,C.delay.search)},label:{click:function(t){var i=e(this),n=R.find(A.label),o=n.filter("."+S.active),s=i.nextAll("."+S.active),a=i.prevAll("."+S.active),r=s.length>0?i.nextUntil(s).add(o).add(i):i.prevUntil(a).add(o).add(i);t.shiftKey?(o.removeClass(S.active),r.addClass(S.active)):t.ctrlKey?i.toggleClass(S.active):(o.removeClass(S.active),i.addClass(S.active)),C.onLabelSelect.apply(this,n.filter("."+S.active))}},remove:{click:function(){var t=e(this).parent();t.hasClass(S.active)?k.remove.activeLabels():k.remove.activeLabels(t)}},test:{toggle:function(e){var t=k.is.multiple()?k.show:k.toggle;k.is.bubbledLabelClick(e)||k.determine.eventOnElement(e,t)&&e.preventDefault()},touch:function(e){k.determine.eventOnElement(e,function(){"touchstart"==e.type?k.timer=setTimeout(function(){k.hide()},C.delay.touch):"touchmove"==e.type&&clearTimeout(k.timer)}),e.stopPropagation()},hide:function(e){k.determine.eventInModule(e,k.hide)}},select:{mutation:function(e){k.debug("<select> modified, recreating menu"),k.setup.select()}},menu:{mutation:function(t){var i=t[0],n=e(i.addedNodes?i.addedNodes[0]:!1),o=e(i.removedNodes?i.removedNodes[0]:!1),s=n.add(o),a=s.is(A.addition)||s.closest(A.addition).length>0,r=s.is(A.message)||s.closest(A.message).length>0;a||r?(k.debug("Updating item selector cache"),k.refreshItems()):(k.debug("Menu modified, updating selector cache"),k.refresh())},mousedown:function(){V=!0},mouseup:function(){V=!1}},item:{mouseenter:function(t){var i=e(t.target),n=e(this),o=n.children(A.menu),s=n.siblings(A.item).children(A.menu),a=o.length>0;!(o.find(i).length>0)&&a&&(clearTimeout(k.itemTimer),k.itemTimer=setTimeout(function(){k.verbose("Showing sub-menu",o),e.each(s,function(){k.animate.hide(!1,e(this))}),k.animate.show(!1,o)},C.delay.show),t.preventDefault())},mouseleave:function(t){var i=e(this).children(A.menu);i.length>0&&(clearTimeout(k.itemTimer),k.itemTimer=setTimeout(function(){k.verbose("Hiding sub-menu",i),k.animate.hide(!1,i)},C.delay.hide))},click:function(t,i){var n=e(this),o=e(t?t.target:""),s=n.find(A.menu),a=k.get.choiceText(n),r=k.get.choiceValue(n,a),l=s.length>0;s.find(o).length>0||l&&!C.allowCategorySelection||(k.is.searchSelection()&&(C.allowAdditions&&k.remove.userAddition(),k.remove.searchTerm(),k.is.focusedOnSearch()||1==i||k.focusSearch(!0)),C.useLabels||(k.remove.filteredItem(),k.set.scrollPosition(n)),k.determine.selectAction.call(this,a,r))}},document:{keydown:function(e){var t=e.which;if(k.is.inObject(t,$)){var i=R.find(A.label),n=i.filter("."+S.active),o=(n.data(_.value),i.index(n)),s=i.length,a=n.length>0,r=n.length>1,l=0===o,c=o+1==s,d=k.is.searchSelection(),u=k.is.focusedOnSearch(),h=k.is.focused(),p=u&&0===k.get.caretPosition();if(d&&!a&&!u)return;t==$.leftArrow?!h&&!p||a?a&&(e.shiftKey?k.verbose("Adding previous label to selection"):(k.verbose("Selecting previous label"),i.removeClass(S.active)),l&&!r?n.addClass(S.active):n.prev(A.siblingLabel).addClass(S.active).end(),e.preventDefault()):(k.verbose("Selecting previous label"),i.last().addClass(S.active)):t==$.rightArrow?(h&&!a&&i.first().addClass(S.active),a&&(e.shiftKey?k.verbose("Adding next label to selection"):(k.verbose("Selecting next label"),i.removeClass(S.active)),c?d?u?i.removeClass(S.active):k.focusSearch():r?n.next(A.siblingLabel).addClass(S.active):n.addClass(S.active):n.next(A.siblingLabel).addClass(S.active),e.preventDefault())):t==$.deleteKey||t==$.backspace?a?(k.verbose("Removing active labels"),c&&d&&!u&&k.focusSearch(),n.last().next(A.siblingLabel).addClass(S.active),k.remove.activeLabels(n),e.preventDefault()):p&&!a&&t==$.backspace&&(k.verbose("Removing last label on input backspace"),n=i.last().addClass(S.active),k.remove.activeLabels(n)):n.removeClass(S.active)}}},keydown:function(e){var t=e.which;if(k.is.inObject(t,$)){var i,n=H.not(A.unselectable).filter("."+S.selected).eq(0),o=U.children("."+S.active).eq(0),s=n.length>0?n:o,a=s.length>0?s.siblings(":not(."+S.filtered+")").addBack():U.children(":not(."+S.filtered+")"),r=s.children(A.menu),l=s.closest(A.menu),c=l.hasClass(S.visible)||l.hasClass(S.animating)||l.parent(A.menu).length>0,d=r.length>0,u=s.length>0,h=s.not(A.unselectable).length>0,p=t==$.delimiter&&C.allowAdditions&&k.is.multiple();if(C.allowAdditions&&C.hideAdditions&&(t==$.enter||p)&&h&&(k.verbose("Selecting item from keyboard shortcut",s),k.event.item.click.call(s,e),k.is.searchSelection()&&k.remove.searchTerm()),k.is.visible()){if((t==$.enter||p)&&(t==$.enter&&u&&d&&!C.allowCategorySelection?(k.verbose("Pressed enter on unselectable category, opening sub menu"),t=$.rightArrow):h&&(k.verbose("Selecting item from keyboard shortcut",s),k.event.item.click.call(s,e),k.is.searchSelection()&&k.remove.searchTerm()),e.preventDefault()),u&&(t==$.leftArrow&&l[0]!==U[0]&&(k.verbose("Left key pressed, closing sub-menu"),k.animate.hide(!1,l),s.removeClass(S.selected),l.closest(A.item).addClass(S.selected),e.preventDefault()),t==$.rightArrow&&d&&(k.verbose("Right key pressed, opening sub-menu"),k.animate.show(!1,r),s.removeClass(S.selected),r.find(A.item).eq(0).addClass(S.selected),e.preventDefault())),t==$.upArrow){if(i=u&&c?s.prevAll(A.item+":not("+A.unselectable+")").eq(0):H.eq(0),a.index(i)<0)return k.verbose("Up key pressed but reached top of current menu"),void e.preventDefault();k.verbose("Up key pressed, changing active item"),s.removeClass(S.selected),i.addClass(S.selected),k.set.scrollPosition(i),C.selectOnKeydown&&k.is.single()&&k.set.selectedItem(i),e.preventDefault()}if(t==$.downArrow){if(0===(i=u&&c?i=s.nextAll(A.item+":not("+A.unselectable+")").eq(0):H.eq(0)).length)return k.verbose("Down key pressed but reached bottom of current menu"),void e.preventDefault();k.verbose("Down key pressed, changing active item"),H.removeClass(S.selected),i.addClass(S.selected),k.set.scrollPosition(i),C.selectOnKeydown&&k.is.single()&&(k.set.activeItem(i),k.set.selected(k.get.choiceValue(i),i)),e.preventDefault()}t==$.pageUp&&(k.scrollPage("up"),e.preventDefault()),t==$.pageDown&&(k.scrollPage("down"),e.preventDefault()),t==$.escape&&(k.verbose("Escape key pressed, closing dropdown"),k.hide())}else p&&e.preventDefault(),t!=$.downArrow||k.is.visible()||(k.verbose("Down key pressed, showing dropdown"),k.select.firstUnfiltered(),k.show(),e.preventDefault())}else k.has.search()||k.set.selectedLetter(String.fromCharCode(t))}},trigger:{change:function(){var e=i.createEvent("HTMLEvents"),t=Y[0];t&&(k.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},determine:{selectAction:function(t,i){k.verbose("Determining action",C.action),e.isFunction(k.action[C.action])?(k.verbose("Triggering preset action",C.action,t,i),k.action[C.action].call(X,t,i,this)):e.isFunction(C.action)?(k.verbose("Triggering user action",C.action,t,i),C.action.call(X,t,i,this)):k.error(P.action,C.action)},eventInModule:function(t,n){var o=e(t.target),s=o.closest(i.documentElement).length>0,a=o.closest(R).length>0;return n=e.isFunction(n)?n:function(){},s&&!a?(k.verbose("Triggering event",n),n(),!0):(k.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(t,n){var o=e(t.target),s=o.closest(A.siblingLabel),a=i.body.contains(t.target),r=0===R.find(s).length,l=0===o.closest(U).length;return n=e.isFunction(n)?n:function(){},a&&r&&l?(k.verbose("Triggering event",n),n(),!0):(k.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(t,i,n){if(i=void 0!==i?i:t,k.can.activate(e(n))){if(k.set.selected(i,e(n)),k.is.multiple()&&!k.is.allFiltered())return;k.hideAndClear()}},select:function(e,t,i){k.action.activate.call(i)},combo:function(t,i,n){i=void 0!==i?i:t,k.set.selected(i,e(n)),k.hideAndClear()},hide:function(e,t,i){k.set.value(t,e),k.hideAndClear()}},get:{id:function(){return y},defaultText:function(){return R.data(_.defaultText)},defaultValue:function(){return R.data(_.defaultValue)},placeholderText:function(){return R.data(_.placeholderText)||""},text:function(){return q.text()},query:function(){return e.trim(L.val())},searchWidth:function(e){return e=void 0!==e?e:L.val(),z.text(e),Math.ceil(z.width()+1)},selectionCount:function(){var t=k.get.values();return k.is.multiple()?e.isArray(t)?t.length:0:""!==k.get.value()?1:0},transition:function(e){return"auto"==C.transition?k.is.upward(e)?"slide up":"slide down":C.transition},userValues:function(){var t=k.get.values();return!!t&&(t=e.isArray(t)?t:[t],e.grep(t,function(e){return!1===k.get.item(e)}))},uniqueArray:function(t){return e.grep(t,function(i,n){return e.inArray(i,t)===n})},caretPosition:function(){var e,t,n=L.get(0);return"selectionStart"in n?n.selectionStart:i.selection?(n.focus(),e=i.selection.createRange(),t=e.text.length,e.moveStart("character",-n.value.length),e.text.length-t):void 0},value:function(){var t=Y.length>0?Y.val():R.data(_.value),i=e.isArray(t)&&1===t.length&&""===t[0];return void 0===t||i?"":t},values:function(){var e=k.get.value();return""===e?"":!k.has.selectInput()&&k.is.multiple()?"string"==typeof e?e.split(C.delimiter):"":e},remoteValues:function(){var t=k.get.values(),i=!1;return t&&("string"==typeof t&&(t=[t]),e.each(t,function(e,t){var n=k.read.remoteData(t);k.verbose("Restoring value from session data",n,t),n&&(i||(i={}),i[t]=n)})),i},choiceText:function(t,i){if(i=void 0!==i?i:C.preserveHTML,t)return t.find(A.menu).length>0&&(k.verbose("Retrieving text of element with sub-menu"),(t=t.clone()).find(A.menu).remove(),t.find(A.menuIcon).remove()),void 0!==t.data(_.text)?t.data(_.text):i?e.trim(t.html()):e.trim(t.text())},choiceValue:function(t,i){return i=i||k.get.choiceText(t),!!t&&(void 0!==t.data(_.value)?String(t.data(_.value)):"string"==typeof i?e.trim(i.toLowerCase()):String(i))},inputEvent:function(){var e=L[0];return!!e&&(void 0!==e.oninput?"input":void 0!==e.onpropertychange?"propertychange":"keyup")},selectValues:function(){var t={};return t.values=[],R.find("option").each(function(){var i=e(this),n=i.html(),o=i.attr("disabled"),s=void 0!==i.attr("value")?i.attr("value"):n;"auto"===C.placeholder&&""===s?t.placeholder=n:t.values.push({name:n,value:s,disabled:o})}),C.placeholder&&"auto"!==C.placeholder&&(k.debug("Setting placeholder value to",C.placeholder),t.placeholder=C.placeholder),C.sortSelect?(t.values.sort(function(e,t){return e.name>t.name?1:-1}),k.debug("Retrieved and sorted values from select",t)):k.debug("Retrieved values from select",t),t},activeItem:function(){return H.filter("."+S.active)},selectedItem:function(){var e=H.not(A.unselectable).filter("."+S.selected);return e.length>0?e:H.eq(0)},itemWithAdditions:function(e){var t=k.get.item(e),i=k.create.userChoice(e);return i&&i.length>0&&(t=t.length>0?t.add(i):i),t},item:function(t,i){var n,o,s=!1;return t=void 0!==t?t:void 0!==k.get.values()?k.get.values():k.get.text(),n=o?t.length>0:void 0!==t&&null!==t,o=k.is.multiple()&&e.isArray(t),i=""===t||0===t||(i||!1),n&&H.each(function(){var n=e(this),a=k.get.choiceText(n),r=k.get.choiceValue(n,a);if(null!==r&&void 0!==r)if(o)-1===e.inArray(String(r),t)&&-1===e.inArray(a,t)||(s=s?s.add(n):n);else if(i){if(k.verbose("Ambiguous dropdown value using strict type check",n,t),r===t||a===t)return s=n,!0}else if(String(r)==String(t)||a==t)return k.verbose("Found select item by value",r,t),s=n,!0}),s}},check:{maxSelections:function(e){return!C.maxSelections||((e=void 0!==e?e:k.get.selectionCount())>=C.maxSelections?(k.debug("Maximum selection count reached"),C.useLabels&&(H.addClass(S.filtered),k.add.message(T.maxSelections)),!0):(k.verbose("No longer at maximum selection count"),k.remove.message(),k.remove.filteredItem(),k.is.searchSelection()&&k.filterItems(),!1))}},restore:{defaults:function(){k.clear(),k.restore.defaultText(),k.restore.defaultValue()},defaultText:function(){var e=k.get.defaultText();e===k.get.placeholderText?(k.debug("Restoring default placeholder text",e),k.set.placeholderText(e)):(k.debug("Restoring default text",e),k.set.text(e))},placeholderText:function(){k.set.placeholderText()},defaultValue:function(){var e=k.get.defaultValue();void 0!==e&&(k.debug("Restoring default value",e),""!==e?(k.set.value(e),k.set.selected()):(k.remove.activeItem(),k.remove.selectedItem()))},labels:function(){C.allowAdditions&&(C.useLabels||(k.error(P.labels),C.useLabels=!0),k.debug("Restoring selected values"),k.create.userLabels()),k.check.maxSelections()},selected:function(){k.restore.values(),k.is.multiple()?(k.debug("Restoring previously selected values and labels"),k.restore.labels()):k.debug("Restoring previously selected values")},values:function(){k.set.initialLoad(),C.apiSettings&&C.saveRemoteData&&k.get.remoteValues()?k.restore.remoteValues():k.set.selected(),k.remove.initialLoad()},remoteValues:function(){var t=k.get.remoteValues();k.debug("Recreating selected from session data",t),t&&(k.is.single()?e.each(t,function(e,t){k.set.text(t)}):e.each(t,function(e,t){k.add.label(e,t)}))}},read:{remoteData:function(e){var i;{if(void 0!==t.Storage)return void 0!==(i=sessionStorage.getItem(e))&&i;k.error(P.noStorage)}}},save:{defaults:function(){k.save.defaultText(),k.save.placeholderText(),k.save.defaultValue()},defaultValue:function(){var e=k.get.value();k.verbose("Saving default value as",e),R.data(_.defaultValue,e)},defaultText:function(){var e=k.get.text();k.verbose("Saving default text as",e),R.data(_.defaultText,e)},placeholderText:function(){var e;!1!==C.placeholder&&q.hasClass(S.placeholder)&&(e=k.get.text(),k.verbose("Saving placeholder text as",e),R.data(_.placeholderText,e))},remoteData:function(e,i){void 0!==t.Storage?(k.verbose("Saving remote data to session storage",i,e),sessionStorage.setItem(i,e)):k.error(P.noStorage)}},clear:function(){k.is.multiple()?k.remove.labels():(k.remove.activeItem(),k.remove.selectedItem()),k.set.placeholderText(),k.clearValue()},clearValue:function(){k.set.value("")},scrollPage:function(e,t){var i,n,o=t||k.get.selectedItem(),s=o.closest(A.menu),a=s.outerHeight(),r=s.scrollTop(),l=H.eq(0).outerHeight(),c=Math.floor(a/l),d=(s.prop("scrollHeight"),"up"==e?r-l*c:r+l*c),u=H.not(A.unselectable);n="up"==e?u.index(o)-c:u.index(o)+c,(i=("up"==e?n>=0:n<u.length)?u.eq(n):"up"==e?u.first():u.last()).length>0&&(k.debug("Scrolling page",e,i),o.removeClass(S.selected),i.addClass(S.selected),C.selectOnKeydown&&k.is.single()&&k.set.selectedItem(i),s.scrollTop(d))},set:{filtered:function(){var e=k.is.multiple(),t=k.is.searchSelection(),i=e&&t,n=t?k.get.query():"",o="string"==typeof n&&n.length>0,s=k.get.searchWidth(),a=""!==n;e&&o&&(k.verbose("Adjusting input width",s,C.glyphWidth),L.css("width",s)),o||i&&a?(k.verbose("Hiding placeholder text"),q.addClass(S.filtered)):(!e||i&&!a)&&(k.verbose("Showing placeholder text"),q.removeClass(S.filtered))},empty:function(){R.addClass(S.empty)},loading:function(){R.addClass(S.loading)},placeholderText:function(e){e=e||k.get.placeholderText(),k.debug("Setting placeholder text",e),k.set.text(e),q.addClass(S.placeholder)},tabbable:function(){k.has.search()?(k.debug("Added tabindex to searchable dropdown"),L.val("").attr("tabindex",0),U.attr("tabindex",-1)):(k.debug("Added tabindex to dropdown"),void 0===R.attr("tabindex")&&(R.attr("tabindex",0),U.attr("tabindex",-1)))},initialLoad:function(){k.verbose("Setting initial load"),m=!0},activeItem:function(e){C.allowAdditions&&e.filter(A.addition).length>0?e.addClass(S.filtered):e.addClass(S.active)},scrollPosition:function(e,t){var i,n,o,s,a,r;i=(e=e||k.get.selectedItem()).closest(A.menu),n=e&&e.length>0,t=void 0!==t&&t,e&&i.length>0&&n&&(e.position().top,i.addClass(S.loading),o=(s=i.scrollTop())-i.offset().top+e.offset().top,t||(r=s+i.height()<o+5,a=o-5<s),k.debug("Scrolling to active item",o),(t||a||r)&&i.scrollTop(o),i.removeClass(S.loading))},text:function(e){"select"!==C.action&&("combo"==C.action?(k.debug("Changing combo button text",e,W),C.preserveHTML?W.html(e):W.text(e)):(e!==k.get.placeholderText()&&q.removeClass(S.placeholder),k.debug("Changing text",e,q),q.removeClass(S.filtered),C.preserveHTML?q.html(e):q.text(e)))},selectedItem:function(e){k.debug("Setting user selection to item",e),k.remove.activeItem(),k.set.activeItem(e),k.set.selected(k.get.choiceValue(e),e)},selectedLetter:function(t){var i,n=H.filter("."+S.selected),o=!1;n.length>0&&k.has.firstLetter(n,t)&&(i=n.nextAll(H).eq(0),k.has.firstLetter(i,t)&&(o=i)),o||H.each(function(){if(k.has.firstLetter(e(this),t))return o=e(this),!1}),o&&(k.verbose("Scrolling to next value with letter",t),k.set.scrollPosition(o),n.removeClass(S.selected),o.addClass(S.selected),C.selectOnKeydown&&k.is.single()&&k.set.selectedItem(o))},direction:function(e){"auto"==C.direction?k.is.onScreen(e)?k.remove.upward(e):k.set.upward(e):"upward"==C.direction&&k.set.upward(e)},upward:function(e){(e||R).addClass(S.upward)},value:function(e,t,i){var n=k.escape.value(e),o=Y.length>0,s=(k.has.value(e),k.get.values()),a=void 0!==e?String(e):e;if(o){if(!C.allowReselection&&a==s&&(k.verbose("Skipping value update already same value",e,s),!k.is.initialLoad()))return;k.is.single()&&k.has.selectInput()&&k.can.extendSelect()&&(k.debug("Adding user option",e),k.add.optionValue(e)),k.debug("Updating input value",n,s),G=!0,Y.val(n),!1===C.fireOnInit&&k.is.initialLoad()?k.debug("Input native change event ignored on initial load"):k.trigger.change(),G=!1}else k.verbose("Storing value in metadata",n,Y),n!==s&&R.data(_.value,a);!1===C.fireOnInit&&k.is.initialLoad()?k.verbose("No callback on initial load",C.onChange):C.onChange.call(X,e,t,i)},active:function(){R.addClass(S.active)},multiple:function(){R.addClass(S.multiple)},visible:function(){R.addClass(S.visible)},exactly:function(e,t){k.debug("Setting selected to exact values"),k.clear(),k.set.selected(e,t)},selected:function(t,i){var n=k.is.multiple();(i=C.allowAdditions?i||k.get.itemWithAdditions(t):i||k.get.item(t))&&(k.debug("Setting selected menu item to",i),k.is.multiple()&&k.remove.searchWidth(),k.is.single()?(k.remove.activeItem(),k.remove.selectedItem()):C.useLabels&&k.remove.selectedItem(),i.each(function(){var t=e(this),o=k.get.choiceText(t),s=k.get.choiceValue(t,o),a=t.hasClass(S.filtered),r=t.hasClass(S.active),l=t.hasClass(S.addition),c=n&&1==i.length;n?!r||l?(C.apiSettings&&C.saveRemoteData&&k.save.remoteData(o,s),C.useLabels?(k.add.value(s,o,t),k.add.label(s,o,c),k.set.activeItem(t),k.filterActive(),k.select.nextAvailable(i)):(k.add.value(s,o,t),k.set.text(k.add.variables(T.count)),k.set.activeItem(t))):a||(k.debug("Selected active value, removing label"),k.remove.selected(s)):(C.apiSettings&&C.saveRemoteData&&k.save.remoteData(o,s),k.set.text(o),k.set.value(s,o,t),t.addClass(S.active).addClass(S.selected))}))}},add:{label:function(t,i,n){var o,s=k.is.searchSelection()?L:q,a=k.escape.value(t);o=e("<a />").addClass(S.label).attr("data-value",a).html(I.label(a,i)),o=C.onLabelCreate.call(o,a,i),k.has.label(t)?k.debug("Label already exists, skipping",a):(C.label.variation&&o.addClass(C.label.variation),!0===n?(k.debug("Animating in label",o),o.addClass(S.hidden).insertBefore(s).transition(C.label.transition,C.label.duration)):(k.debug("Adding selection label",o),o.insertBefore(s)))},message:function(t){var i=U.children(A.message),n=C.templates.message(k.add.variables(t));i.length>0?i.html(n):i=e("<div/>").html(n).addClass(S.message).appendTo(U)},optionValue:function(t){var i=k.escape.value(t);Y.find('option[value="'+i+'"]').length>0||(k.disconnect.selectObserver(),k.is.single()&&(k.verbose("Removing previous user addition"),Y.find("option."+S.addition).remove()),e("<option/>").prop("value",i).addClass(S.addition).html(t).appendTo(Y),k.verbose("Adding user addition as an <option>",t),k.observe.select())},userSuggestion:function(e){var t,i=U.children(A.addition),n=k.get.item(e),o=n&&n.not(A.addition).length,s=i.length>0;C.useLabels&&k.has.maxSelections()||(""===e||o?i.remove():(s?(i.data(_.value,e).data(_.text,e).attr("data-"+_.value,e).attr("data-"+_.text,e).removeClass(S.filtered),C.hideAdditions||(t=C.templates.addition(k.add.variables(T.addResult,e)),i.html(t)),k.verbose("Replacing user suggestion with new value",i)):((i=k.create.userChoice(e)).prependTo(U),k.verbose("Adding item choice to menu corresponding with user choice addition",i)),C.hideAdditions&&!k.is.allFiltered()||i.addClass(S.selected).siblings().removeClass(S.selected),k.refreshItems()))},variables:function(e,t){var i,n,o=-1!==e.search("{count}"),s=-1!==e.search("{maxCount}"),a=-1!==e.search("{term}");return k.verbose("Adding templated variables to message",e),o&&(i=k.get.selectionCount(),e=e.replace("{count}",i)),s&&(i=k.get.selectionCount(),e=e.replace("{maxCount}",C.maxSelections)),a&&(n=t||k.get.query(),e=e.replace("{term}",n)),e},value:function(t,i,n){var o,s=k.get.values();""!==t?(e.isArray(s)?(o=s.concat([t]),o=k.get.uniqueArray(o)):o=[t],k.has.selectInput()?k.can.extendSelect()&&(k.debug("Adding value to select",t,o,Y),k.add.optionValue(t)):(o=o.join(C.delimiter),k.debug("Setting hidden input to delimited value",o,Y)),!1===C.fireOnInit&&k.is.initialLoad()?k.verbose("Skipping onadd callback on initial load",C.onAdd):C.onAdd.call(X,t,i,n),k.set.value(o,t,i,n),k.check.maxSelections()):k.debug("Cannot select blank values from multiselect")}},remove:{active:function(){R.removeClass(S.active)},activeLabel:function(){R.find(A.label).removeClass(S.active)},empty:function(){R.removeClass(S.empty)},loading:function(){R.removeClass(S.loading)},initialLoad:function(){m=!1},upward:function(e){(e||R).removeClass(S.upward)},visible:function(){R.removeClass(S.visible)},activeItem:function(){H.removeClass(S.active)},filteredItem:function(){C.useLabels&&k.has.maxSelections()||(C.useLabels&&k.is.multiple()?H.not("."+S.active).removeClass(S.filtered):H.removeClass(S.filtered),k.remove.empty())},optionValue:function(e){var t=k.escape.value(e),i=Y.find('option[value="'+t+'"]');i.length>0&&i.hasClass(S.addition)&&(w&&(w.disconnect(),k.verbose("Temporarily disconnecting mutation observer")),i.remove(),k.verbose("Removing user addition as an <option>",t),w&&w.observe(Y[0],{childList:!0,subtree:!0}))},message:function(){U.children(A.message).remove()},searchWidth:function(){L.css("width","")},searchTerm:function(){k.verbose("Cleared search term"),L.val(""),k.set.filtered()},userAddition:function(){H.filter(A.addition).remove()},selected:function(t,i){if(!(i=C.allowAdditions?i||k.get.itemWithAdditions(t):i||k.get.item(t)))return!1;i.each(function(){var t=e(this),i=k.get.choiceText(t),n=k.get.choiceValue(t,i);k.is.multiple()?C.useLabels?(k.remove.value(n,i,t),k.remove.label(n)):(k.remove.value(n,i,t),0===k.get.selectionCount()?k.set.placeholderText():k.set.text(k.add.variables(T.count))):k.remove.value(n,i,t),t.removeClass(S.filtered).removeClass(S.active),C.useLabels&&t.removeClass(S.selected)})},selectedItem:function(){H.removeClass(S.selected)},value:function(e,t,i){var n,o=k.get.values();k.has.selectInput()?(k.verbose("Input is <select> removing selected option",e),n=k.remove.arrayValue(e,o),k.remove.optionValue(e)):(k.verbose("Removing from delimited values",e),n=(n=k.remove.arrayValue(e,o)).join(C.delimiter)),!1===C.fireOnInit&&k.is.initialLoad()?k.verbose("No callback on initial load",C.onRemove):C.onRemove.call(X,e,t,i),k.set.value(n,t,i),k.check.maxSelections()},arrayValue:function(t,i){return e.isArray(i)||(i=[i]),i=e.grep(i,function(e){return t!=e}),k.verbose("Removed value from delimited string",t,i),i},label:function(e,t){var i=R.find(A.label).filter('[data-value="'+e+'"]');k.verbose("Removing label",i),i.remove()},activeLabels:function(e){e=e||R.find(A.label).filter("."+S.active),k.verbose("Removing active label selections",e),k.remove.labels(e)},labels:function(t){t=t||R.find(A.label),k.verbose("Removing labels",t),t.each(function(){var t=e(this),i=t.data(_.value),n=void 0!==i?String(i):i,o=k.is.userValue(n);!1!==C.onLabelRemove.call(t,i)?(k.remove.message(),o?(k.remove.value(n),k.remove.label(n)):k.remove.selected(n)):k.debug("Label remove callback cancelled removal")})},tabbable:function(){k.has.search()?(k.debug("Searchable dropdown initialized"),L.removeAttr("tabindex"),U.removeAttr("tabindex")):(k.debug("Simple selection dropdown initialized"),R.removeAttr("tabindex"),U.removeAttr("tabindex"))}},has:{menuSearch:function(){return k.has.search()&&L.closest(U).length>0},search:function(){return L.length>0},sizer:function(){return z.length>0},selectInput:function(){return Y.is("select")},minCharacters:function(e){return!C.minCharacters||(e=void 0!==e?String(e):String(k.get.query())).length>=C.minCharacters},firstLetter:function(e,t){var i,n;return!(!e||0===e.length||"string"!=typeof t)&&(i=k.get.choiceText(e,!1),t=t.toLowerCase(),n=String(i).charAt(0).toLowerCase(),t==n)},input:function(){return Y.length>0},items:function(){return H.length>0},menu:function(){return U.length>0},message:function(){return 0!==U.children(A.message).length},label:function(e){var t=k.escape.value(e);return R.find(A.label).filter('[data-value="'+t+'"]').length>0},maxSelections:function(){return C.maxSelections&&k.get.selectionCount()>=C.maxSelections},allResultsFiltered:function(){var e=H.not(A.addition);return e.filter(A.unselectable).length===e.length},userSuggestion:function(){return U.children(A.addition).length>0},query:function(){return""!==k.get.query()},value:function(t){var i=k.get.values();return!!(e.isArray(i)?i&&-1!==e.inArray(t,i):i==t)}},is:{active:function(){return R.hasClass(S.active)},bubbledLabelClick:function(t){return e(t.target).is("select, input")&&R.closest("label").length>0},alreadySetup:function(){return R.is("select")&&R.parent(A.dropdown).length>0&&0===R.prev().length},animating:function(e){return e?e.transition&&e.transition("is animating"):U.transition&&U.transition("is animating")},disabled:function(){return R.hasClass(S.disabled)},focused:function(){return i.activeElement===R[0]},focusedOnSearch:function(){return i.activeElement===L[0]},allFiltered:function(){return(k.is.multiple()||k.has.search())&&!(0==C.hideAdditions&&k.has.userSuggestion())&&!k.has.message()&&k.has.allResultsFiltered()},hidden:function(e){return!k.is.visible(e)},initialLoad:function(){return m},onScreen:function(e){var t,i=e||U,n=!0,o={};return i.addClass(S.loading),t={context:{scrollTop:F.scrollTop(),height:F.outerHeight()},menu:{offset:i.offset(),height:i.outerHeight()}},(o={above:t.context.scrollTop<=t.menu.offset.top-t.menu.height,below:t.context.scrollTop+t.context.height>=t.menu.offset.top+t.menu.height}).below?(k.verbose("Dropdown can fit in context downward",o),n=!0):o.below||o.above?(k.verbose("Dropdown cannot fit below, opening upward",o),n=!1):(k.verbose("Dropdown cannot fit in either direction, favoring downward",o),n=!0),i.removeClass(S.loading),n},inObject:function(t,i){var n=!1;return e.each(i,function(e,i){if(i==t)return n=!0,!0}),n},multiple:function(){return R.hasClass(S.multiple)},single:function(){return!k.is.multiple()},selectMutation:function(t){var i=!1;return e.each(t,function(t,n){if(n.target&&e(n.target).is("select"))return i=!0,!0}),i},search:function(){return R.hasClass(S.search)},searchSelection:function(){return k.has.search()&&1===L.parent(A.dropdown).length},selection:function(){return R.hasClass(S.selection)},userValue:function(t){return-1!==e.inArray(t,k.get.userValues())},upward:function(e){return(e||R).hasClass(S.upward)},visible:function(e){return e?e.hasClass(S.visible):U.hasClass(S.visible)}},can:{activate:function(e){return!!C.useLabels||(!k.has.maxSelections()||!(!k.has.maxSelections()||!e.hasClass(S.active)))},click:function(){return l||"click"==C.on},extendSelect:function(){return C.allowAdditions||C.apiSettings},show:function(){return!k.is.disabled()&&(k.has.items()||k.has.message())},useAPI:function(){return void 0!==e.fn.api}},animate:{show:function(t,i){var n,o=i||U,s=i?function(){}:function(){k.hideSubMenus(),k.hideOthers(),k.set.active()};t=e.isFunction(t)?t:function(){},k.verbose("Doing menu show animation",o),k.set.direction(i),n=k.get.transition(i),k.is.selection()&&k.set.scrollPosition(k.get.selectedItem(),!0),(k.is.hidden(o)||k.is.animating(o))&&("none"==n?(s(),o.transition("show"),t.call(X)):void 0!==e.fn.transition&&R.transition("is supported")?o.transition({animation:n+" in",debug:C.debug,verbose:C.verbose,duration:C.duration,queue:!0,onStart:s,onComplete:function(){t.call(X)}}):k.error(P.noTransition,n))},hide:function(t,i){var n=i||U,o=(i?C.duration:C.duration,i?function(){}:function(){k.can.click()&&k.unbind.intent(),k.remove.active()}),s=k.get.transition(i);t=e.isFunction(t)?t:function(){},(k.is.visible(n)||k.is.animating(n))&&(k.verbose("Doing menu hide animation",n),"none"==s?(o(),n.transition("hide"),t.call(X)):void 0!==e.fn.transition&&R.transition("is supported")?n.transition({animation:s+" out",duration:C.duration,debug:C.debug,verbose:C.verbose,queue:!0,onStart:o,onComplete:function(){"auto"==C.direction&&k.remove.upward(i),t.call(X)}}):k.error(P.transition))}},hideAndClear:function(){k.remove.searchTerm(),k.has.maxSelections()||(k.has.search()?k.hide(function(){k.remove.filteredItem()}):k.hide())},delay:{show:function(){k.verbose("Delaying show event to ensure user intent"),clearTimeout(k.timer),k.timer=setTimeout(k.show,C.delay.show)},hide:function(){k.verbose("Delaying hide event to ensure user intent"),clearTimeout(k.timer),k.timer=setTimeout(k.hide,C.delay.hide)}},escape:{value:function(t){var i=e.isArray(t),n="string"==typeof t,o=!n&&!i,s=n&&-1!==t.search(O.quote),a=[];return k.has.selectInput()&&!o&&s?(k.debug("Encoding quote values for use in select",t),i?(e.each(t,function(e,t){a.push(t.replace(O.quote,"&quot;"))}),a):t.replace(O.quote,"&quot;")):t},regExp:function(e){return(e=String(e)).replace(O.escape,"\\$&")}},setting:function(t,i){if(k.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,C,t);else{if(void 0===i)return C[t];e.isPlainObject(C[t])?e.extend(!0,C[t],i):C[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,k,t);else{if(void 0===i)return k[t];k[t]=i}},debug:function(){!C.silent&&C.debug&&(C.performance?k.performance.log(arguments):(k.debug=Function.prototype.bind.call(console.info,console,C.name+":"),k.debug.apply(console,arguments)))},verbose:function(){!C.silent&&C.verbose&&C.debug&&(C.performance?k.performance.log(arguments):(k.verbose=Function.prototype.bind.call(console.info,console,C.name+":"),k.verbose.apply(console,arguments)))},error:function(){C.silent||(k.error=Function.prototype.bind.call(console.error,console,C.name+":"),k.error.apply(console,arguments))},performance:{log:function(e){var t,i;C.performance&&(i=(t=(new Date).getTime())-(c||t),c=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:X,"Execution Time":i})),clearTimeout(k.performance.timer),k.performance.timer=setTimeout(k.performance.display,500)},display:function(){var t=C.name+":",i=0;c=!1,clearTimeout(k.performance.timer),e.each(d,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",r&&(t+=" '"+r+"'"),(void 0!==console.group||void 0!==console.table)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,i,n){var s,a,r,l=Q;return i=i||p,n=X||n,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]?(a=l[n],!1):(k.error(P.method,t),!1);l=l[n]}})),e.isFunction(a)?r=a.apply(n,i):void 0!==a&&(r=a),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),a}},h?(void 0===Q&&k.initialize(),k.invoke(u)):(void 0!==Q&&Q.invoke("destroy"),k.initialize())}),void 0!==o?o:s},e.fn.dropdown.settings={silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",apiSettings:!1,selectOnKeydown:!0,minCharacters:0,saveRemoteData:!0,throttle:200,context:t,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,hideAdditions:!0,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowReselection:!1,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.037,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(e,t,i){},onAdd:function(e,t,i){},onRemove:function(e,t,i){},onLabelSelect:function(e){},onLabelCreate:function(t,i){return e(this)},onLabelRemove:function(e){return!0},onNoResults:function(e){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g,quote:/"/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",disabled:"disabled",name:"name",value:"value",text:"text"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",hidden:".hidden",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input, .menu input.search",sizer:"> input.sizer",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",empty:"empty",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",sizer:"sizer",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},e.fn.dropdown.settings.templates={dropdown:function(t){var i=t.placeholder||!1,n=(t.values,"");return n+='<i class="dropdown icon"></i>',t.placeholder?n+='<div class="default text">'+i+"</div>":n+='<div class="text"></div>',n+='<div class="menu">',e.each(t.values,function(e,t){n+=t.disabled?'<div class="disabled item" data-value="'+t.value+'">'+t.name+"</div>":'<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),n+="</div>"},menu:function(t,i){var n=t[i.values]||{},o="";return e.each(n,function(e,t){var n=t[i.text]?'data-text="'+t[i.text]+'"':"",s=t[i.disabled]?"disabled ":"";o+='<div class="'+s+'item" data-value="'+t[i.value]+'"'+n+">",o+=t[i.name],o+="</div>"}),o},label:function(e,t){return t+'<i class="delete icon"></i>'},message:function(e){return e},addition:function(e){return e}}}(jQuery,window,document),function(e,t,i,n){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.embed=function(i){var n,o=e(this),s=o.selector||"",a=(new Date).getTime(),r=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1);return o.each(function(){var u,h=e.isPlainObject(i)?e.extend(!0,{},e.fn.embed.settings,i):e.extend({},e.fn.embed.settings),p=h.selector,f=h.className,m=h.sources,g=h.error,v=h.metadata,b=h.namespace,y=h.templates,w="."+b,x="module-"+b,k=(e(t),e(this)),C=k.find(p.placeholder),S=k.find(p.icon),T=k.find(p.embed),D=this,$=k.data(x);u={initialize:function(){u.debug("Initializing embed"),u.determine.autoplay(),u.create(),u.bind.events(),u.instantiate()},instantiate:function(){u.verbose("Storing instance of module",u),$=u,k.data(x,u)},destroy:function(){u.verbose("Destroying previous instance of embed"),u.reset(),k.removeData(x).off(w)},refresh:function(){u.verbose("Refreshing selector cache"),C=k.find(p.placeholder),S=k.find(p.icon),T=k.find(p.embed)},bind:{events:function(){u.has.placeholder()&&(u.debug("Adding placeholder events"),k.on("click"+w,p.placeholder,u.createAndShow).on("click"+w,p.icon,u.createAndShow))}},create:function(){u.get.placeholder()?u.createPlaceholder():u.createAndShow()},createPlaceholder:function(e){var t=u.get.icon(),i=u.get.url();u.generate.embed(i);e=e||u.get.placeholder(),k.html(y.placeholder(e,t)),u.debug("Creating placeholder for embed",e,t)},createEmbed:function(t){u.refresh(),t=t||u.get.url(),T=e("<div/>").addClass(f.embed).html(u.generate.embed(t)).appendTo(k),h.onCreate.call(D,t),u.debug("Creating embed object",T)},changeEmbed:function(e){T.html(u.generate.embed(e))},createAndShow:function(){u.createEmbed(),u.show()},change:function(e,t,i){u.debug("Changing video to ",e,t,i),k.data(v.source,e).data(v.id,t),i?k.data(v.url,i):k.removeData(v.url),u.has.embed()?u.changeEmbed():u.create()},reset:function(){u.debug("Clearing embed and showing placeholder"),u.remove.active(),u.remove.embed(),u.showPlaceholder(),h.onReset.call(D)},show:function(){u.debug("Showing embed"),u.set.active(),h.onDisplay.call(D)},hide:function(){u.debug("Hiding embed"),u.showPlaceholder()},showPlaceholder:function(){u.debug("Showing placeholder image"),u.remove.active(),h.onPlaceholderDisplay.call(D)},get:{id:function(){return h.id||k.data(v.id)},placeholder:function(){return h.placeholder||k.data(v.placeholder)},icon:function(){return h.icon?h.icon:void 0!==k.data(v.icon)?k.data(v.icon):u.determine.icon()},source:function(e){return h.source?h.source:void 0!==k.data(v.source)?k.data(v.source):u.determine.source()},type:function(){var e=u.get.source();return void 0!==m[e]&&m[e].type},url:function(){return h.url?h.url:void 0!==k.data(v.url)?k.data(v.url):u.determine.url()}},determine:{autoplay:function(){u.should.autoplay()&&(h.autoplay=!0)},source:function(t){var i=!1;return(t=t||u.get.url())&&e.each(m,function(e,n){if(-1!==t.search(n.domain))return i=e,!1}),i},icon:function(){var e=u.get.source();return void 0!==m[e]&&m[e].icon},url:function(){var e,t=h.id||k.data(v.id),i=h.source||k.data(v.source);return(e=void 0!==m[i]&&m[i].url.replace("{id}",t))&&k.data(v.url,e),e}},set:{active:function(){k.addClass(f.active)}},remove:{active:function(){k.removeClass(f.active)},embed:function(){T.empty()}},encode:{parameters:function(e){var t,i=[];for(t in e)i.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return i.join("&amp;")}},generate:{embed:function(e){u.debug("Generating embed html");var t,i,n=u.get.source();return(e=u.get.url(e))?(i=u.generate.parameters(n),t=y.iframe(e,i)):u.error(g.noURL,k),t},parameters:function(t,i){var n=m[t]&&void 0!==m[t].parameters?m[t].parameters(h):{};return(i=i||h.parameters)&&(n=e.extend({},n,i)),n=h.onEmbed(n),u.encode.parameters(n)}},has:{embed:function(){return T.length>0},placeholder:function(){return h.placeholder||k.data(v.placeholder)}},should:{autoplay:function(){return"auto"===h.autoplay?h.placeholder||void 0!==k.data(v.placeholder):h.autoplay}},is:{video:function(){return"video"==u.get.type()}},setting:function(t,i){if(u.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===i)return h[t];e.isPlainObject(h[t])?e.extend(!0,h[t],i):h[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,u,t);else{if(void 0===i)return u[t];u[t]=i}},debug:function(){!h.silent&&h.debug&&(h.performance?u.performance.log(arguments):(u.debug=Function.prototype.bind.call(console.info,console,h.name+":"),u.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?u.performance.log(arguments):(u.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),u.verbose.apply(console,arguments)))},error:function(){h.silent||(u.error=Function.prototype.bind.call(console.error,console,h.name+":"),u.error.apply(console,arguments))},performance:{log:function(e){var t,i;h.performance&&(i=(t=(new Date).getTime())-(a||t),a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:D,"Execution Time":i})),clearTimeout(u.performance.timer),u.performance.timer=setTimeout(u.performance.display,500)},display:function(){var t=h.name+":",i=0;a=!1,clearTimeout(u.performance.timer),e.each(r,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",s&&(t+=" '"+s+"'"),o.length>1&&(t+=" ("+o.length+")"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,i,o){var s,a,r,l=$;return i=i||d,o=D||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]?(a=l[n],!1):(u.error(g.method,t),!1);l=l[n]}})),e.isFunction(a)?r=a.apply(o,i):void 0!==a&&(r=a),e.isArray(n)?n.push(r):void 0!==n?n=[n,r]:void 0!==r&&(n=r),a}},c?(void 0===$&&u.initialize(),u.invoke(l)):(void 0!==$&&$.invoke("destroy"),u.initialize())}),void 0!==n?n:this},e.fn.embed.settings={name:"Embed",namespace:"embed",silent:!1,debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:"auto",color:"#444444",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(e){},onEmbed:function(e){return e},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(e){return{autohide:!e.brandedUI,autoplay:e.autoplay,color:e.color||void 0,hq:e.hd,jsapi:e.api,modestbranding:!e.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(e){return{api:e.api,autoplay:e.autoplay,byline:e.brandedUI,color:e.color||void 0,portrait:e.brandedUI,title:e.brandedUI}}}},templates:{iframe:function(e,t){var i=e;return t&&(i+="?"+t),'<iframe src="'+i+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(e,t){var i="";return t&&(i+='<i class="'+t+' icon"></i>'),e&&(i+='<img class="placeholder" src="'+e+'">'),i}},api:!1,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,document),function(e,t,i,n){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.modal=function(n){var o,s=e(this),a=e(t),r=e(i),l=e("body"),c=s.selector||"",d=(new Date).getTime(),u=[],h=arguments[0],p="string"==typeof h,f=[].slice.call(arguments,1),m=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return s.each(function(){var s,g,v,b,y,w,x,k,C,S=e.isPlainObject(n)?e.extend(!0,{},e.fn.modal.settings,n):e.extend({},e.fn.modal.settings),T=S.selector,D=S.className,$=S.namespace,_=S.error,M="."+$,O="module-"+$,A=e(this),P=e(S.context),I=A.find(T.close),j=this,E=A.data(O);C={initialize:function(){C.verbose("Initializing dimmer",P),C.create.id(),C.create.dimmer(),C.refreshModals(),C.bind.events(),S.observeChanges&&C.observeChanges(),C.instantiate()},instantiate:function(){C.verbose("Storing instance of modal"),E=C,A.data(O,E)},create:{dimmer:function(){var t={debug:S.debug,dimmerName:"modals",duration:{show:S.duration,hide:S.duration}},i=e.extend(!0,t,S.dimmerSettings);S.inverted&&(i.variation=void 0!==i.variation?i.variation+" inverted":"inverted"),void 0!==e.fn.dimmer?(C.debug("Creating dimmer with settings",i),b=P.dimmer(i),S.detachable?(C.verbose("Modal is detachable, moving content into dimmer"),b.dimmer("add content",A)):C.set.undetached(),S.blurring&&b.addClass(D.blurring),y=b.dimmer("get dimmer")):C.error(_.dimmer)},id:function(){x=(Math.random().toString(16)+"000000000").substr(2,8),w="."+x,C.verbose("Creating unique id for element",x)}},destroy:function(){C.verbose("Destroying previous modal"),A.removeData(O).off(M),a.off(w),y.off(w),I.off(M),P.dimmer("destroy")},observeChanges:function(){"MutationObserver"in t&&((k=new MutationObserver(function(e){C.debug("DOM tree modified, refreshing"),C.refresh()})).observe(j,{childList:!0,subtree:!0}),C.debug("Setting up mutation observer",k))},refresh:function(){C.remove.scrolling(),C.cacheSizes(),C.set.screenHeight(),C.set.type(),C.set.position()},refreshModals:function(){g=A.siblings(T.modal),s=g.add(A)},attachEvents:function(t,i){var n=e(t);i=e.isFunction(C[i])?C[i]:C.toggle,n.length>0?(C.debug("Attaching modal events to element",t,i),n.off(M).on("click"+M,i)):C.error(_.notFound,t)},bind:{events:function(){C.verbose("Attaching events"),A.on("click"+M,T.close,C.event.close).on("click"+M,T.approve,C.event.approve).on("click"+M,T.deny,C.event.deny),a.on("resize"+w,C.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){!1!==S.onApprove.call(j,e(this))?C.hide():C.verbose("Approve callback returned false cancelling hide")},deny:function(){!1!==S.onDeny.call(j,e(this))?C.hide():C.verbose("Deny callback returned false cancelling hide")},close:function(){C.hide()},click:function(t){var n=e(t.target).closest(T.modal).length>0,o=e.contains(i.documentElement,t.target);!n&&o&&(C.debug("Dimmer clicked, hiding all modals"),C.is.active()&&(C.remove.clickaway(),S.allowMultiple?C.hide():C.hideAll()))},debounce:function(e,t){clearTimeout(C.timer),C.timer=setTimeout(e,t)},keyboard:function(e){27==e.which&&(S.closable?(C.debug("Escape key pressed hiding modal"),C.hide()):C.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){b.dimmer("is active")&&m(C.refresh)}},toggle:function(){C.is.active()||C.is.animating()?C.hide():C.show()},show:function(t){t=e.isFunction(t)?t:function(){},C.refreshModals(),C.showModal(t)},hide:function(t){t=e.isFunction(t)?t:function(){},C.refreshModals(),C.hideModal(t)},showModal:function(t){t=e.isFunction(t)?t:function(){},C.is.animating()||!C.is.active()?(C.showDimmer(),C.cacheSizes(),C.set.position(),C.set.screenHeight(),C.set.type(),C.set.clickaway(),!S.allowMultiple&&C.others.active()?C.hideOthers(C.showModal):(S.onShow.call(j),S.transition&&void 0!==e.fn.transition&&A.transition("is supported")?(C.debug("Showing modal with css animations"),A.transition({debug:S.debug,animation:S.transition+" in",queue:S.queue,duration:S.duration,useFailSafe:!0,onComplete:function(){S.onVisible.apply(j),C.add.keyboardShortcuts(),C.save.focus(),C.set.active(),S.autofocus&&C.set.autofocus(),t()}})):C.error(_.noTransition))):C.debug("Modal is already visible")},hideModal:function(t,i){t=e.isFunction(t)?t:function(){},C.debug("Hiding modal"),!1!==S.onHide.call(j,e(this))?(C.is.animating()||C.is.active())&&(S.transition&&void 0!==e.fn.transition&&A.transition("is supported")?(C.remove.active(),A.transition({debug:S.debug,animation:S.transition+" out",queue:S.queue,duration:S.duration,useFailSafe:!0,onStart:function(){C.others.active()||i||C.hideDimmer(),C.remove.keyboardShortcuts()},onComplete:function(){S.onHidden.call(j),C.restore.focus(),t()}})):C.error(_.noTransition)):C.verbose("Hide callback returned false cancelling hide")},showDimmer:function(){b.dimmer("is animating")||!b.dimmer("is active")?(C.debug("Showing dimmer"),b.dimmer("show")):C.debug("Dimmer already visible")},hideDimmer:function(){b.dimmer("is animating")||b.dimmer("is active")?b.dimmer("hide",function(){C.remove.clickaway(),C.remove.screenHeight()}):C.debug("Dimmer is not visible cannot hide")},hideAll:function(t){var i=s.filter("."+D.active+", ."+D.animating);t=e.isFunction(t)?t:function(){},i.length>0&&(C.debug("Hiding all visible modals"),C.hideDimmer(),i.modal("hide modal",t))},hideOthers:function(t){var i=g.filter("."+D.active+", ."+D.animating);t=e.isFunction(t)?t:function(){},i.length>0&&(C.debug("Hiding other modals",g),i.modal("hide modal",t,!0))},others:{active:function(){return g.filter("."+D.active).length>0},animating:function(){return g.filter("."+D.animating).length>0}},add:{keyboardShortcuts:function(){C.verbose("Adding keyboard shortcuts"),r.on("keyup"+M,C.event.keyboard)}},save:{focus:function(){v=e(i.activeElement).blur()}},restore:{focus:function(){v&&v.length>0&&v.focus()}},remove:{active:function(){A.removeClass(D.active)},clickaway:function(){S.closable&&y.off("click"+w)},bodyStyle:function(){""===l.attr("style")&&(C.verbose("Removing style attribute"),l.removeAttr("style"))},screenHeight:function(){C.debug("Removing page height"),l.css("height","")},keyboardShortcuts:function(){C.verbose("Removing keyboard shortcuts"),r.off("keyup"+M)},scrolling:function(){b.removeClass(D.scrolling),A.removeClass(D.scrolling)}},cacheSizes:function(){var n=A.outerHeight();void 0!==C.cache&&0===n||(C.cache={pageHeight:e(i).outerHeight(),height:n+S.offset,contextHeight:"body"==S.context?e(t).height():b.height()}),C.debug("Caching modal and container sizes",C.cache)},can:{fit:function(){return C.cache.height+2*S.padding<C.cache.contextHeight}},is:{active:function(){return A.hasClass(D.active)},animating:function(){return A.transition("is supported")?A.transition("is animating"):A.is(":visible")},scrolling:function(){return b.hasClass(D.scrolling)},modernBrowser:function(){return!(t.ActiveXObject||"ActiveXObject"in t)}},set:{autofocus:function(){var e=A.find(":input").filter(":visible"),t=e.filter("[autofocus]"),i=t.length>0?t.first():e.first();i.length>0&&i.focus()},clickaway:function(){S.closable&&y.on("click"+w,C.event.click)},screenHeight:function(){C.can.fit()?l.css("height",""):(C.debug("Modal is taller than page content, resizing page height"),l.css("height",C.cache.height+2*S.padding))},active:function(){A.addClass(D.active)},scrolling:function(){b.addClass(D.scrolling),A.addClass(D.scrolling)},type:function(){C.can.fit()?(C.verbose("Modal fits on screen"),C.others.active()||C.others.animating()||C.remove.scrolling()):(C.verbose("Modal cannot fit on screen setting to scrolling"),C.set.scrolling())},position:function(){C.verbose("Centering modal on page",C.cache),C.can.fit()?A.css({top:"",marginTop:-C.cache.height/2}):A.css({marginTop:"",top:r.scrollTop()})},undetached:function(){b.addClass(D.undetached)}},setting:function(t,i){if(C.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,S,t);else{if(void 0===i)return S[t];e.isPlainObject(S[t])?e.extend(!0,S[t],i):S[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,C,t);else{if(void 0===i)return C[t];C[t]=i}},debug:function(){!S.silent&&S.debug&&(S.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,S.name+":"),C.debug.apply(console,arguments)))},verbose:function(){!S.silent&&S.verbose&&S.debug&&(S.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,S.name+":"),C.verbose.apply(console,arguments)))},error:function(){S.silent||(C.error=Function.prototype.bind.call(console.error,console,S.name+":"),C.error.apply(console,arguments))},performance:{log:function(e){var t,i;S.performance&&(i=(t=(new Date).getTime())-(d||t),d=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:j,"Execution Time":i})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var t=S.name+":",i=0;d=!1,clearTimeout(C.performance.timer),e.each(u,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",c&&(t+=" '"+c+"'"),(void 0!==console.group||void 0!==console.table)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,i,n){var s,a,r,l=E;return i=i||f,n=j||n,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]&&(a=l[n],!1);l=l[n]}})),e.isFunction(a)?r=a.apply(n,i):void 0!==a&&(r=a),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),a}},p?(void 0===E&&C.initialize(),C.invoke(h)):(void 0!==E&&E.invoke("destroy"),C.initialize())}),void 0!==o?o:this},e.fn.modal.settings={name:"Modal",namespace:"modal",silent:!1,debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,dimmerSettings:{closable:!1,useCSS:!0},context:"body",queue:!1,duration:500,offset:0,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",scrolling:"scrolling",undetached:"undetached"}}}(jQuery,window,document),function(e,t,i,n){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.nag=function(i){var n,o=e(this),s=o.selector||"",a=(new Date).getTime(),r=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1);return o.each(function(){var o,u=e.isPlainObject(i)?e.extend(!0,{},e.fn.nag.settings,i):e.extend({},e.fn.nag.settings),h=(u.className,u.selector),p=u.error,f=u.namespace,m="."+f,g=f+"-module",v=e(this),b=(v.find(h.close),e(u.context?u.context:"body")),y=this,w=v.data(g);t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame;o={initialize:function(){o.verbose("Initializing element"),v.on("click"+m,h.close,o.dismiss).data(g,o),u.detachable&&v.parent()[0]!==b[0]&&v.detach().prependTo(b),u.displayTime>0&&setTimeout(o.hide,u.displayTime),o.show()},destroy:function(){o.verbose("Destroying instance"),v.removeData(g).off(m)},show:function(){o.should.show()&&!v.is(":visible")&&(o.debug("Showing nag",u.animation.show),"fade"==u.animation.show?v.fadeIn(u.duration,u.easing):v.slideDown(u.duration,u.easing))},hide:function(){o.debug("Showing nag",u.animation.hide),"fade"==u.animation.show?v.fadeIn(u.duration,u.easing):v.slideUp(u.duration,u.easing)},onHide:function(){o.debug("Removing nag",u.animation.hide),v.remove(),u.onHide&&u.onHide()},dismiss:function(e){u.storageMethod&&o.storage.set(u.key,u.value),o.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return u.persist?(o.debug("Persistent nag is set, can show nag"),!0):o.storage.get(u.key)!=u.value.toString()?(o.debug("Stored value is not set, can show nag",o.storage.get(u.key)),!0):(o.debug("Stored value is set, cannot show nag",o.storage.get(u.key)),!1)}},get:{storageOptions:function(){var e={};return u.expires&&(e.expires=u.expires),u.domain&&(e.domain=u.domain),u.path&&(e.path=u.path),e}},clear:function(){o.storage.remove(u.key)},storage:{set:function(i,n){var s=o.get.storageOptions();if("localstorage"==u.storageMethod&&void 0!==t.localStorage)t.localStorage.setItem(i,n),o.debug("Value stored using local storage",i,n);else if("sessionstorage"==u.storageMethod&&void 0!==t.sessionStorage)t.sessionStorage.setItem(i,n),o.debug("Value stored using session storage",i,n);else{if(void 0===e.cookie)return void o.error(p.noCookieStorage);e.cookie(i,n,s),o.debug("Value stored using cookie",i,n,s)}},get:function(i,n){var s;return"localstorage"==u.storageMethod&&void 0!==t.localStorage?s=t.localStorage.getItem(i):"sessionstorage"==u.storageMethod&&void 0!==t.sessionStorage?s=t.sessionStorage.getItem(i):void 0!==e.cookie?s=e.cookie(i):o.error(p.noCookieStorage),"undefined"!=s&&"null"!=s&&void 0!==s&&null!==s||(s=void 0),s},remove:function(i){var n=o.get.storageOptions();"localstorage"==u.storageMethod&&void 0!==t.localStorage?t.localStorage.removeItem(i):"sessionstorage"==u.storageMethod&&void 0!==t.sessionStorage?t.sessionStorage.removeItem(i):void 0!==e.cookie?e.removeCookie(i,n):o.error(p.noStorage)}},setting:function(t,i){if(o.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,u,t);else{if(void 0===i)return u[t];e.isPlainObject(u[t])?e.extend(!0,u[t],i):u[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,o,t);else{if(void 0===i)return o[t];o[t]=i}},debug:function(){!u.silent&&u.debug&&(u.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,u.name+":"),o.debug.apply(console,arguments)))},verbose:function(){!u.silent&&u.verbose&&u.debug&&(u.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),o.verbose.apply(console,arguments)))},error:function(){u.silent||(o.error=Function.prototype.bind.call(console.error,console,u.name+":"),o.error.apply(console,arguments))},performance:{log:function(e){var t,i;u.performance&&(i=(t=(new Date).getTime())-(a||t),a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:y,"Execution Time":i})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,500)},display:function(){var t=u.name+":",i=0;a=!1,clearTimeout(o.performance.timer),e.each(r,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",s&&(t+=" '"+s+"'"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,i,s){var a,r,l,c=w;return i=i||d,s=y||s,"string"==typeof t&&void 0!==c&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(i,n){var s=i!=a?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(c[s])&&i!=a)c=c[s];else{if(void 0!==c[s])return r=c[s],!1;if(!e.isPlainObject(c[n])||i==a)return void 0!==c[n]?(r=c[n],!1):(o.error(p.method,t),!1);c=c[n]}})),e.isFunction(r)?l=r.apply(s,i):void 0!==r&&(l=r),e.isArray(n)?n.push(l):void 0!==n?n=[n,l]:void 0!==l&&(n=l),r}},c?(void 0===w&&o.initialize(),o.invoke(l)):(void 0!==w&&w.invoke("destroy"),o.initialize())}),void 0!==n?n:this},e.fn.nag.settings={name:"Nag",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}},e.extend(e.easing,{easeOutQuad:function(e,t,i,n,o){return-n*(t/=o)*(t-2)+i}})}(jQuery,window,document),function(e,t,i,n){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.popup=function(n){var o,s=e(this),a=e(i),r=e(t),l=e("body"),c=s.selector||"",d=(new Date).getTime(),u=[],h=arguments[0],p="string"==typeof h,f=[].slice.call(arguments,1);return s.each(function(){var s,m,g,v,b,y,w=e.isPlainObject(n)?e.extend(!0,{},e.fn.popup.settings,n):e.extend({},e.fn.popup.settings),x=w.selector,k=w.className,C=w.error,S=w.metadata,T=w.namespace,D="."+w.namespace,$="module-"+T,_=e(this),M=e(w.context),O=e(w.scrollContext),A=e(w.boundary),P=w.target?e(w.target):_,I=0,j=!1,E=!1,R=this,F=_.data($);y={initialize:function(){y.debug("Initializing",_),y.createID(),y.bind.events(),!y.exists()&&w.preserve&&y.create(),y.observeChanges(),y.instantiate()},instantiate:function(){y.verbose("Storing instance",y),F=y,_.data($,F)},observeChanges:function(){"MutationObserver"in t&&((g=new MutationObserver(y.event.documentChanged)).observe(i,{childList:!0,subtree:!0}),y.debug("Setting up mutation observer",g))},refresh:function(){w.popup?s=e(w.popup).eq(0):w.inline&&(s=P.nextAll(x.popup).eq(0),w.popup=s),w.popup?(s.addClass(k.loading),m=y.get.offsetParent(),s.removeClass(k.loading),w.movePopup&&y.has.popup()&&y.get.offsetParent(s)[0]!==m[0]&&(y.debug("Moving popup to the same offset parent as activating element"),s.detach().appendTo(m))):m=w.inline?y.get.offsetParent(P):y.has.popup()?y.get.offsetParent(s):l,m.is("html")&&m[0]!==l[0]&&(y.debug("Setting page as offset parent"),m=l),y.get.variation()&&y.set.variation()},reposition:function(){y.refresh(),y.set.position()},destroy:function(){y.debug("Destroying previous module"),g&&g.disconnect(),s&&!w.preserve&&y.removePopup(),clearTimeout(y.hideTimer),clearTimeout(y.showTimer),y.unbind.close(),y.unbind.events(),_.removeData($)},event:{start:function(t){var i=e.isPlainObject(w.delay)?w.delay.show:w.delay;clearTimeout(y.hideTimer),E||(y.showTimer=setTimeout(y.show,i))},end:function(){var t=e.isPlainObject(w.delay)?w.delay.hide:w.delay;clearTimeout(y.showTimer),y.hideTimer=setTimeout(y.hide,t)},touchstart:function(e){E=!0,y.show()},resize:function(){y.is.visible()&&y.set.position()},documentChanged:function(e){},hideGracefully:function(t){var n=e(t.target),o=e.contains(i.documentElement,t.target),s=n.closest(x.popup).length>0;t&&!s&&o?(y.debug("Click occurred outside popup hiding popup"),y.hide()):y.debug("Click was inside popup, keeping popup open")}},create:function(){var t=y.get.html(),i=y.get.title(),n=y.get.content();t||n||i?(y.debug("Creating pop-up html"),t||(t=w.templates.popup({title:i,content:n})),s=e("<div/>").addClass(k.popup).data(S.activator,_).html(t),w.inline?(y.verbose("Inserting popup element inline",s),s.insertAfter(_)):(y.verbose("Appending popup element to body",s),s.appendTo(M)),y.refresh(),y.set.variation(),w.hoverable&&y.bind.popup(),w.onCreate.call(s,R)):0!==P.next(x.popup).length?(y.verbose("Pre-existing popup found"),w.inline=!0,w.popup=P.next(x.popup).data(S.activator,_),y.refresh(),w.hoverable&&y.bind.popup()):w.popup?(e(w.popup).data(S.activator,_),y.verbose("Used popup specified in settings"),y.refresh(),w.hoverable&&y.bind.popup()):y.debug("No content specified skipping display",R)},createID:function(){b=(Math.random().toString(16)+"000000000").substr(2,8),v="."+b,y.verbose("Creating unique id for element",b)},toggle:function(){y.debug("Toggling pop-up"),y.is.hidden()?(y.debug("Popup is hidden, showing pop-up"),y.unbind.close(),y.show()):(y.debug("Popup is visible, hiding pop-up"),y.hide())},show:function(e){if(e=e||function(){},y.debug("Showing pop-up",w.transition),y.is.hidden()&&(!y.is.active()||!y.is.dropdown())){if(y.exists()||y.create(),!1===w.onShow.call(s,R))return void y.debug("onShow callback returned false, cancelling popup animation");w.preserve||w.popup||y.refresh(),s&&y.set.position()&&(y.save.conditions(),w.exclusive&&y.hideAll(),y.animate.show(e))}},hide:function(e){if(e=e||function(){},y.is.visible()||y.is.animating()){if(!1===w.onHide.call(s,R))return void y.debug("onHide callback returned false, cancelling popup animation");y.remove.visible(),y.unbind.close(),y.restore.conditions(),y.animate.hide(e)}},hideAll:function(){e(x.popup).filter("."+k.visible).each(function(){e(this).data(S.activator).popup("hide")})},exists:function(){return!!s&&(w.inline||w.popup?y.has.popup():s.closest(M).length>=1)},removePopup:function(){y.has.popup()&&!w.popup&&(y.debug("Removing popup",s),s.remove(),s=void 0,w.onRemove.call(s,R))},save:{conditions:function(){y.cache={title:_.attr("title")},y.cache.title&&_.removeAttr("title"),y.verbose("Saving original attributes",y.cache.title)}},restore:{conditions:function(){return y.cache&&y.cache.title&&(_.attr("title",y.cache.title),y.verbose("Restoring original attributes",y.cache.title)),!0}},supports:{svg:function(){return void 0===typeof SVGGraphicsElement}},animate:{show:function(t){t=e.isFunction(t)?t:function(){},w.transition&&void 0!==e.fn.transition&&_.transition("is supported")?(y.set.visible(),s.transition({animation:w.transition+" in",queue:!1,debug:w.debug,verbose:w.verbose,duration:w.duration,onComplete:function(){y.bind.close(),t.call(s,R),w.onVisible.call(s,R)}})):y.error(C.noTransition)},hide:function(t){t=e.isFunction(t)?t:function(){},y.debug("Hiding pop-up"),!1!==w.onHide.call(s,R)?w.transition&&void 0!==e.fn.transition&&_.transition("is supported")?s.transition({animation:w.transition+" out",queue:!1,duration:w.duration,debug:w.debug,verbose:w.verbose,onComplete:function(){y.reset(),t.call(s,R),w.onHidden.call(s,R)}}):y.error(C.noTransition):y.debug("onHide callback returned false, cancelling popup animation")}},change:{content:function(e){s.html(e)}},get:{html:function(){return _.removeData(S.html),_.data(S.html)||w.html},title:function(){return _.removeData(S.title),_.data(S.title)||w.title},content:function(){return _.removeData(S.content),_.data(S.content)||_.attr("title")||w.content},variation:function(){return _.removeData(S.variation),_.data(S.variation)||w.variation},popup:function(){return s},popupOffset:function(){return s.offset()},calculations:function(){var e,i=P[0],n=A[0]==t,o=w.inline||w.popup&&w.movePopup?P.position():P.offset(),a=n?{top:0,left:0}:A.offset(),l={},c=n?{top:r.scrollTop(),left:r.scrollLeft()}:{top:0,left:0};return l={target:{element:P[0],width:P.outerWidth(),height:P.outerHeight(),top:o.top,left:o.left,margin:{}},popup:{width:s.outerWidth(),height:s.outerHeight()},parent:{width:m.outerWidth(),height:m.outerHeight()},screen:{top:a.top,left:a.left,scroll:{top:c.top,left:c.left},width:A.width(),height:A.height()}},w.setFluidWidth&&y.is.fluid()&&(l.container={width:s.parent().outerWidth()},l.popup.width=l.container.width),l.target.margin.top=w.inline?parseInt(t.getComputedStyle(i).getPropertyValue("margin-top"),10):0,l.target.margin.left=w.inline?y.is.rtl()?parseInt(t.getComputedStyle(i).getPropertyValue("margin-right"),10):parseInt(t.getComputedStyle(i).getPropertyValue("margin-left"),10):0,e=l.screen,l.boundary={top:e.top+e.scroll.top,bottom:e.top+e.scroll.top+e.height,left:e.left+e.scroll.left,right:e.left+e.scroll.left+e.width},l},id:function(){return b},startEvent:function(){return"hover"==w.on?"mouseenter":"focus"==w.on&&"focus"},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==w.on?"mouseleave":"focus"==w.on&&"blur"},distanceFromBoundary:function(e,t){var i,n,o={};return t=t||y.get.calculations(),i=t.popup,n=t.boundary,e&&(o={top:e.top-n.top,left:e.left-n.left,right:n.right-(e.left+i.width),bottom:n.bottom-(e.top+i.height)},y.verbose("Distance from boundaries determined",e,o)),o},offsetParent:function(t){var i=(void 0!==t?t[0]:_[0]).parentNode,n=e(i);if(i)for(var o="none"===n.css("transform"),s="static"===n.css("position"),a=n.is("html");i&&!a&&s&&o;)i=i.parentNode,o="none"===(n=e(i)).css("transform"),s="static"===n.css("position"),a=n.is("html");return n&&n.length>0?n:e()},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(e){var t=e.split(" "),i=t[0],n=t[1],o={top:"bottom",bottom:"top",left:"right",right:"left"},s={left:"center",center:"right",right:"left"},a={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},r="top"==i||"bottom"==i,l=!1,c=!1,d=!1;return j||(y.verbose("All available positions available"),j=y.get.positions()),y.debug("Recording last position tried",e),j[e]=!0,"opposite"===w.prefer&&(d=(d=[o[i],n]).join(" "),l=!0===j[d],y.debug("Trying opposite strategy",d)),"adjacent"===w.prefer&&r&&(d=(d=[i,s[n]]).join(" "),c=!0===j[d],y.debug("Trying adjacent strategy",d)),(c||l)&&(y.debug("Using backup position",d),d=a[e]),d}},set:{position:function(e,t){if(0!==P.length&&0!==s.length){var i,n,o,a,r,l,c,d;if(t=t||y.get.calculations(),e=e||_.data(S.position)||w.position,i=_.data(S.offset)||w.offset,n=w.distanceAway,o=t.target,a=t.popup,r=t.parent,0===o.width&&0===o.height&&!y.is.svg(o.element))return y.debug("Popup target is hidden, no action taken"),!1;switch(w.inline&&(y.debug("Adding margin to calculation",o.margin),"left center"==e||"right center"==e?(i+=o.margin.top,n+=-o.margin.left):"top left"==e||"top center"==e||"top right"==e?(i+=o.margin.left,n-=o.margin.top):(i+=o.margin.left,n+=o.margin.top)),y.debug("Determining popup position from calculations",e,t),y.is.rtl()&&(e=e.replace(/left|right/g,function(e){return"left"==e?"right":"left"}),y.debug("RTL: Popup position updated",e)),I==w.maxSearchDepth&&"string"==typeof w.lastResort&&(e=w.lastResort),e){case"top left":l={top:"auto",bottom:r.height-o.top+n,left:o.left+i,right:"auto"};break;case"top center":l={bottom:r.height-o.top+n,left:o.left+o.width/2-a.width/2+i,top:"auto",right:"auto"};break;case"top right":l={bottom:r.height-o.top+n,right:r.width-o.left-o.width-i,top:"auto",left:"auto"};break;case"left center":l={top:o.top+o.height/2-a.height/2+i,right:r.width-o.left+n,left:"auto",bottom:"auto"};break;case"right center":l={top:o.top+o.height/2-a.height/2+i,left:o.left+o.width+n,bottom:"auto",right:"auto"};break;case"bottom left":l={top:o.top+o.height+n,left:o.left+i,bottom:"auto",right:"auto"};break;case"bottom center":l={top:o.top+o.height+n,left:o.left+o.width/2-a.width/2+i,bottom:"auto",right:"auto"};break;case"bottom right":l={top:o.top+o.height+n,right:r.width-o.left-o.width-i,left:"auto",bottom:"auto"}}if(void 0===l&&y.error(C.invalidPosition,e),y.debug("Calculated popup positioning values",l),s.css(l).removeClass(k.position).addClass(e).addClass(k.loading),c=y.get.popupOffset(),d=y.get.distanceFromBoundary(c,t),y.is.offstage(d,e)){if(y.debug("Position is outside viewport",e),I<w.maxSearchDepth)return I++,e=y.get.nextPosition(e),y.debug("Trying new position",e),!!s&&y.set.position(e,t);if(!w.lastResort)return y.debug("Popup could not find a position to display",s),y.error(C.cannotPlace,R),y.remove.attempts(),y.remove.loading(),y.reset(),w.onUnplaceable.call(s,R),!1;y.debug("No position found, showing with last position")}return y.debug("Position is on stage",e),y.remove.attempts(),y.remove.loading(),w.setFluidWidth&&y.is.fluid()&&y.set.fluidWidth(t),!0}y.error(C.notFound)},fluidWidth:function(e){e=e||y.get.calculations(),y.debug("Automatically setting element width to parent width",e.parent.width),s.css("width",e.container.width)},variation:function(e){(e=e||y.get.variation())&&y.has.popup()&&(y.verbose("Adding variation to popup",e),s.addClass(e))},visible:function(){_.addClass(k.visible)}},remove:{loading:function(){s.removeClass(k.loading)},variation:function(e){(e=e||y.get.variation())&&(y.verbose("Removing variation",e),s.removeClass(e))},visible:function(){_.removeClass(k.visible)},attempts:function(){y.verbose("Resetting all searched positions"),I=0,j=!1}},bind:{events:function(){y.debug("Binding popup events to module"),"click"==w.on&&_.on("click"+D,y.toggle),"hover"==w.on&&_.on("touchstart"+D,y.event.touchstart),y.get.startEvent()&&_.on(y.get.startEvent()+D,y.event.start).on(y.get.endEvent()+D,y.event.end),w.target&&y.debug("Target set to element",P),r.on("resize"+v,y.event.resize)},popup:function(){y.verbose("Allowing hover events on popup to prevent closing"),s&&y.has.popup()&&s.on("mouseenter"+D,y.event.start).on("mouseleave"+D,y.event.end)},close:function(){(!0===w.hideOnScroll||"auto"==w.hideOnScroll&&"click"!=w.on)&&O.one(y.get.scrollEvent()+v,y.event.hideGracefully),"hover"==w.on&&E&&(y.verbose("Binding popup close event to document"),a.on("touchstart"+v,function(e){y.verbose("Touched away from popup"),y.event.hideGracefully.call(R,e)})),"click"==w.on&&w.closable&&(y.verbose("Binding popup close event to document"),a.on("click"+v,function(e){y.verbose("Clicked away from popup"),y.event.hideGracefully.call(R,e)}))}},unbind:{events:function(){r.off(v),_.off(D)},close:function(){a.off(v),O.off(v)}},has:{popup:function(){return s&&s.length>0}},is:{offstage:function(t,i){var n=[];return e.each(t,function(e,t){t<-w.jitter&&(y.debug("Position exceeds allowable distance from edge",e,t,i),n.push(e))}),n.length>0},svg:function(e){return y.supports.svg()&&e instanceof SVGGraphicsElement},active:function(){return _.hasClass(k.active)},animating:function(){return void 0!==s&&s.hasClass(k.animating)},fluid:function(){return void 0!==s&&s.hasClass(k.fluid)},visible:function(){return void 0!==s&&s.hasClass(k.visible)},dropdown:function(){return _.hasClass(k.dropdown)},hidden:function(){return!y.is.visible()},rtl:function(){return"rtl"==_.css("direction")}},reset:function(){y.remove.visible(),w.preserve?void 0!==e.fn.transition&&s.transition("remove transition"):y.removePopup()},setting:function(t,i){if(e.isPlainObject(t))e.extend(!0,w,t);else{if(void 0===i)return w[t];w[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(void 0===i)return y[t];y[t]=i}},debug:function(){!w.silent&&w.debug&&(w.performance?y.performance.log(arguments):(y.debug=Function.prototype.bind.call(console.info,console,w.name+":"),y.debug.apply(console,arguments)))},verbose:function(){!w.silent&&w.verbose&&w.debug&&(w.performance?y.performance.log(arguments):(y.verbose=Function.prototype.bind.call(console.info,console,w.name+":"),y.verbose.apply(console,arguments)))},error:function(){w.silent||(y.error=Function.prototype.bind.call(console.error,console,w.name+":"),y.error.apply(console,arguments))},performance:{log:function(e){var t,i;w.performance&&(i=(t=(new Date).getTime())-(d||t),d=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:R,"Execution Time":i})),clearTimeout(y.performance.timer),y.performance.timer=setTimeout(y.performance.display,500)},display:function(){var t=w.name+":",i=0;d=!1,clearTimeout(y.performance.timer),e.each(u,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",c&&(t+=" '"+c+"'"),(void 0!==console.group||void 0!==console.table)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,i,n){var s,a,r,l=F;return i=i||f,n=R||n,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]&&(a=l[n],!1);l=l[n]}})),e.isFunction(a)?r=a.apply(n,i):void 0!==a&&(r=a),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),a}},p?(void 0===F&&y.initialize(),y.invoke(h)):(void 0!==F&&F.invoke("destroy"),y.initialize())}),void 0!==o?o:this},e.fn.popup.settings={name:"Popup",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"popup",observeChanges:!0,onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onUnplaceable:function(){},onHidden:function(){},on:"hover",boundary:t,addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",scrollContext:t,prefer:"opposite",lastResort:!1,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(e){var t=/[&<>"'`]/g,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return/[&<>"'`]/.test(e)?e.replace(t,function(e){return i[e]}):e},popup:function(t){var i="",n=e.fn.popup.settings.templates.escape;return void 0!==typeof t&&(void 0!==typeof t.title&&t.title&&(t.title=n(t.title),i+='<div class="header">'+t.title+"</div>"),void 0!==typeof t.content&&t.content&&(t.content=n(t.content),i+='<div class="content">'+t.content+"</div>")),i}}}}(jQuery,window,document),function(e,t,i,n){"use strict";void 0!==(t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")())&&t.Math==Math||("undefined"!=typeof self&&self.Math==Math?self:Function("return this")());e.fn.progress=function(t){var n,o=e(this),s=o.selector||"",a=(new Date).getTime(),r=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1);return o.each(function(){var o,u,h=e.isPlainObject(t)?e.extend(!0,{},e.fn.progress.settings,t):e.extend({},e.fn.progress.settings),p=h.className,f=h.metadata,m=h.namespace,g=h.selector,v=h.error,b="."+m,y="module-"+m,w=e(this),x=e(this).find(g.bar),k=e(this).find(g.progress),C=e(this).find(g.label),S=this,T=w.data(y),D=!1;u={initialize:function(){u.debug("Initializing progress bar",h),u.set.duration(),u.set.transitionEvent(),u.read.metadata(),u.read.settings(),u.instantiate()},instantiate:function(){u.verbose("Storing instance of progress",u),T=u,w.data(y,u)},destroy:function(){u.verbose("Destroying previous progress for",w),clearInterval(T.interval),u.remove.state(),w.removeData(y),T=void 0},reset:function(){u.remove.nextValue(),u.update.progress(0)},complete:function(){(void 0===u.percent||u.percent<100)&&(u.remove.progressPoll(),u.set.percent(100))},read:{metadata:function(){var e={percent:w.data(f.percent),total:w.data(f.total),value:w.data(f.value)};e.percent&&(u.debug("Current percent value set from metadata",e.percent),u.set.percent(e.percent)),e.total&&(u.debug("Total value set from metadata",e.total),u.set.total(e.total)),e.value&&(u.debug("Current value set from metadata",e.value),u.set.value(e.value),u.set.progress(e.value))},settings:function(){!1!==h.total&&(u.debug("Current total set in settings",h.total),u.set.total(h.total)),!1!==h.value&&(u.debug("Current value set in settings",h.value),u.set.value(h.value),u.set.progress(u.value)),!1!==h.percent&&(u.debug("Current percent set in settings",h.percent),u.set.percent(h.percent))}},increment:function(e){var t,i;u.has.total()?i=(t=u.get.value())+(e=e||1):(i=(t=u.get.percent())+(e=e||u.get.randomValue()),100,u.debug("Incrementing percentage by",t,i)),i=u.get.normalizedValue(i),u.set.progress(i)},decrement:function(e){var t,i;u.get.total()?(i=(t=u.get.value())-(e=e||1),u.debug("Decrementing value by",e,t)):(i=(t=u.get.percent())-(e=e||u.get.randomValue()),u.debug("Decrementing percentage by",e,t)),i=u.get.normalizedValue(i),u.set.progress(i)},has:{progressPoll:function(){return u.progressPoll},total:function(){return!1!==u.get.total()}},get:{text:function(e){var t=u.value||0,i=u.total||0,n=D?u.get.displayPercent():u.percent||0,o=u.total>0?i-t:100-n;return e=e||"",e=e.replace("{value}",t).replace("{total}",i).replace("{left}",o).replace("{percent}",n),u.verbose("Adding variables to progress bar text",e),e},normalizedValue:function(e){if(e<0)return u.debug("Value cannot decrement below 0"),0;if(u.has.total()){if(e>u.total)return u.debug("Value cannot increment above total",u.total),u.total}else if(e>100)return u.debug("Value cannot increment above 100 percent"),100;return e},updateInterval:function(){return"auto"==h.updateInterval?h.duration:h.updateInterval},randomValue:function(){return u.debug("Generating random increment percentage"),Math.floor(Math.random()*h.random.max+h.random.min)},numericValue:function(e){return"string"==typeof e?""!==e.replace(/[^\d.]/g,"")&&+e.replace(/[^\d.]/g,""):e},transitionEnd:function(){var e,t=i.createElement("element"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]},displayPercent:function(){var e=x.width(),t=w.width(),i=e>parseInt(x.css("min-width"),10)?e/t*100:u.percent;return h.precision>0?Math.round(i*(10*h.precision))/(10*h.precision):Math.round(i)},percent:function(){return u.percent||0},value:function(){return u.nextValue||u.value||0},total:function(){return u.total||!1}},create:{progressPoll:function(){u.progressPoll=setTimeout(function(){u.update.toNextValue(),u.remove.progressPoll()},u.get.updateInterval())}},is:{complete:function(){return u.is.success()||u.is.warning()||u.is.error()},success:function(){return w.hasClass(p.success)},warning:function(){return w.hasClass(p.warning)},error:function(){return w.hasClass(p.error)},active:function(){return w.hasClass(p.active)},visible:function(){return w.is(":visible")}},remove:{progressPoll:function(){u.verbose("Removing progress poll timer"),u.progressPoll&&(clearTimeout(u.progressPoll),delete u.progressPoll)},nextValue:function(){u.verbose("Removing progress value stored for next update"),delete u.nextValue},state:function(){u.verbose("Removing stored state"),delete u.total,delete u.percent,delete u.value},active:function(){u.verbose("Removing active state"),w.removeClass(p.active)},success:function(){u.verbose("Removing success state"),w.removeClass(p.success)},warning:function(){u.verbose("Removing warning state"),w.removeClass(p.warning)},error:function(){u.verbose("Removing error state"),w.removeClass(p.error)}},set:{barWidth:function(e){e>100?u.error(v.tooHigh,e):e<0?u.error(v.tooLow,e):(x.css("width",e+"%"),w.attr("data-percent",parseInt(e,10)))},duration:function(e){e="number"==typeof(e=e||h.duration)?e+"ms":e,u.verbose("Setting progress bar transition duration",e),x.css({"transition-duration":e})},percent:function(e){e="string"==typeof e?+e.replace("%",""):e,e=h.precision>0?Math.round(e*(10*h.precision))/(10*h.precision):Math.round(e),u.percent=e,u.has.total()||(u.value=h.precision>0?Math.round(e/100*u.total*(10*h.precision))/(10*h.precision):Math.round(e/100*u.total*10)/10,h.limitValues&&(u.value=u.value>100?100:u.value<0?0:u.value)),u.set.barWidth(e),u.set.labelInterval(),u.set.labels(),h.onChange.call(S,e,u.value,u.total)},labelInterval:function(){clearInterval(u.interval),x.one(o+b,function(){u.verbose("Bar finished animating, removing continuous label updates"),clearInterval(u.interval),D=!1,u.set.labels()}),D=!0,u.interval=setInterval(function(){e.contains(i.documentElement,S)||(clearInterval(u.interval),D=!1),u.set.labels()},h.framerate)},labels:function(){u.verbose("Setting both bar progress and outer label text"),u.set.barLabel(),u.set.state()},label:function(e){(e=e||"")&&(e=u.get.text(e),u.verbose("Setting label to text",e),C.text(e))},state:function(e){100===(e=void 0!==e?e:u.percent)?h.autoSuccess&&!(u.is.warning()||u.is.error()||u.is.success())?(u.set.success(),u.debug("Automatically triggering success at 100%")):(u.verbose("Reached 100% removing active state"),u.remove.active(),u.remove.progressPoll()):e>0?(u.verbose("Adjusting active progress bar label",e),u.set.active()):(u.remove.active(),u.set.label(h.text.active))},barLabel:function(e){void 0!==e?k.text(u.get.text(e)):"ratio"==h.label&&u.total?(u.verbose("Adding ratio to bar label"),k.text(u.get.text(h.text.ratio))):"percent"==h.label&&(u.verbose("Adding percentage to bar label"),k.text(u.get.text(h.text.percent)))},active:function(e){e=e||h.text.active,u.debug("Setting active state"),h.showActivity&&!u.is.active()&&w.addClass(p.active),u.remove.warning(),u.remove.error(),u.remove.success(),(e=h.onLabelUpdate("active",e,u.value,u.total))&&u.set.label(e),x.one(o+b,function(){h.onActive.call(S,u.value,u.total)})},success:function(e){e=e||h.text.success||h.text.active,u.debug("Setting success state"),w.addClass(p.success),u.remove.active(),u.remove.warning(),u.remove.error(),u.complete(),h.text.success?(e=h.onLabelUpdate("success",e,u.value,u.total),u.set.label(e)):(e=h.onLabelUpdate("active",e,u.value,u.total),u.set.label(e)),x.one(o+b,function(){h.onSuccess.call(S,u.total)})},warning:function(e){e=e||h.text.warning,u.debug("Setting warning state"),w.addClass(p.warning),u.remove.active(),u.remove.success(),u.remove.error(),u.complete(),(e=h.onLabelUpdate("warning",e,u.value,u.total))&&u.set.label(e),x.one(o+b,function(){h.onWarning.call(S,u.value,u.total)})},error:function(e){e=e||h.text.error,u.debug("Setting error state"),w.addClass(p.error),u.remove.active(),u.remove.success(),u.remove.warning(),u.complete(),(e=h.onLabelUpdate("error",e,u.value,u.total))&&u.set.label(e),x.one(o+b,function(){h.onError.call(S,u.value,u.total)})},transitionEvent:function(){o=u.get.transitionEnd()},total:function(e){u.total=e},value:function(e){u.value=e},progress:function(e){u.has.progressPoll()?(u.debug("Updated within interval, setting next update to use new value",e),u.set.nextValue(e)):(u.debug("First update in progress update interval, immediately updating",e),u.update.progress(e),u.create.progressPoll())},nextValue:function(e){u.nextValue=e}},update:{toNextValue:function(){var e=u.nextValue;e&&(u.debug("Update interval complete using last updated value",e),u.update.progress(e),u.remove.nextValue())},progress:function(e){var t;!1===(e=u.get.numericValue(e))&&u.error(v.nonNumeric,e),e=u.get.normalizedValue(e),u.has.total()?(u.set.value(e),t=e/u.total*100,u.debug("Calculating percent complete from total",t),u.set.percent(t)):(t=e,u.debug("Setting value to exact percentage value",t),u.set.percent(t))}},setting:function(t,i){if(u.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===i)return h[t];e.isPlainObject(h[t])?e.extend(!0,h[t],i):h[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,u,t);else{if(void 0===i)return u[t];u[t]=i}},debug:function(){!h.silent&&h.debug&&(h.performance?u.performance.log(arguments):(u.debug=Function.prototype.bind.call(console.info,console,h.name+":"),u.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?u.performance.log(arguments):(u.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),u.verbose.apply(console,arguments)))},error:function(){h.silent||(u.error=Function.prototype.bind.call(console.error,console,h.name+":"),u.error.apply(console,arguments))},performance:{log:function(e){var t,i;h.performance&&(i=(t=(new Date).getTime())-(a||t),a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":i})),clearTimeout(u.performance.timer),u.performance.timer=setTimeout(u.performance.display,500)},display:function(){var t=h.name+":",i=0;a=!1,clearTimeout(u.performance.timer),e.each(r,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",s&&(t+=" '"+s+"'"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,i,o){var s,a,r,l=T;return i=i||d,o=S||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]?(a=l[n],!1):(u.error(v.method,t),!1);l=l[n]}})),e.isFunction(a)?r=a.apply(o,i):void 0!==a&&(r=a),e.isArray(n)?n.push(r):void 0!==n?n=[n,r]:void 0!==r&&(n=r),a}},c?(void 0===T&&u.initialize(),u.invoke(l)):(void 0!==T&&T.invoke("destroy"),u.initialize())}),void 0!==n?n:this},e.fn.progress.settings={name:"Progress",namespace:"progress",silent:!1,debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,updateInterval:"auto",autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1e3/30,percent:!1,total:!1,value:!1,onLabelUpdate:function(e,t,i,n){return t},onChange:function(e,t,i){},onSuccess:function(e){},onActive:function(e,t){},onError:function(e,t){},onWarning:function(e,t){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document),function(e,t,i,n){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.rating=function(t){var i,n=e(this),o=n.selector||"",s=(new Date).getTime(),a=[],r=arguments[0],l="string"==typeof r,c=[].slice.call(arguments,1);return n.each(function(){var d,u,h=e.isPlainObject(t)?e.extend(!0,{},e.fn.rating.settings,t):e.extend({},e.fn.rating.settings),p=h.namespace,f=h.className,m=h.metadata,g=h.selector,v=(h.error,"."+p),b="module-"+p,y=this,w=e(this).data(b),x=e(this),k=x.find(g.icon);u={initialize:function(){u.verbose("Initializing rating module",h),0===k.length&&u.setup.layout(),h.interactive?u.enable():u.disable(),u.set.initialLoad(),u.set.rating(u.get.initialRating()),u.remove.initialLoad(),u.instantiate()},instantiate:function(){u.verbose("Instantiating module",h),w=u,x.data(b,u)},destroy:function(){u.verbose("Destroying previous instance",w),u.remove.events(),x.removeData(b)},refresh:function(){k=x.find(g.icon)},setup:{layout:function(){var t=u.get.maxRating(),i=e.fn.rating.settings.templates.icon(t);u.debug("Generating icon html dynamically"),x.html(i),u.refresh()}},event:{mouseenter:function(){var t=e(this);t.nextAll().removeClass(f.selected),x.addClass(f.selected),t.addClass(f.selected).prevAll().addClass(f.selected)},mouseleave:function(){x.removeClass(f.selected),k.removeClass(f.selected)},click:function(){var t=e(this),i=u.get.rating(),n=k.index(t)+1;("auto"==h.clearable?1===k.length:h.clearable)&&i==n?u.clearRating():u.set.rating(n)}},clearRating:function(){u.debug("Clearing current rating"),u.set.rating(0)},bind:{events:function(){u.verbose("Binding events"),x.on("mouseenter"+v,g.icon,u.event.mouseenter).on("mouseleave"+v,g.icon,u.event.mouseleave).on("click"+v,g.icon,u.event.click)}},remove:{events:function(){u.verbose("Removing events"),x.off(v)},initialLoad:function(){d=!1}},enable:function(){u.debug("Setting rating to interactive mode"),u.bind.events(),x.removeClass(f.disabled)},disable:function(){u.debug("Setting rating to read-only mode"),u.remove.events(),x.addClass(f.disabled)},is:{initialLoad:function(){return d}},get:{initialRating:function(){return void 0!==x.data(m.rating)?(x.removeData(m.rating),x.data(m.rating)):h.initialRating},maxRating:function(){return void 0!==x.data(m.maxRating)?(x.removeData(m.maxRating),x.data(m.maxRating)):h.maxRating},rating:function(){var e=k.filter("."+f.active).length;return u.verbose("Current rating retrieved",e),e}},set:{rating:function(e){var t=e-1>=0?e-1:0,i=k.eq(t);x.removeClass(f.selected),k.removeClass(f.selected).removeClass(f.active),e>0&&(u.verbose("Setting current rating to",e),i.prevAll().addBack().addClass(f.active)),u.is.initialLoad()||h.onRate.call(y,e)},initialLoad:function(){d=!0}},setting:function(t,i){if(u.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===i)return h[t];e.isPlainObject(h[t])?e.extend(!0,h[t],i):h[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,u,t);else{if(void 0===i)return u[t];u[t]=i}},debug:function(){!h.silent&&h.debug&&(h.performance?u.performance.log(arguments):(u.debug=Function.prototype.bind.call(console.info,console,h.name+":"),u.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?u.performance.log(arguments):(u.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),u.verbose.apply(console,arguments)))},error:function(){h.silent||(u.error=Function.prototype.bind.call(console.error,console,h.name+":"),u.error.apply(console,arguments))},performance:{log:function(e){var t,i;h.performance&&(i=(t=(new Date).getTime())-(s||t),s=t,a.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:y,"Execution Time":i})),clearTimeout(u.performance.timer),u.performance.timer=setTimeout(u.performance.display,500)},display:function(){var t=h.name+":",i=0;s=!1,clearTimeout(u.performance.timer),e.each(a,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",o&&(t+=" '"+o+"'"),n.length>1&&(t+=" ("+n.length+")"),(void 0!==console.group||void 0!==console.table)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,n,o){var s,a,r,l=w;return n=n||c,o=y||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]&&(a=l[n],!1);l=l[n]}})),e.isFunction(a)?r=a.apply(o,n):void 0!==a&&(r=a),e.isArray(i)?i.push(r):void 0!==i?i=[i,r]:void 0!==r&&(i=r),a}},l?(void 0===w&&u.initialize(),u.invoke(r)):(void 0!==w&&w.invoke("destroy"),u.initialize())}),void 0!==i?i:this},e.fn.rating.settings={name:"Rating",namespace:"rating",slent:!1,debug:!1,verbose:!1,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",fireOnInit:!1,onRate:function(e){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(e){for(var t=1,i="";t<=e;)i+='<i class="icon"></i>',t++;return i}}}}(jQuery,window,document),function(e,t,i,n){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.search=function(n){var o,s=e(this),a=s.selector||"",r=(new Date).getTime(),l=[],c=arguments[0],d="string"==typeof c,u=[].slice.call(arguments,1);return e(this).each(function(){var h,p=e.isPlainObject(n)?e.extend(!0,{},e.fn.search.settings,n):e.extend({},e.fn.search.settings),f=p.className,m=p.metadata,g=p.regExp,v=p.fields,b=p.selector,y=p.error,w=p.namespace,x="."+w,k=w+"-module",C=e(this),S=C.find(b.prompt),T=C.find(b.searchButton),D=C.find(b.results),$=C.find(b.result),_=C.find(b.category),M=this,O=C.data(k),A=!1;h={initialize:function(){h.verbose("Initializing module"),h.determine.searchFields(),h.bind.events(),h.set.type(),h.create.results(),h.instantiate()},instantiate:function(){h.verbose("Storing instance of module",h),O=h,C.data(k,h)},destroy:function(){h.verbose("Destroying instance"),C.off(x).removeData(k)},refresh:function(){h.debug("Refreshing selector cache"),S=C.find(b.prompt),T=C.find(b.searchButton),_=C.find(b.category),D=C.find(b.results),$=C.find(b.result)},refreshResults:function(){D=C.find(b.results),$=C.find(b.result)},bind:{events:function(){h.verbose("Binding events to search"),p.automatic&&(C.on(h.get.inputEvent()+x,b.prompt,h.event.input),S.attr("autocomplete","off")),C.on("focus"+x,b.prompt,h.event.focus).on("blur"+x,b.prompt,h.event.blur).on("keydown"+x,b.prompt,h.handleKeyboard).on("click"+x,b.searchButton,h.query).on("mousedown"+x,b.results,h.event.result.mousedown).on("mouseup"+x,b.results,h.event.result.mouseup).on("click"+x,b.result,h.event.result.click)}},determine:{searchFields:function(){n&&void 0!==n.searchFields&&(p.searchFields=n.searchFields)}},event:{input:function(){clearTimeout(h.timer),h.timer=setTimeout(h.query,p.searchDelay)},focus:function(){h.set.focus(),h.has.minimumCharacters()&&(h.query(),h.can.show()&&h.showResults())},blur:function(e){var t=function(){h.cancel.query(),h.remove.focus(),h.timer=setTimeout(h.hideResults,p.hideDelay)};i.activeElement===this||(h.resultsClicked?(h.debug("Determining if user action caused search to close"),C.one("click.close"+x,b.results,function(e){h.is.inMessage(e)||A?S.focus():(A=!1,h.is.animating()||h.is.hidden()||t())})):(h.debug("Input blurred without user action, closing results"),t()))},result:{mousedown:function(){h.resultsClicked=!0},mouseup:function(){h.resultsClicked=!1},click:function(i){h.debug("Search result selected");var n=e(this),o=n.find(b.title).eq(0),s=n.is("a[href]")?n:n.find("a[href]").eq(0),a=s.attr("href")||!1,r=s.attr("target")||!1,l=(o.html(),o.length>0&&o.text()),c=h.get.results(),d=n.data(m.result)||h.get.result(l,c);if(e.isFunction(p.onSelect)&&!1===p.onSelect.call(M,d,c))return h.debug("Custom onSelect callback cancelled default select action"),void(A=!0);h.hideResults(),l&&h.set.value(l),a&&(h.verbose("Opening search link found in result",s),"_blank"==r||i.ctrlKey?t.open(a):t.location.href=a)}}},handleKeyboard:function(e){var t,i=C.find(b.result),n=C.find(b.category),o=i.index(i.filter("."+f.active)),s=i.length,a=e.which,r={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40};if(a==r.escape&&(h.verbose("Escape key pressed, blurring search field"),h.trigger.blur()),h.is.visible())if(a==r.enter){if(h.verbose("Enter key pressed, selecting active result"),i.filter("."+f.active).length>0)return h.event.result.click.call(i.filter("."+f.active),e),e.preventDefault(),!1}else a==r.upArrow?(h.verbose("Up key pressed, changing active result"),t=o-1<0?o:o-1,n.removeClass(f.active),i.removeClass(f.active).eq(t).addClass(f.active).closest(n).addClass(f.active),e.preventDefault()):a==r.downArrow&&(h.verbose("Down key pressed, changing active result"),t=o+1>=s?o:o+1,n.removeClass(f.active),i.removeClass(f.active).eq(t).addClass(f.active).closest(n).addClass(f.active),e.preventDefault());else a==r.enter&&(h.verbose("Enter key pressed, executing query"),h.query(),h.set.buttonPressed(),S.one("keyup",h.remove.buttonFocus))},setup:{api:function(t){var i={debug:p.debug,on:!1,cache:!0,action:"search",urlData:{query:t},onSuccess:function(e){h.parse.response.call(M,e,t)},onAbort:function(e){},onFailure:function(){h.displayMessage(y.serverError)},onError:h.error};e.extend(!0,i,p.apiSettings),h.verbose("Setting up API request",i),C.api(i)}},can:{useAPI:function(){return void 0!==e.fn.api},show:function(){return h.is.focused()&&!h.is.visible()&&!h.is.empty()},transition:function(){return p.transition&&void 0!==e.fn.transition&&C.transition("is supported")}},is:{animating:function(){return D.hasClass(f.animating)},hidden:function(){return D.hasClass(f.hidden)},inMessage:function(t){return t.target&&e(t.target).closest(b.message).length>0},empty:function(){return""===D.html()},visible:function(){return D.filter(":visible").length>0},focused:function(){return S.filter(":focus").length>0}},trigger:{blur:function(){var e=i.createEvent("HTMLEvents"),t=S[0];t&&(h.verbose("Triggering native blur event"),e.initEvent("blur",!1,!1),t.dispatchEvent(e))}},get:{inputEvent:function(){var e=S[0];return void 0!==e&&void 0!==e.oninput?"input":void 0!==e&&void 0!==e.onpropertychange?"propertychange":"keyup"},value:function(){return S.val()},results:function(){return C.data(m.results)},result:function(t,i){var n=["title","id"],o=!1;return t=void 0!==t?t:h.get.value(),i=void 0!==i?i:h.get.results(),"category"===p.type?(h.debug("Finding result that matches",t),e.each(i,function(i,s){if(e.isArray(s.results)&&(o=h.search.object(t,s.results,n)[0]))return!1})):(h.debug("Finding result in results object",t),o=h.search.object(t,i,n)[0]),o||!1}},select:{firstResult:function(){h.verbose("Selecting first result"),$.first().addClass(f.active)}},set:{focus:function(){C.addClass(f.focus)},loading:function(){C.addClass(f.loading)},value:function(e){h.verbose("Setting search input value",e),S.val(e)},type:function(e){e=e||p.type,"category"==p.type&&C.addClass(p.type)},buttonPressed:function(){T.addClass(f.pressed)}},remove:{loading:function(){C.removeClass(f.loading)},focus:function(){C.removeClass(f.focus)},buttonPressed:function(){T.removeClass(f.pressed)}},query:function(){var t=h.get.value(),i=h.read.cache(t);h.has.minimumCharacters()?(i?(h.debug("Reading result from cache",t),h.save.results(i.results),h.addResults(i.html),h.inject.id(i.results)):(h.debug("Querying for",t),e.isPlainObject(p.source)||e.isArray(p.source)?h.search.local(t):h.can.useAPI()?h.search.remote(t):h.error(y.source)),p.onSearchQuery.call(M,t)):h.hideResults()},search:{local:function(e){var t,i=h.search.object(e,p.content);h.set.loading(),h.save.results(i),h.debug("Returned local search results",i),t=h.generateResults({results:i}),h.remove.loading(),h.addResults(t),h.inject.id(i),h.write.cache(e,{html:t,results:i})},remote:function(e){C.api("is loading")&&C.api("abort"),h.setup.api(e),C.api("query")},object:function(t,i,n){var o=[],s=[],a=t.toString().replace(g.escape,"\\$&"),r=new RegExp(g.beginsWith+a,"i"),l=function(t,i){var n=-1==e.inArray(i,o),a=-1==e.inArray(i,s);n&&a&&t.push(i)};return i=i||p.source,n=void 0!==n?n:p.searchFields,e.isArray(n)||(n=[n]),void 0===i||!1===i?(h.error(y.source),[]):(e.each(n,function(n,a){e.each(i,function(e,i){"string"==typeof i[a]&&(-1!==i[a].search(r)?l(o,i):p.searchFullText&&h.fuzzySearch(t,i[a])&&l(s,i))})}),e.merge(o,s))}},fuzzySearch:function(e,t){var i=t.length,n=e.length;if("string"!=typeof e)return!1;if(e=e.toLowerCase(),t=t.toLowerCase(),n>i)return!1;if(n===i)return e===t;e:for(var o=0,s=0;o<n;o++){for(var a=e.charCodeAt(o);s<i;)if(t.charCodeAt(s++)===a)continue e;return!1}return!0},parse:{response:function(e,t){var i=h.generateResults(e);h.verbose("Parsing server response",e),void 0!==e&&void 0!==t&&void 0!==e[v.results]&&(h.addResults(i),h.inject.id(e[v.results]),h.write.cache(t,{html:i,results:e[v.results]}),h.save.results(e[v.results]))}},cancel:{query:function(){h.can.useAPI()&&C.api("abort")}},has:{minimumCharacters:function(){return h.get.value().length>=p.minCharacters}},clear:{cache:function(e){var t=C.data(m.cache);e?e&&t&&t[e]&&(h.debug("Removing value from cache",e),delete t[e],C.data(m.cache,t)):(h.debug("Clearing cache",e),C.removeData(m.cache))}},read:{cache:function(e){var t=C.data(m.cache);return!!p.cache&&(h.verbose("Checking cache for generated html for query",e),"object"==typeof t&&void 0!==t[e]&&t[e])}},create:{id:function(e,t){var i,n=e+1;return void 0!==t?(i=String.fromCharCode(97+t)+n,h.verbose("Creating category result id",i)):(i=n,h.verbose("Creating result id",i)),i},results:function(){0===D.length&&(D=e("<div />").addClass(f.results).appendTo(C))}},inject:{result:function(e,t,i){h.verbose("Injecting result into results");var n=void 0!==i?D.children().eq(i).children(b.result).eq(t):D.children(b.result).eq(t);h.verbose("Injecting results metadata",n),n.data(m.result,e)},id:function(t){h.debug("Injecting unique ids into results");var i=0,n=0;return"category"===p.type?e.each(t,function(t,o){n=0,e.each(o.results,function(e,t){var s=o.results[e];void 0===s.id&&(s.id=h.create.id(n,i)),h.inject.result(s,n,i),n++}),i++}):e.each(t,function(e,i){var o=t[e];void 0===o.id&&(o.id=h.create.id(n)),h.inject.result(o,n),n++}),t}},save:{results:function(e){h.verbose("Saving current search results to metadata",e),C.data(m.results,e)}},write:{cache:function(e,t){var i=void 0!==C.data(m.cache)?C.data(m.cache):{};p.cache&&(h.verbose("Writing generated html to cache",e,t),i[e]=t,C.data(m.cache,i))}},addResults:function(t){if(e.isFunction(p.onResultsAdd)&&!1===p.onResultsAdd.call(D,t))return h.debug("onResultsAdd callback cancelled default action"),!1;t?(D.html(t),h.refreshResults(),p.selectFirstResult&&h.select.firstResult(),h.showResults()):h.hideResults()},showResults:function(){h.is.visible()||(h.can.transition()?(h.debug("Showing results with css animations"),D.transition({animation:p.transition+" in",debug:p.debug,verbose:p.verbose,duration:p.duration,queue:!0})):(h.debug("Showing results with javascript"),D.stop().fadeIn(p.duration,p.easing)),p.onResultsOpen.call(D))},hideResults:function(){h.is.visible()&&(h.can.transition()?(h.debug("Hiding results with css animations"),D.transition({animation:p.transition+" out",debug:p.debug,verbose:p.verbose,duration:p.duration,queue:!0})):(h.debug("Hiding results with javascript"),D.stop().fadeOut(p.duration,p.easing)),p.onResultsClose.call(D))},generateResults:function(t){h.debug("Generating html from response",t);var i=p.templates[p.type],n=e.isPlainObject(t[v.results])&&!e.isEmptyObject(t[v.results]),o=e.isArray(t[v.results])&&t[v.results].length>0,s="";return n||o?(p.maxResults>0&&(n?"standard"==p.type&&h.error(y.maxResults):t[v.results]=t[v.results].slice(0,p.maxResults)),e.isFunction(i)?s=i(t,v):h.error(y.noTemplate,!1)):p.showNoResults&&(s=h.displayMessage(y.noResults,"empty")),p.onResults.call(M,t),s},displayMessage:function(e,t){return t=t||"standard",h.debug("Displaying message",e,t),h.addResults(p.templates.message(e,t)),p.templates.message(e,t)},setting:function(t,i){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(void 0===i)return p[t];p[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===i)return h[t];h[t]=i}},debug:function(){!p.silent&&p.debug&&(p.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,p.name+":"),h.debug.apply(console,arguments)))},verbose:function(){!p.silent&&p.verbose&&p.debug&&(p.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),h.verbose.apply(console,arguments)))},error:function(){p.silent||(h.error=Function.prototype.bind.call(console.error,console,p.name+":"),h.error.apply(console,arguments))},performance:{log:function(e){var t,i;p.performance&&(i=(t=(new Date).getTime())-(r||t),r=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:M,"Execution Time":i})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var t=p.name+":",i=0;r=!1,clearTimeout(h.performance.timer),e.each(l,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",a&&(t+=" '"+a+"'"),s.length>1&&(t+=" ("+s.length+")"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,i,n){var s,a,r,l=O;return i=i||u,n=M||n,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]&&(a=l[n],!1);l=l[n]}})),e.isFunction(a)?r=a.apply(n,i):void 0!==a&&(r=a),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),a}},d?(void 0===O&&h.initialize(),h.invoke(c)):(void 0!==O&&O.invoke("destroy"),h.initialize())}),void 0!==o?o:this},e.fn.search.settings={name:"Search",namespace:"search",silent:!1,debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,selectFirstResult:!1,apiSettings:!1,source:!1,searchFields:["title","description"],displayField:"",searchFullText:!0,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,showNoResults:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(e){},onResults:function(e){},onResultsOpen:function(){},onResultsClose:function(){},className:{animating:"animating",active:"active",empty:"empty",focus:"focus",hidden:"hidden",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},fields:{categories:"results",categoryName:"name",categoryResults:"results",description:"description",image:"image",price:"price",results:"results",title:"title",url:"url",action:"action",actionText:"text",actionURL:"url"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",message:".results > .message",category:".category",result:".result",title:".title, .name"},templates:{escape:function(e){var t=/[&<>"'`]/g,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return/[&<>"'`]/.test(e)?e.replace(t,function(e){return i[e]}):e},message:function(e,t){var i="";return void 0!==e&&void 0!==t&&(i+='<div class="message '+t+'">',i+="empty"==t?'<div class="header">Geen resultaten</div class="header"><div class="description">'+e+'</div class="description">':' <div class="description">'+e+"</div>",i+="</div>"),i},category:function(t,i){var n="";e.fn.search.settings.templates.escape;return void 0!==t[i.categoryResults]&&(e.each(t[i.categoryResults],function(t,o){void 0!==o[i.results]&&o.results.length>0&&(n+='<div class="category">',void 0!==o[i.categoryName]&&(n+='<div class="name">'+o[i.categoryName]+"</div>"),e.each(o.results,function(e,t){t[i.url]?n+='<a class="result" href="'+t[i.url]+'">':n+='<a class="result">',void 0!==t[i.image]&&(n+='<div class="image"> <img src="'+t[i.image]+'"></div>'),n+='<div class="content">',void 0!==t[i.price]&&(n+='<div class="price">'+t[i.price]+"</div>"),void 0!==t[i.title]&&(n+='<div class="title">'+t[i.title]+"</div>"),void 0!==t[i.description]&&(n+='<div class="description">'+t[i.description]+"</div>"),n+="</div>",n+="</a>"}),n+="</div>")}),t[i.action]&&(n+='<a href="'+t[i.action][i.actionURL]+'" class="action">'+t[i.action][i.actionText]+"</a>"),n)},standard:function(t,i){var n="";return void 0!==t[i.results]&&(e.each(t[i.results],function(e,t){t[i.url]?n+='<a class="result" href="'+t[i.url]+'">':n+='<a class="result">',void 0!==t[i.image]&&(n+='<div class="image"> <img src="'+t[i.image]+'"></div>'),n+='<div class="content">',void 0!==t[i.price]&&(n+='<div class="price">'+t[i.price]+"</div>"),void 0!==t[i.title]&&(n+='<div class="title">'+t[i.title]+"</div>"),void 0!==t[i.description]&&(n+='<div class="description">'+t[i.description]+"</div>"),n+="</div>",n+="</a>"}),t[i.action]&&(n+='<a href="'+t[i.action][i.actionURL]+'" class="action">'+t[i.action][i.actionText]+"</a>"),n)}}}}(jQuery,window,document),function(e,t,i,n){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.shape=function(n){var o,s=e(this),a=(e("body"),(new Date).getTime()),r=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1),u=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return s.each(function(){var t,h,p,f=s.selector||"",m=e.isPlainObject(n)?e.extend(!0,{},e.fn.shape.settings,n):e.extend({},e.fn.shape.settings),g=m.namespace,v=m.selector,b=m.error,y=m.className,w="."+g,x="module-"+g,k=e(this),C=k.find(v.sides),S=k.find(v.side),T=!1,D=this,$=k.data(x);p={initialize:function(){p.verbose("Initializing module for",D),p.set.defaultSide(),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),$=p,k.data(x,$)},destroy:function(){p.verbose("Destroying previous module for",D),k.removeData(x).off(w)},refresh:function(){p.verbose("Refreshing selector cache for",D),k=e(D),C=e(this).find(v.shape),S=e(this).find(v.side)},repaint:function(){p.verbose("Forcing repaint event");(C[0]||i.createElement("div")).offsetWidth},animate:function(e,i){p.verbose("Animating box with properties",e),i=i||function(e){p.verbose("Executing animation callback"),void 0!==e&&e.stopPropagation(),p.reset(),p.set.active()},m.beforeChange.call(h[0]),p.get.transitionEvent()?(p.verbose("Starting CSS animation"),k.addClass(y.animating),C.css(e).one(p.get.transitionEvent(),i),p.set.duration(m.duration),u(function(){k.addClass(y.animating),t.addClass(y.hidden)})):i()},queue:function(e){p.debug("Queueing animation of",e),C.one(p.get.transitionEvent(),function(){p.debug("Executing queued animation"),setTimeout(function(){k.shape(e)},0)})},reset:function(){p.verbose("Animating states reset"),k.removeClass(y.animating).attr("style","").removeAttr("style"),C.attr("style","").removeAttr("style"),S.attr("style","").removeAttr("style").removeClass(y.hidden),h.removeClass(y.animating).attr("style","").removeAttr("style")},is:{complete:function(){return S.filter("."+y.active)[0]==h[0]},animating:function(){return k.hasClass(y.animating)}},set:{defaultSide:function(){t=k.find("."+m.className.active),h=t.next(v.side).length>0?t.next(v.side):k.find(v.side).first(),T=!1,p.verbose("Active side set to",t),p.verbose("Next side set to",h)},duration:function(e){e="number"==typeof(e=e||m.duration)?e+"ms":e,p.verbose("Setting animation duration",e),(m.duration||0===m.duration)&&C.add(S).css({"-webkit-transition-duration":e,"-moz-transition-duration":e,"-ms-transition-duration":e,"-o-transition-duration":e,"transition-duration":e})},currentStageSize:function(){var e=k.find("."+m.className.active),t=e.outerWidth(!0),i=e.outerHeight(!0);k.css({width:t,height:i})},stageSize:function(){var e=k.clone().addClass(y.loading),t=e.find("."+m.className.active),i="next"==m.width?o.outerWidth(!0):"initial"==m.width?k.width():m.width,n="next"==m.height?o.outerHeight(!0):"initial"==m.height?k.height():m.height,o=T?e.find(v.side).eq(T):t.next(v.side).length>0?t.next(v.side):e.find(v.side).first();t.removeClass(y.active),o.addClass(y.active),e.insertAfter(k),e.remove(),"auto"!=m.width&&(k.css("width",i+m.jitter),p.verbose("Specifying width during animation",i)),"auto"!=m.height&&(k.css("height",n+m.jitter),p.verbose("Specifying height during animation",n))},nextSide:function(e){T=e,h=S.filter(e),T=S.index(h),0===h.length&&(p.set.defaultSide(),p.error(b.side)),p.verbose("Next side manually set to",h)},active:function(){p.verbose("Setting new side to active",h),S.removeClass(y.active),h.addClass(y.active),m.onChange.call(h[0]),p.set.defaultSide()}},flip:{up:function(){!p.is.complete()||p.is.animating()||m.allowRepeats?p.is.animating()?p.queue("flip up"):(p.debug("Flipping up",h),p.set.stageSize(),p.stage.above(),p.animate(p.get.transform.up())):p.debug("Side already visible",h)},down:function(){!p.is.complete()||p.is.animating()||m.allowRepeats?p.is.animating()?p.queue("flip down"):(p.debug("Flipping down",h),p.set.stageSize(),p.stage.below(),p.animate(p.get.transform.down())):p.debug("Side already visible",h)},left:function(){!p.is.complete()||p.is.animating()||m.allowRepeats?p.is.animating()?p.queue("flip left"):(p.debug("Flipping left",h),p.set.stageSize(),p.stage.left(),p.animate(p.get.transform.left())):p.debug("Side already visible",h)},right:function(){!p.is.complete()||p.is.animating()||m.allowRepeats?p.is.animating()?p.queue("flip right"):(p.debug("Flipping right",h),p.set.stageSize(),p.stage.right(),p.animate(p.get.transform.right())):p.debug("Side already visible",h)},over:function(){!p.is.complete()||p.is.animating()||m.allowRepeats?p.is.animating()?p.queue("flip over"):(p.debug("Flipping over",h),p.set.stageSize(),p.stage.behind(),p.animate(p.get.transform.over())):p.debug("Side already visible",h)},back:function(){!p.is.complete()||p.is.animating()||m.allowRepeats?p.is.animating()?p.queue("flip back"):(p.debug("Flipping back",h),p.set.stageSize(),p.stage.behind(),p.animate(p.get.transform.back())):p.debug("Side already visible",h)}},get:{transform:{up:function(){var e={y:-(t.outerHeight(!0)-h.outerHeight(!0))/2,z:-t.outerHeight(!0)/2};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(-90deg)"}},down:function(){var e={y:-(t.outerHeight(!0)-h.outerHeight(!0))/2,z:-t.outerHeight(!0)/2};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(90deg)"}},left:function(){var e={x:-(t.outerWidth(!0)-h.outerWidth(!0))/2,z:-t.outerWidth(!0)/2};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(90deg)"}},right:function(){var e={x:-(t.outerWidth(!0)-h.outerWidth(!0))/2,z:-t.outerWidth(!0)/2};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(-90deg)"}},over:function(){return{transform:"translateX("+{x:-(t.outerWidth(!0)-h.outerWidth(!0))/2}.x+"px) rotateY(180deg)"}},back:function(){return{transform:"translateX("+{x:-(t.outerWidth(!0)-h.outerWidth(!0))/2}.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var e,t=i.createElement("element"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]},nextSide:function(){return t.next(v.side).length>0?t.next(v.side):k.find(v.side).first()}},stage:{above:function(){var e={origin:(t.outerHeight(!0)-h.outerHeight(!0))/2,depth:{active:h.outerHeight(!0)/2,next:t.outerHeight(!0)/2}};p.verbose("Setting the initial animation position as above",h,e),C.css({transform:"translateZ(-"+e.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),h.addClass(y.animating).css({top:e.origin+"px",transform:"rotateX(90deg) translateZ("+e.depth.next+"px)"})},below:function(){var e={origin:(t.outerHeight(!0)-h.outerHeight(!0))/2,depth:{active:h.outerHeight(!0)/2,next:t.outerHeight(!0)/2}};p.verbose("Setting the initial animation position as below",h,e),C.css({transform:"translateZ(-"+e.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),h.addClass(y.animating).css({top:e.origin+"px",transform:"rotateX(-90deg) translateZ("+e.depth.next+"px)"})},left:function(){var e={active:t.outerWidth(!0),next:h.outerWidth(!0)},i={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};p.verbose("Setting the initial animation position as left",h,i),C.css({transform:"translateZ(-"+i.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+i.depth.active+"px)"}),h.addClass(y.animating).css({left:i.origin+"px",transform:"rotateY(-90deg) translateZ("+i.depth.next+"px)"})},right:function(){var e={active:t.outerWidth(!0),next:h.outerWidth(!0)},i={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};p.verbose("Setting the initial animation position as left",h,i),C.css({transform:"translateZ(-"+i.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+i.depth.active+"px)"}),h.addClass(y.animating).css({left:i.origin+"px",transform:"rotateY(90deg) translateZ("+i.depth.next+"px)"})},behind:function(){var e={active:t.outerWidth(!0),next:h.outerWidth(!0)},i={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};p.verbose("Setting the initial animation position as behind",h,i),t.css({transform:"rotateY(0deg)"}),h.addClass(y.animating).css({left:i.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(t,i){if(p.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,m,t);else{if(void 0===i)return m[t];e.isPlainObject(m[t])?e.extend(!0,m[t],i):m[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(void 0===i)return p[t];p[t]=i}},debug:function(){!m.silent&&m.debug&&(m.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,m.name+":"),p.debug.apply(console,arguments)))},verbose:function(){!m.silent&&m.verbose&&m.debug&&(m.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),p.verbose.apply(console,arguments)))},error:function(){m.silent||(p.error=Function.prototype.bind.call(console.error,console,m.name+":"),p.error.apply(console,arguments))},performance:{log:function(e){var t,i;m.performance&&(i=(t=(new Date).getTime())-(a||t),a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:D,"Execution Time":i})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,500)},display:function(){var t=m.name+":",i=0;a=!1,clearTimeout(p.performance.timer),e.each(r,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",f&&(t+=" '"+f+"'"),s.length>1&&(t+=" ("+s.length+")"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,i,n){var s,a,r,l=$;return i=i||d,n=D||n,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]&&(a=l[n],!1);l=l[n]}})),e.isFunction(a)?r=a.apply(n,i):void 0!==a&&(r=a),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),a}},c?(void 0===$&&p.initialize(),p.invoke(l)):(void 0!==$&&$.invoke("destroy"),p.initialize())}),void 0!==o?o:this},e.fn.shape.settings={name:"Shape",silent:!1,debug:!1,verbose:!1,jitter:0,performance:!0,namespace:"shape",width:"initial",height:"initial",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:!1,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function(e,t,i,n){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.sidebar=function(n){var o,s=e(this),a=e(t),r=e(i),l=e("html"),c=e("head"),d=s.selector||"",u=(new Date).getTime(),h=[],p=arguments[0],f="string"==typeof p,m=[].slice.call(arguments,1),g=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return s.each(function(){var s,v,b,y,w,x,k=e.isPlainObject(n)?e.extend(!0,{},e.fn.sidebar.settings,n):e.extend({},e.fn.sidebar.settings),C=k.selector,S=k.className,T=k.namespace,D=k.regExp,$=k.error,_="."+T,M="module-"+T,O=e(this),A=e(k.context),P=O.children(C.sidebar),I=A.children(C.fixed),j=A.children(C.pusher),E=this,R=O.data(M);x={initialize:function(){x.debug("Initializing sidebar",n),x.create.id(),w=x.get.transitionEvent(),x.is.ios()&&x.set.ios(),k.delaySetup?g(x.setup.layout):x.setup.layout(),g(function(){x.setup.cache()}),x.instantiate()},instantiate:function(){x.verbose("Storing instance of module",x),R=x,O.data(M,x)},create:{id:function(){b=(Math.random().toString(16)+"000000000").substr(2,8),v="."+b,x.verbose("Creating unique id for element",b)}},destroy:function(){x.verbose("Destroying previous module for",O),O.off(_).removeData(M),x.is.ios()&&x.remove.ios(),A.off(v),a.off(v),r.off(v)},event:{clickaway:function(e){var t=j.find(e.target).length>0||j.is(e.target),i=A.is(e.target);t&&(x.verbose("User clicked on dimmed page"),x.hide()),i&&(x.verbose("User clicked on dimmable context (scaled out page)"),x.hide())},touch:function(e){},containScroll:function(e){E.scrollTop<=0&&(E.scrollTop=1),E.scrollTop+E.offsetHeight>=E.scrollHeight&&(E.scrollTop=E.scrollHeight-E.offsetHeight-1)},scroll:function(t){0===e(t.target).closest(C.sidebar).length&&t.preventDefault()}},bind:{clickaway:function(){x.verbose("Adding clickaway events to context",A),k.closable&&A.on("click"+v,x.event.clickaway).on("touchend"+v,x.event.clickaway)},scrollLock:function(){k.scrollLock&&(x.debug("Disabling page scroll"),a.on("DOMMouseScroll"+v,x.event.scroll)),x.verbose("Adding events to contain sidebar scroll"),r.on("touchmove"+v,x.event.touch),O.on("scroll"+_,x.event.containScroll)}},unbind:{clickaway:function(){x.verbose("Removing clickaway events from context",A),A.off(v)},scrollLock:function(){x.verbose("Removing scroll lock from page"),r.off(v),a.off(v),O.off("scroll"+_)}},add:{inlineCSS:function(){var t,i=x.cache.width||O.outerWidth(),n=x.cache.height||O.outerHeight(),o=x.is.rtl(),a=x.get.direction(),r={left:i,right:-i,top:n,bottom:-n};o&&(x.verbose("RTL detected, flipping widths"),r.left=-i,r.right=i),t="<style>","left"===a||"right"===a?(x.debug("Adding CSS rules for animation distance",i),t+=" .ui.visible."+a+".sidebar ~ .fixed, .ui.visible."+a+".sidebar ~ .pusher {   -webkit-transform: translate3d("+r[a]+"px, 0, 0);           transform: translate3d("+r[a]+"px, 0, 0); }"):"top"!==a&&"bottom"!=a||(t+=" .ui.visible."+a+".sidebar ~ .fixed, .ui.visible."+a+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+r[a]+"px, 0);           transform: translate3d(0, "+r[a]+"px, 0); }"),x.is.ie()&&("left"===a||"right"===a?(x.debug("Adding CSS rules for animation distance",i),t+=" body.pushable > .ui.visible."+a+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+r[a]+"px, 0, 0);           transform: translate3d("+r[a]+"px, 0, 0); }"):"top"!==a&&"bottom"!=a||(t+=" body.pushable > .ui.visible."+a+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+r[a]+"px, 0);           transform: translate3d(0, "+r[a]+"px, 0); }"),t+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),s=e(t+="</style>").appendTo(c),x.debug("Adding sizing css to head",s)}},refresh:function(){x.verbose("Refreshing selector cache"),A=e(k.context),P=A.children(C.sidebar),j=A.children(C.pusher),I=A.children(C.fixed),x.clear.cache()},refreshSidebars:function(){x.verbose("Refreshing other sidebars"),P=A.children(C.sidebar)},repaint:function(){x.verbose("Forcing repaint event"),E.style.display="none";E.offsetHeight;E.scrollTop=E.scrollTop,E.style.display=""},setup:{cache:function(){x.cache={width:O.outerWidth(),height:O.outerHeight(),rtl:"rtl"==O.css("direction")}},layout:function(){0===A.children(C.pusher).length&&(x.debug("Adding wrapper element for sidebar"),x.error($.pusher),j=e('<div class="pusher" />'),A.children().not(C.omitted).not(P).wrapAll(j),x.refresh()),0!==O.nextAll(C.pusher).length&&O.nextAll(C.pusher)[0]===j[0]||(x.debug("Moved sidebar to correct parent element"),x.error($.movedSidebar,E),O.detach().prependTo(A),x.refresh()),x.clear.cache(),x.set.pushable(),x.set.direction()}},attachEvents:function(t,i){var n=e(t);i=e.isFunction(x[i])?x[i]:x.toggle,n.length>0?(x.debug("Attaching sidebar events to element",t,i),n.on("click"+_,i)):x.error($.notFound,t)},show:function(t){if(t=e.isFunction(t)?t:function(){},x.is.hidden()){if(x.refreshSidebars(),k.overlay&&(x.error($.overlay),k.transition="overlay"),x.refresh(),x.othersActive())if(x.debug("Other sidebars currently visible"),k.exclusive){if("overlay"!=k.transition)return void x.hideOthers(x.show);x.hideOthers()}else k.transition="overlay";x.pushPage(function(){t.call(E),k.onShow.call(E)}),k.onChange.call(E),k.onVisible.call(E)}else x.debug("Sidebar is already visible")},hide:function(t){t=e.isFunction(t)?t:function(){},(x.is.visible()||x.is.animating())&&(x.debug("Hiding sidebar",t),x.refreshSidebars(),x.pullPage(function(){t.call(E),k.onHidden.call(E)}),k.onChange.call(E),k.onHide.call(E))},othersAnimating:function(){return P.not(O).filter("."+S.animating).length>0},othersVisible:function(){return P.not(O).filter("."+S.visible).length>0},othersActive:function(){return x.othersVisible()||x.othersAnimating()},hideOthers:function(e){var t=P.not(O).filter("."+S.visible),i=t.length,n=0;e=e||function(){},t.sidebar("hide",function(){++n==i&&e()})},toggle:function(){x.verbose("Determining toggled direction"),x.is.hidden()?x.show():x.hide()},pushPage:function(t){var i,n,o,s=x.get.transition(),a="overlay"===s||x.othersActive()?O:j;t=e.isFunction(t)?t:function(){},"scale down"==k.transition&&x.scrollToTop(),x.set.transition(s),x.repaint(),i=function(){x.bind.clickaway(),x.add.inlineCSS(),x.set.animating(),x.set.visible()},n=function(){x.set.dimmed()},o=function(e){e.target==a[0]&&(a.off(w+v,o),x.remove.animating(),x.bind.scrollLock(),t.call(E))},a.off(w+v),a.on(w+v,o),g(i),k.dimPage&&!x.othersVisible()&&g(n)},pullPage:function(t){var i,n,o=x.get.transition(),s="overlay"==o||x.othersActive()?O:j;t=e.isFunction(t)?t:function(){},x.verbose("Removing context push state",x.get.direction()),x.unbind.clickaway(),x.unbind.scrollLock(),i=function(){x.set.transition(o),x.set.animating(),x.remove.visible(),k.dimPage&&!x.othersVisible()&&j.removeClass(S.dimmed)},n=function(e){e.target==s[0]&&(s.off(w+v,n),x.remove.animating(),x.remove.transition(),x.remove.inlineCSS(),("scale down"==o||k.returnScroll&&x.is.mobile())&&x.scrollBack(),t.call(E))},s.off(w+v),s.on(w+v,n),g(i)},scrollToTop:function(){x.verbose("Scrolling to top of page to avoid animation issues"),y=e(t).scrollTop(),O.scrollTop(0),t.scrollTo(0,0)},scrollBack:function(){x.verbose("Scrolling back to original page position"),t.scrollTo(0,y)},clear:{cache:function(){x.verbose("Clearing cached dimensions"),x.cache={}}},set:{ios:function(){l.addClass(S.ios)},pushed:function(){A.addClass(S.pushed)},pushable:function(){A.addClass(S.pushable)},dimmed:function(){j.addClass(S.dimmed)},active:function(){O.addClass(S.active)},animating:function(){O.addClass(S.animating)},transition:function(e){e=e||x.get.transition(),O.addClass(e)},direction:function(e){e=e||x.get.direction(),O.addClass(S[e])},visible:function(){O.addClass(S.visible)},overlay:function(){O.addClass(S.overlay)}},remove:{inlineCSS:function(){x.debug("Removing inline css styles",s),s&&s.length>0&&s.remove()},ios:function(){l.removeClass(S.ios)},pushed:function(){A.removeClass(S.pushed)},pushable:function(){A.removeClass(S.pushable)},active:function(){O.removeClass(S.active)},animating:function(){O.removeClass(S.animating)},transition:function(e){e=e||x.get.transition(),O.removeClass(e)},direction:function(e){e=e||x.get.direction(),O.removeClass(S[e])},visible:function(){O.removeClass(S.visible)},overlay:function(){O.removeClass(S.overlay)}},get:{direction:function(){return O.hasClass(S.top)?S.top:O.hasClass(S.right)?S.right:O.hasClass(S.bottom)?S.bottom:S.left},transition:function(){var e,t=x.get.direction();return e=x.is.mobile()?"auto"==k.mobileTransition?k.defaultTransition.mobile[t]:k.mobileTransition:"auto"==k.transition?k.defaultTransition.computer[t]:k.transition,x.verbose("Determined transition",e),e},transitionEvent:function(){var e,t=i.createElement("element"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}},is:{ie:function(){var e=!t.ActiveXObject&&"ActiveXObject"in t,i="ActiveXObject"in t;return e||i},ios:function(){var e=navigator.userAgent,t=e.match(D.ios),i=e.match(D.mobileChrome);return!(!t||i)&&(x.verbose("Browser was found to be iOS",e),!0)},mobile:function(){var e=navigator.userAgent;return e.match(D.mobile)?(x.verbose("Browser was found to be mobile",e),!0):(x.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!x.is.visible()},visible:function(){return O.hasClass(S.visible)},open:function(){return x.is.visible()},closed:function(){return x.is.hidden()},vertical:function(){return O.hasClass(S.top)},animating:function(){return A.hasClass(S.animating)},rtl:function(){return void 0===x.cache.rtl&&(x.cache.rtl="rtl"==O.css("direction")),x.cache.rtl}},setting:function(t,i){if(x.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,k,t);else{if(void 0===i)return k[t];e.isPlainObject(k[t])?e.extend(!0,k[t],i):k[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(void 0===i)return x[t];x[t]=i}},debug:function(){!k.silent&&k.debug&&(k.performance?x.performance.log(arguments):(x.debug=Function.prototype.bind.call(console.info,console,k.name+":"),x.debug.apply(console,arguments)))},verbose:function(){!k.silent&&k.verbose&&k.debug&&(k.performance?x.performance.log(arguments):(x.verbose=Function.prototype.bind.call(console.info,console,k.name+":"),x.verbose.apply(console,arguments)))},error:function(){k.silent||(x.error=Function.prototype.bind.call(console.error,console,k.name+":"),x.error.apply(console,arguments))},performance:{log:function(e){var t,i;k.performance&&(i=(t=(new Date).getTime())-(u||t),u=t,h.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:E,"Execution Time":i})),clearTimeout(x.performance.timer),x.performance.timer=setTimeout(x.performance.display,500)},display:function(){var t=k.name+":",i=0;u=!1,clearTimeout(x.performance.timer),e.each(h,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",d&&(t+=" '"+d+"'"),(void 0!==console.group||void 0!==console.table)&&h.length>0&&(console.groupCollapsed(t),console.table?console.table(h):e.each(h,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(t,i,n){var s,a,r,l=R;return i=i||m,n=E||n,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]?(a=l[n],!1):(x.error($.method,t),!1);l=l[n]}})),e.isFunction(a)?r=a.apply(n,i):void 0!==a&&(r=a),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),a}},f?(void 0===R&&x.initialize(),x.invoke(p)):(void 0!==R&&x.invoke("destroy"),x.initialize())}),void 0!==o?o:this},e.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",silent:!1,debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(e,t,i,n){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.sticky=function(n){var o,s=e(this),a=s.selector||"",r=(new Date).getTime(),l=[],c=arguments[0],d="string"==typeof c,u=[].slice.call(arguments,1);return s.each(function(){var s,h,p,f,m,g=e.isPlainObject(n)?e.extend(!0,{},e.fn.sticky.settings,n):e.extend({},e.fn.sticky.settings),v=g.className,b=g.namespace,y=g.error,w="."+b,x="module-"+b,k=e(this),C=e(t),S=e(g.scrollContext),T=(k.selector,k.data(x)),D=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},$=this;m={initialize:function(){m.determineContainer(),m.determineContext(),m.verbose("Initializing sticky",g,s),m.save.positions(),m.checkErrors(),m.bind.events(),g.observeChanges&&m.observeChanges(),m.instantiate()},instantiate:function(){m.verbose("Storing instance of module",m),T=m,k.data(x,m)},destroy:function(){m.verbose("Destroying previous instance"),m.reset(),p&&p.disconnect(),f&&f.disconnect(),C.off("load"+w,m.event.load).off("resize"+w,m.event.resize),S.off("scrollchange"+w,m.event.scrollchange),k.removeData(x)},observeChanges:function(){"MutationObserver"in t&&(p=new MutationObserver(m.event.documentChanged),f=new MutationObserver(m.event.changed),p.observe(i,{childList:!0,subtree:!0}),f.observe($,{childList:!0,subtree:!0}),f.observe(h[0],{childList:!0,subtree:!0}),m.debug("Setting up mutation observer",f))},determineContainer:function(){s=k.offsetParent()},determineContext:function(){0!==(h=g.context?e(g.context):s).length||m.error(y.invalidContext,g.context,k)},checkErrors:function(){if(m.is.hidden()&&m.error(y.visible,k),m.cache.element.height>m.cache.context.height)return m.reset(),void m.error(y.elementSize,k)},bind:{events:function(){C.on("load"+w,m.event.load).on("resize"+w,m.event.resize),S.off("scroll"+w).on("scroll"+w,m.event.scroll).on("scrollchange"+w,m.event.scrollchange)}},event:{changed:function(e){clearTimeout(m.timer),m.timer=setTimeout(function(){m.verbose("DOM tree modified, updating sticky menu",e),m.refresh()},100)},documentChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==$||e(t).find($).length>0)&&(m.debug("Element removed from DOM, tearing down events"),m.destroy())})})},load:function(){m.verbose("Page contents finished loading"),D(m.refresh)},resize:function(){m.verbose("Window resized"),D(m.refresh)},scroll:function(){D(function(){S.triggerHandler("scrollchange"+w,S.scrollTop())})},scrollchange:function(e,t){m.stick(t),g.onScroll.call($)}},refresh:function(e){m.reset(),g.context||m.determineContext(),e&&m.determineContainer(),m.save.positions(),m.stick(),g.onReposition.call($)},supports:{sticky:function(){var t=e("<div/>");t[0];return t.addClass(v.supported),t.css("position").match("sticky")}},save:{lastScroll:function(e){m.lastScroll=e},elementScroll:function(e){m.elementScroll=e},positions:function(){var e={height:S.height()},t={margin:{top:parseInt(k.css("margin-top"),10),bottom:parseInt(k.css("margin-bottom"),10)},offset:k.offset(),width:k.outerWidth(),height:k.outerHeight()},i={offset:h.offset(),height:h.outerHeight()};s.outerHeight();m.is.standardScroll()||(m.debug("Non-standard scroll. Removing scroll offset from element offset"),e.top=S.scrollTop(),e.left=S.scrollLeft(),t.offset.top+=e.top,i.offset.top+=e.top,t.offset.left+=e.left,i.offset.left+=e.left),m.cache={fits:t.height<e.height,scrollContext:{height:e.height},element:{margin:t.margin,top:t.offset.top-t.margin.top,left:t.offset.left,width:t.width,height:t.height,bottom:t.offset.top+t.height},context:{top:i.offset.top,height:i.height,bottom:i.offset.top+i.height}},m.set.containerSize(),m.set.size(),m.stick(),m.debug("Caching element positions",m.cache)}},get:{direction:function(e){var t="down";return e=e||S.scrollTop(),void 0!==m.lastScroll&&(m.lastScroll<e?t="down":m.lastScroll>e&&(t="up")),t},scrollChange:function(e){return e=e||S.scrollTop(),m.lastScroll?e-m.lastScroll:0},currentElementScroll:function(){return m.elementScroll?m.elementScroll:m.is.top()?Math.abs(parseInt(k.css("top"),10))||0:Math.abs(parseInt(k.css("bottom"),10))||0},elementScroll:function(e){e=e||S.scrollTop();var t=m.cache.element,i=m.cache.scrollContext,n=m.get.scrollChange(e),o=t.height-i.height+g.offset,s=m.get.currentElementScroll(),a=s+n;return s=m.cache.fits||a<0?0:a>o?o:a}},remove:{lastScroll:function(){delete m.lastScroll},elementScroll:function(e){delete m.elementScroll},offset:function(){k.css("margin-top","")}},set:{offset:function(){m.verbose("Setting offset on element",g.offset),k.css("margin-top",g.offset)},containerSize:function(){var e=s.get(0).tagName;"HTML"===e||"body"==e?m.determineContainer():Math.abs(s.outerHeight()-m.cache.context.height)>g.jitter&&(m.debug("Context has padding, specifying exact height for container",m.cache.context.height),s.css({height:m.cache.context.height}))},minimumSize:function(){var e=m.cache.element;s.css("min-height",e.height)},scroll:function(e){m.debug("Setting scroll on element",e),m.elementScroll!=e&&(m.is.top()&&k.css("bottom","").css("top",-e),m.is.bottom()&&k.css("top","").css("bottom",e))},size:function(){0!==m.cache.element.height&&0!==m.cache.element.width&&($.style.setProperty("width",m.cache.element.width+"px","important"),$.style.setProperty("height",m.cache.element.height+"px","important"))}},is:{standardScroll:function(){return S[0]==t},top:function(){return k.hasClass(v.top)},bottom:function(){return k.hasClass(v.bottom)},initialPosition:function(){return!m.is.fixed()&&!m.is.bound()},hidden:function(){return!k.is(":visible")},bound:function(){return k.hasClass(v.bound)},fixed:function(){return k.hasClass(v.fixed)}},stick:function(e){var t=e||S.scrollTop(),i=m.cache,n=i.fits,o=i.element,s=i.scrollContext,a=i.context,r=m.is.bottom()&&g.pushing?g.bottomOffset:g.offset,e={top:t+r,bottom:t+r+s.height},l=(m.get.direction(e.top),n?0:m.get.elementScroll(e.top)),c=!n;0!==o.height&&(m.is.initialPosition()?e.top>=a.bottom?(m.debug("Initial element position is bottom of container"),m.bindBottom()):e.top>o.top&&(o.height+e.top-l>=a.bottom?(m.debug("Initial element position is bottom of container"),m.bindBottom()):(m.debug("Initial element position is fixed"),m.fixTop())):m.is.fixed()?m.is.top()?e.top<=o.top?(m.debug("Fixed element reached top of container"),m.setInitialPosition()):o.height+e.top-l>=a.bottom?(m.debug("Fixed element reached bottom of container"),m.bindBottom()):c&&(m.set.scroll(l),m.save.lastScroll(e.top),m.save.elementScroll(l)):m.is.bottom()&&(e.bottom-o.height<=o.top?(m.debug("Bottom fixed rail has reached top of container"),m.setInitialPosition()):e.bottom>=a.bottom?(m.debug("Bottom fixed rail has reached bottom of container"),m.bindBottom()):c&&(m.set.scroll(l),m.save.lastScroll(e.top),m.save.elementScroll(l))):m.is.bottom()&&(e.top<=o.top?(m.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),m.setInitialPosition()):g.pushing?m.is.bound()&&e.bottom<=a.bottom&&(m.debug("Fixing bottom attached element to bottom of browser."),m.fixBottom()):m.is.bound()&&e.top<=a.bottom-o.height&&(m.debug("Fixing bottom attached element to top of browser."),m.fixTop())))},bindTop:function(){m.debug("Binding element to top of parent container"),m.remove.offset(),k.css({left:"",top:"",marginBottom:""}).removeClass(v.fixed).removeClass(v.bottom).addClass(v.bound).addClass(v.top),g.onTop.call($),g.onUnstick.call($)},bindBottom:function(){m.debug("Binding element to bottom of parent container"),m.remove.offset(),k.css({left:"",top:""}).removeClass(v.fixed).removeClass(v.top).addClass(v.bound).addClass(v.bottom),g.onBottom.call($),g.onUnstick.call($)},setInitialPosition:function(){m.debug("Returning to initial position"),m.unfix(),m.unbind()},fixTop:function(){m.debug("Fixing element to top of page"),m.set.minimumSize(),m.set.offset(),k.css({left:m.cache.element.left,bottom:"",marginBottom:""}).removeClass(v.bound).removeClass(v.bottom).addClass(v.fixed).addClass(v.top),g.onStick.call($)},fixBottom:function(){m.debug("Sticking element to bottom of page"),m.set.minimumSize(),m.set.offset(),k.css({left:m.cache.element.left,bottom:"",marginBottom:""}).removeClass(v.bound).removeClass(v.top).addClass(v.fixed).addClass(v.bottom),g.onStick.call($)},unbind:function(){m.is.bound()&&(m.debug("Removing container bound position on element"),m.remove.offset(),k.removeClass(v.bound).removeClass(v.top).removeClass(v.bottom))},unfix:function(){m.is.fixed()&&(m.debug("Removing fixed position on element"),m.remove.offset(),k.removeClass(v.fixed).removeClass(v.top).removeClass(v.bottom),g.onUnstick.call($))},reset:function(){m.debug("Resetting elements position"),m.unbind(),m.unfix(),m.resetCSS(),m.remove.offset(),m.remove.lastScroll()},resetCSS:function(){k.css({width:"",height:""}),s.css({height:""})},setting:function(t,i){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(void 0===i)return g[t];g[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(void 0===i)return m[t];m[t]=i}},debug:function(){!g.silent&&g.debug&&(g.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,g.name+":"),m.debug.apply(console,arguments)))},verbose:function(){!g.silent&&g.verbose&&g.debug&&(g.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),m.verbose.apply(console,arguments)))},error:function(){g.silent||(m.error=Function.prototype.bind.call(console.error,console,g.name+":"),m.error.apply(console,arguments))},performance:{log:function(e){var t,i;g.performance&&(i=(t=(new Date).getTime())-(r||t),r=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:$,"Execution Time":i})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,0)},display:function(){var t=g.name+":",i=0;r=!1,clearTimeout(m.performance.timer),e.each(l,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",a&&(t+=" '"+a+"'"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,i,n){var s,a,r,l=T;return i=i||u,n=$||n,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]&&(a=l[n],!1);l=l[n]}})),e.isFunction(a)?r=a.apply(n,i):void 0!==a&&(r=a),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),a}},d?(void 0===T&&m.initialize(),m.invoke(c)):(void 0!==T&&T.invoke("destroy"),m.initialize())}),void 0!==o?o:this},e.fn.sticky.settings={name:"Sticky",namespace:"sticky",silent:!1,debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,scrollContext:t,offset:0,bottomOffset:0,jitter:5,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(e,t,i,n){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.tab=function(n){var o,s=e(e.isFunction(this)?t:this),a=s.selector||"",r=(new Date).getTime(),l=[],c=arguments[0],d="string"==typeof c,u=[].slice.call(arguments,1),h=!1;return s.each(function(){var p,f,m,g,v,b,y=e.isPlainObject(n)?e.extend(!0,{},e.fn.tab.settings,n):e.extend({},e.fn.tab.settings),w=y.className,x=y.metadata,k=y.selector,C=y.error,S="."+y.namespace,T="module-"+y.namespace,D=e(this),$={},_=!0,M=0,O=this,A=D.data(T);v={initialize:function(){v.debug("Initializing tab menu item",D),v.fix.callbacks(),v.determineTabs(),v.debug("Determining tabs",y.context,f),y.auto&&v.set.auto(),v.bind.events(),y.history&&!h&&(v.initializeHistory(),h=!0),v.instantiate()},instantiate:function(){v.verbose("Storing instance of module",v),A=v,D.data(T,v)},destroy:function(){v.debug("Destroying tabs",D),D.removeData(T).off(S)},bind:{events:function(){e.isWindow(O)||(v.debug("Attaching tab activation events to element",D),D.on("click"+S,v.event.click))}},determineTabs:function(){var t;"parent"===y.context?(D.closest(k.ui).length>0?(t=D.closest(k.ui),v.verbose("Using closest UI element as parent",t)):t=D,p=t.parent(),v.verbose("Determined parent element for creating context",p)):y.context?(p=e(y.context),v.verbose("Using selector for tab context",y.context,p)):p=e("body"),y.childrenOnly?(f=p.children(k.tabs),v.debug("Searching tab context children for tabs",p,f)):(f=p.find(k.tabs),v.debug("Searching tab context for tabs",p,f))},fix:{callbacks:function(){e.isPlainObject(n)&&(n.onTabLoad||n.onTabInit)&&(n.onTabLoad&&(n.onLoad=n.onTabLoad,delete n.onTabLoad,v.error(C.legacyLoad,n.onLoad)),n.onTabInit&&(n.onFirstLoad=n.onTabInit,delete n.onTabInit,v.error(C.legacyInit,n.onFirstLoad)),y=e.extend(!0,{},e.fn.tab.settings,n))}},initializeHistory:function(){if(v.debug("Initializing page state"),void 0===e.address)return v.error(C.state),!1;if("state"==y.historyType){if(v.debug("Using HTML5 to manage state"),!1===y.path)return v.error(C.path),!1;e.address.history(!0).state(y.path)}e.address.bind("change",v.event.history.change)},event:{click:function(t){var i=e(this).data(x.tab);void 0!==i?(y.history?(v.verbose("Updating page state",t),e.address.value(i)):(v.verbose("Changing tab",t),v.changeTab(i)),t.preventDefault()):v.debug("No tab specified")},history:{change:function(t){var i=t.pathNames.join("/")||v.get.initialPath(),n=y.templates.determineTitle(i)||!1;v.performance.display(),v.debug("History change event",i,t),b=t,void 0!==i&&v.changeTab(i),n&&e.address.title(n)}}},refresh:function(){m&&(v.debug("Refreshing tab",m),v.changeTab(m))},cache:{read:function(e){return void 0!==e&&$[e]},add:function(e,t){e=e||m,v.debug("Adding cached content for",e),$[e]=t},remove:function(e){e=e||m,v.debug("Removing cached content for",e),delete $[e]}},set:{auto:function(){var t="string"==typeof y.path?y.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";v.verbose("Setting up automatic tab retrieval from server",t),e.isPlainObject(y.apiSettings)?y.apiSettings.url=t:y.apiSettings={url:t}},loading:function(e){var t=v.get.tabElement(e);t.hasClass(w.loading)||(v.verbose("Setting loading state for",t),t.addClass(w.loading).siblings(f).removeClass(w.active+" "+w.loading),t.length>0&&y.onRequest.call(t[0],e))},state:function(t){e.address.value(t)}},changeTab:function(i){var n=t.history&&t.history.pushState&&y.ignoreFirstLoad&&_,o=y.auto||e.isPlainObject(y.apiSettings),s=o&&!n?v.utilities.pathToArray(i):v.get.defaultPathArray(i);i=v.utilities.arrayToPath(s),e.each(s,function(t,a){var r,l,c,d,u=s.slice(0,t+1),h=v.utilities.arrayToPath(u),f=v.is.tab(h),k=t+1==s.length,S=v.get.tabElement(h);if(v.verbose("Looking for tab",a),f){if(v.verbose("Tab was found",a),m=h,g=v.utilities.filterArray(s,u),k?d=!0:(l=s.slice(0,t+2),c=v.utilities.arrayToPath(l),(d=!v.is.tab(c))&&v.verbose("Tab parameters found",l)),d&&o)return n?(v.debug("Ignoring remote content on first tab load",h),_=!1,v.cache.add(i,S.html()),v.activate.all(h),y.onFirstLoad.call(S[0],h,g,b),y.onLoad.call(S[0],h,g,b)):(v.activate.navigation(h),v.fetch.content(h,i)),!1;v.debug("Opened local tab",h),v.activate.all(h),v.cache.read(h)||(v.cache.add(h,!0),v.debug("First time tab loaded calling tab init"),y.onFirstLoad.call(S[0],h,g,b)),y.onLoad.call(S[0],h,g,b)}else{if(-1!=i.search("/")||""===i)return v.error(C.missingTab,D,p,h),!1;if(r=e("#"+i+', a[name="'+i+'"]'),h=r.closest("[data-tab]").data(x.tab),S=v.get.tabElement(h),r&&r.length>0&&h)return v.debug("Anchor link used, opening parent tab",S,r),S.hasClass(w.active)||setTimeout(function(){v.scrollTo(r)},0),v.activate.all(h),v.cache.read(h)||(v.cache.add(h,!0),v.debug("First time tab loaded calling tab init"),y.onFirstLoad.call(S[0],h,g,b)),y.onLoad.call(S[0],h,g,b),!1}})},scrollTo:function(t){var n=!!(t&&t.length>0)&&t.offset().top;!1!==n&&(v.debug("Forcing scroll to an in-page link in a hidden tab",n,t),e(i).scrollTop(n))},update:{content:function(e,t,i){var n=v.get.tabElement(e),o=n[0];(i=void 0!==i?i:y.evaluateScripts)?(v.debug("Updating HTML and evaluating inline scripts",e,t),n.html(t)):(v.debug("Updating HTML",e,t),o.innerHTML=t)}},fetch:{content:function(t,i){var n,o,s=v.get.tabElement(t),a={dataType:"html",encodeParameters:!1,on:"now",cache:y.alwaysRefresh,headers:{"X-Remote":!0},onSuccess:function(e){"response"==y.cacheType&&v.cache.add(i,e),v.update.content(t,e),t==m?(v.debug("Content loaded",t),v.activate.tab(t)):v.debug("Content loaded in background",t),y.onFirstLoad.call(s[0],t,g,b),y.onLoad.call(s[0],t,g,b),"response"!=y.cacheType&&v.cache.add(i,s.html())},urlData:{tab:i}},r=s.api("get request")||!1,l=r&&"pending"===r.state();i=i||t,o=v.cache.read(i),y.cache&&o?(v.activate.tab(t),v.debug("Adding cached content",i),"once"==y.evaluateScripts?v.update.content(t,o,!1):v.update.content(t,o),y.onLoad.call(s[0],t,g,b)):l?(v.set.loading(t),v.debug("Content is already loading",i)):void 0!==e.api?(n=e.extend(!0,{},y.apiSettings,a),v.debug("Retrieving remote content",i,n),v.set.loading(t),s.api(n)):v.error(C.api)}},activate:{all:function(e){v.activate.tab(e),v.activate.navigation(e)},tab:function(e){var t=v.get.tabElement(e),i="siblings"==y.deactivate?t.siblings(f):f.not(t),n=t.hasClass(w.active);v.verbose("Showing tab content for",t),n||(t.addClass(w.active),i.removeClass(w.active+" "+w.loading),t.length>0&&y.onVisible.call(t[0],e))},navigation:function(e){var t=v.get.navElement(e),i="siblings"==y.deactivate?t.siblings(s):s.not(t),n=t.hasClass(w.active);v.verbose("Activating tab navigation for",t,e),n||(t.addClass(w.active),i.removeClass(w.active+" "+w.loading))}},deactivate:{all:function(){v.deactivate.navigation(),v.deactivate.tabs()},navigation:function(){s.removeClass(w.active)},tabs:function(){f.removeClass(w.active+" "+w.loading)}},is:{tab:function(e){return void 0!==e&&v.get.tabElement(e).length>0}},get:{initialPath:function(){return s.eq(0).data(x.tab)||f.eq(0).data(x.tab)},path:function(){return e.address.value()},defaultPathArray:function(e){return v.utilities.pathToArray(v.get.defaultPath(e))},defaultPath:function(e){var t=s.filter("[data-"+x.tab+'^="'+e+'/"]').eq(0).data(x.tab)||!1;if(t){if(v.debug("Found default tab",t),M<y.maxDepth)return M++,v.get.defaultPath(t);v.error(C.recursion)}else v.debug("No default tabs found for",e,f);return M=0,e},navElement:function(e){return e=e||m,s.filter("[data-"+x.tab+'="'+e+'"]')},tabElement:function(e){var t,i,n,o;return e=e||m,n=v.utilities.pathToArray(e),o=v.utilities.last(n),t=f.filter("[data-"+x.tab+'="'+e+'"]'),i=f.filter("[data-"+x.tab+'="'+o+'"]'),t.length>0?t:i},tab:function(){return m}},utilities:{filterArray:function(t,i){return e.grep(t,function(t){return-1==e.inArray(t,i)})},last:function(t){return!!e.isArray(t)&&t[t.length-1]},pathToArray:function(e){return void 0===e&&(e=m),"string"==typeof e?e.split("/"):[e]},arrayToPath:function(t){return!!e.isArray(t)&&t.join("/")}},setting:function(t,i){if(v.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,y,t);else{if(void 0===i)return y[t];e.isPlainObject(y[t])?e.extend(!0,y[t],i):y[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,v,t);else{if(void 0===i)return v[t];v[t]=i}},debug:function(){!y.silent&&y.debug&&(y.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,y.name+":"),v.debug.apply(console,arguments)))},verbose:function(){!y.silent&&y.verbose&&y.debug&&(y.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,y.name+":"),v.verbose.apply(console,arguments)))},error:function(){y.silent||(v.error=Function.prototype.bind.call(console.error,console,y.name+":"),v.error.apply(console,arguments))},performance:{log:function(e){var t,i;y.performance&&(i=(t=(new Date).getTime())-(r||t),r=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:O,"Execution Time":i})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,500)},display:function(){var t=y.name+":",i=0;r=!1,clearTimeout(v.performance.timer),e.each(l,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",a&&(t+=" '"+a+"'"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,i,n){var s,a,r,l=A;return i=i||u,n=O||n,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]?(a=l[n],!1):(v.error(C.method,t),!1);l=l[n]}})),e.isFunction(a)?r=a.apply(n,i):void 0!==a&&(r=a),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),a}},d?(void 0===A&&v.initialize(),v.invoke(c)):(void 0!==A&&A.invoke("destroy"),v.initialize())}),void 0!==o?o:this},e.tab=function(){e(t).tab.apply(this,arguments)},e.fn.tab.settings={name:"Tab",namespace:"tab",silent:!1,debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,deactivate:"siblings",alwaysRefresh:!1,cache:!0,cacheType:"response",ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:"once",onFirstLoad:function(e,t,i){},onLoad:function(e,t,i){},onVisible:function(e,t,i){},onRequest:function(e,t,i){},templates:{determineTitle:function(e){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found. Tabs are case-sensitive.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function(e,t,i,n){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.transition=function(){var n,o=e(this),s=o.selector||"",a=(new Date).getTime(),r=[],l=arguments,c=l[0],d=[].slice.call(arguments,1),u="string"==typeof c;t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame;return o.each(function(t){var h,p,f,m,g,v,b,y,w,x=e(this),k=this;(w={initialize:function(){h=w.get.settings.apply(k,l),m=h.className,f=h.error,g=h.metadata,y="."+h.namespace,b="module-"+h.namespace,p=x.data(b)||w,v=w.get.animationEndEvent(),u&&(u=w.invoke(c)),!1===u&&(w.verbose("Converted arguments into settings object",h),h.interval?w.delay(h.animate):w.animate(),w.instantiate())},instantiate:function(){w.verbose("Storing instance of module",w),p=w,x.data(b,p)},destroy:function(){w.verbose("Destroying previous module for",k),x.removeData(b)},refresh:function(){w.verbose("Refreshing display type on next animation"),delete w.displayType},forceRepaint:function(){w.verbose("Forcing element repaint");var e=x.parent(),t=x.next();0===t.length?x.detach().appendTo(e):x.detach().insertBefore(t)},repaint:function(){w.verbose("Repainting element");k.offsetWidth},delay:function(e){var i,n=w.get.animationDirection();n||(n=w.can.transition()?w.get.direction():"static"),e=void 0!==e?e:h.interval,i="auto"==h.reverse&&n==m.outward||1==h.reverse?(o.length-t)*h.interval:t*h.interval,w.debug("Delaying animation by",i),setTimeout(w.animate,i)},animate:function(e){if(h=e||h,!w.is.supported())return w.error(f.support),!1;if(w.debug("Preparing animation",h.animation),w.is.animating()){if(h.queue)return!h.allowRepeats&&w.has.direction()&&w.is.occurring()&&!0!==w.queuing?w.debug("Animation is currently occurring, preventing queueing same animation",h.animation):w.queue(h.animation),!1;if(!h.allowRepeats&&w.is.occurring())return w.debug("Animation is already occurring, will not execute repeated animation",h.animation),!1;w.debug("New animation started, completing previous early",h.animation),p.complete()}w.can.animate()?w.set.animating(h.animation):w.error(f.noAnimation,h.animation,k)},reset:function(){w.debug("Resetting animation to beginning conditions"),w.remove.animationCallbacks(),w.restore.conditions(),w.remove.animating()},queue:function(e){w.debug("Queueing animation of",e),w.queuing=!0,x.one(v+".queue"+y,function(){w.queuing=!1,w.repaint(),w.animate.apply(this,h)})},complete:function(e){w.debug("Animation complete",h.animation),w.remove.completeCallback(),w.remove.failSafe(),w.is.looping()||(w.is.outward()?(w.verbose("Animation is outward, hiding element"),w.restore.conditions(),w.hide()):w.is.inward()?(w.verbose("Animation is outward, showing element"),w.restore.conditions(),w.show()):(w.verbose("Static animation completed"),w.restore.conditions(),h.onComplete.call(k)))},force:{visible:function(){var e=x.attr("style"),t=w.get.userStyle(),i=w.get.displayType(),n=t+"display: "+i+" !important;",o=x.css("display"),s=void 0===e||""===e;o!==i?(w.verbose("Overriding default display to show element",i),x.attr("style",n)):s&&x.removeAttr("style")},hidden:function(){var e=x.attr("style"),t=x.css("display"),i=void 0===e||""===e;"none"===t||w.is.hidden()?i&&x.removeAttr("style"):(w.verbose("Overriding default display to hide element"),x.css("display","none"))}},has:{direction:function(t){var i=!1;return"string"==typeof(t=t||h.animation)&&(t=t.split(" "),e.each(t,function(e,t){t!==m.inward&&t!==m.outward||(i=!0)})),i},inlineDisplay:function(){var t=x.attr("style")||"";return e.isArray(t.match(/display.*?;/,""))}},set:{animating:function(e){var t;w.remove.completeCallback(),e=e||h.animation,t=w.get.animationClass(e),w.save.animation(t),w.force.visible(),w.remove.hidden(),w.remove.direction(),w.start.animation(t)},duration:function(e,t){((t="number"==typeof(t=t||h.duration)?t+"ms":t)||0===t)&&(w.verbose("Setting animation duration",t),x.css({"animation-duration":t}))},direction:function(e){(e=e||w.get.direction())==m.inward?w.set.inward():w.set.outward()},looping:function(){w.debug("Transition set to loop"),x.addClass(m.looping)},hidden:function(){x.addClass(m.transition).addClass(m.hidden)},inward:function(){w.debug("Setting direction to inward"),x.removeClass(m.outward).addClass(m.inward)},outward:function(){w.debug("Setting direction to outward"),x.removeClass(m.inward).addClass(m.outward)},visible:function(){x.addClass(m.transition).addClass(m.visible)}},start:{animation:function(e){e=e||w.get.animationClass(),w.debug("Starting tween",e),x.addClass(e).one(v+".complete"+y,w.complete),h.useFailSafe&&w.add.failSafe(),w.set.duration(h.duration),h.onStart.call(k)}},save:{animation:function(e){w.cache||(w.cache={}),w.cache.animation=e},displayType:function(e){"none"!==e&&x.data(g.displayType,e)},transitionExists:function(t,i){e.fn.transition.exists[t]=i,w.verbose("Saving existence of transition",t,i)}},restore:{conditions:function(){var e=w.get.currentAnimation();e&&(x.removeClass(e),w.verbose("Removing animation class",w.cache)),w.remove.duration()}},add:{failSafe:function(){var e=w.get.duration();w.timer=setTimeout(function(){x.triggerHandler(v)},e+h.failSafeDelay),w.verbose("Adding fail safe timer",w.timer)}},remove:{animating:function(){x.removeClass(m.animating)},animationCallbacks:function(){w.remove.queueCallback(),w.remove.completeCallback()},queueCallback:function(){x.off(".queue"+y)},completeCallback:function(){x.off(".complete"+y)},display:function(){x.css("display","")},direction:function(){x.removeClass(m.inward).removeClass(m.outward)},duration:function(){x.css("animation-duration","")},failSafe:function(){w.verbose("Removing fail safe timer",w.timer),w.timer&&clearTimeout(w.timer)},hidden:function(){x.removeClass(m.hidden)},visible:function(){x.removeClass(m.visible)},looping:function(){w.debug("Transitions are no longer looping"),w.is.looping()&&(w.reset(),x.removeClass(m.looping))},transition:function(){x.removeClass(m.visible).removeClass(m.hidden)}},get:{settings:function(t,i,n){return"object"==typeof t?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n,duration:i}):"string"==typeof i||"number"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,duration:i}):"object"==typeof i?e.extend({},e.fn.transition.settings,i,{animation:t}):"function"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,onComplete:i}):e.extend({},e.fn.transition.settings,{animation:t})},animationClass:function(e){var t=e||h.animation,i=w.can.transition()&&!w.has.direction()?w.get.direction()+" ":"";return m.animating+" "+m.transition+" "+i+t},currentAnimation:function(){return!(!w.cache||void 0===w.cache.animation)&&w.cache.animation},currentDirection:function(){return w.is.inward()?m.inward:m.outward},direction:function(){return w.is.hidden()||!w.is.visible()?m.inward:m.outward},animationDirection:function(t){var i;return"string"==typeof(t=t||h.animation)&&(t=t.split(" "),e.each(t,function(e,t){t===m.inward?i=m.inward:t===m.outward&&(i=m.outward)})),i||!1},duration:function(e){return!1===(e=e||h.duration)&&(e=x.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(){return h.displayType?h.displayType:(void 0===x.data(g.displayType)&&w.can.transition(!0),x.data(g.displayType))},userStyle:function(e){return(e=e||x.attr("style")||"").replace(/display.*?;/,"")},transitionExists:function(t){return e.fn.transition.exists[t]},animationStartEvent:function(){var e,t=i.createElement("div"),n={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in n)if(void 0!==t.style[e])return n[e];return!1},animationEndEvent:function(){var e,t=i.createElement("div"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in n)if(void 0!==t.style[e])return n[e];return!1}},can:{transition:function(t){var i,n,o,s,a,r,l,c=h.animation,d=w.get.transitionExists(c);if(void 0===d||t){if(w.verbose("Determining whether animation exists"),i=x.attr("class"),n=x.prop("tagName"),o=e("<"+n+" />").addClass(i).insertAfter(x),s=o.addClass(c).removeClass(m.inward).removeClass(m.outward).addClass(m.animating).addClass(m.transition).css("animationName"),a=o.addClass(m.inward).css("animationName"),l=o.attr("class",i).removeAttr("style").removeClass(m.hidden).removeClass(m.visible).show().css("display"),w.verbose("Determining final display state",l),w.save.displayType(l),o.remove(),s!=a)w.debug("Direction exists for animation",c),r=!0;else{if("none"==s||!s)return void w.debug("No animation defined in css",c);w.debug("Static animation found",c,l),r=!1}w.save.transitionExists(c,r)}return void 0!==d?d:r},animate:function(){return void 0!==w.can.transition()}},is:{animating:function(){return x.hasClass(m.animating)},inward:function(){return x.hasClass(m.inward)},outward:function(){return x.hasClass(m.outward)},looping:function(){return x.hasClass(m.looping)},occurring:function(e){return e=e||h.animation,e="."+e.replace(" ","."),x.filter(e).length>0},visible:function(){return x.is(":visible")},hidden:function(){return"hidden"===x.css("visibility")},supported:function(){return!1!==v}},hide:function(){w.verbose("Hiding element"),w.is.animating()&&w.reset(),k.blur(),w.remove.display(),w.remove.visible(),w.set.hidden(),w.force.hidden(),h.onHide.call(k),h.onComplete.call(k)},show:function(e){w.verbose("Showing element",e),w.remove.hidden(),w.set.visible(),w.force.visible(),h.onShow.call(k),h.onComplete.call(k)},toggle:function(){w.is.visible()?w.hide():w.show()},stop:function(){w.debug("Stopping current animation"),x.triggerHandler(v)},stopAll:function(){w.debug("Stopping all animation"),w.remove.queueCallback(),x.triggerHandler(v)},clear:{queue:function(){w.debug("Clearing animation queue"),w.remove.queueCallback()}},enable:function(){w.verbose("Starting animation"),x.removeClass(m.disabled)},disable:function(){w.debug("Stopping animation"),x.addClass(m.disabled)},setting:function(t,i){if(w.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===i)return h[t];e.isPlainObject(h[t])?e.extend(!0,h[t],i):h[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,w,t);else{if(void 0===i)return w[t];w[t]=i}},debug:function(){!h.silent&&h.debug&&(h.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,h.name+":"),w.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),w.verbose.apply(console,arguments)))},error:function(){h.silent||(w.error=Function.prototype.bind.call(console.error,console,h.name+":"),w.error.apply(console,arguments))},performance:{log:function(e){var t,i;h.performance&&(i=(t=(new Date).getTime())-(a||t),a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:k,"Execution Time":i})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,500)},display:function(){var t=h.name+":",i=0;a=!1,clearTimeout(w.performance.timer),e.each(r,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",s&&(t+=" '"+s+"'"),o.length>1&&(t+=" ("+o.length+")"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,i,o){var s,a,r,l=p;return i=i||d,o=k||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]&&(a=l[n],!1);l=l[n]}})),e.isFunction(a)?r=a.apply(o,i):void 0!==a&&(r=a),e.isArray(n)?n.push(r):void 0!==n?n=[n,r]:void 0!==r&&(n=r),void 0!==a&&a}}).initialize()}),void 0!==n?n:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(e,t,i,n){"use strict";var t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();e.api=e.fn.api=function(i){var n,o=e(e.isFunction(this)?t:this),s=o.selector||"",a=(new Date).getTime(),r=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1);return o.each(function(){var o,u,h,p,f,m=e.isPlainObject(i)?e.extend(!0,{},e.fn.api.settings,i):e.extend({},e.fn.api.settings),g=m.namespace,v=m.metadata,b=m.selector,y=m.error,w=m.className,x="."+g,k="module-"+g,C=e(this),S=C.closest(b.form),T=m.stateContext?e(m.stateContext):C,D=this,$=T[0],_=C.data(k);f={initialize:function(){c||f.bind.events(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),_=f,C.data(k,_)},destroy:function(){f.verbose("Destroying previous module for",D),C.removeData(k).off(x)},bind:{events:function(){var e=f.get.event();e?(f.verbose("Attaching API events to element",e),C.on(e+x,f.event.trigger)):"now"==m.on&&(f.debug("Querying API endpoint immediately"),f.query())}},decode:{json:function(e){if(void 0!==e&&"string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}},read:{cachedResponse:function(e){var i;{if(void 0!==t.Storage)return i=sessionStorage.getItem(e),f.debug("Using cached response",e,i),i=f.decode.json(i);f.error(y.noStorage)}}},write:{cachedResponse:function(i,n){n&&""===n?f.debug("Response empty, not caching",n):void 0!==t.Storage?(e.isPlainObject(n)&&(n=JSON.stringify(n)),sessionStorage.setItem(i,n),f.verbose("Storing cached response for url",i,n)):f.error(y.noStorage)}},query:function(){if(f.is.disabled())f.debug("Element is disabled API request aborted");else{if(f.is.loading()){if(!m.interruptRequests)return void f.debug("Cancelling request, previous request is still pending");f.debug("Interrupting previous request"),f.abort()}if(m.defaultData&&e.extend(!0,m.urlData,f.get.defaultData()),m.serializeForm&&(m.data=f.add.formData(m.data)),!1===(u=f.get.settings()))return f.cancelled=!0,void f.error(y.beforeSend);if(f.cancelled=!1,(h=f.get.templatedURL())||f.is.mocked()){if((h=f.add.urlData(h))||f.is.mocked()){if(u.url=m.base+h,o=e.extend(!0,{},m,{type:m.method||m.type,data:void 0,url:m.base+h,beforeSend:m.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),f.debug("Querying URL",o.url),f.verbose("Using AJAX settings",o),"local"===m.cache&&f.read.cachedResponse(h))return f.debug("Response returned from local cache"),f.request=f.create.request(),void f.request.resolveWith($,[f.read.cachedResponse(h)]);m.throttle?m.throttleFirstRequest||f.timer?(f.debug("Throttling request",m.throttle),clearTimeout(f.timer),f.timer=setTimeout(function(){f.timer&&delete f.timer,f.debug("Sending throttled request",void 0,o.method),f.send.request()},m.throttle)):(f.debug("Sending request",void 0,o.method),f.send.request(),f.timer=setTimeout(function(){},m.throttle)):(f.debug("Sending request",void 0,o.method),f.send.request())}}else f.error(y.missingURL)}},should:{removeError:function(){return!0===m.hideError||"auto"===m.hideError&&!f.is.form()}},is:{disabled:function(){return C.filter(b.disabled).length>0},expectingJSON:function(){return"json"===m.dataType||"jsonp"===m.dataType},form:function(){return C.is("form")||T.is("form")},mocked:function(){return m.mockResponse||m.mockResponseAsync||m.response||m.responseAsync},input:function(){return C.is("input")},loading:function(){return!!f.request&&"pending"==f.request.state()},abortedRequest:function(e){return e&&void 0!==e.readyState&&0===e.readyState?(f.verbose("XHR request determined to be aborted"),!0):(f.verbose("XHR request was not aborted"),!1)},validResponse:function(t){return f.is.expectingJSON()&&e.isFunction(m.successTest)?(f.debug("Checking JSON returned success",m.successTest,t),m.successTest(t)?(f.debug("Response passed success test",t),!0):(f.debug("Response failed success test",t),!1)):(f.verbose("Response is not JSON, skipping validation",m.successTest,t),!0)}},was:{cancelled:function(){return f.cancelled||!1},succesful:function(){return f.request&&"resolved"==f.request.state()},failure:function(){return f.request&&"rejected"==f.request.state()},complete:function(){return f.request&&("resolved"==f.request.state()||"rejected"==f.request.state())}},add:{urlData:function(t,i){var n,o;return t&&(n=t.match(m.regExp.required),o=t.match(m.regExp.optional),i=i||m.urlData,n&&(f.debug("Looking for required URL variables",n),e.each(n,function(n,o){var s=-1!==o.indexOf("$")?o.substr(2,o.length-3):o.substr(1,o.length-2),a=e.isPlainObject(i)&&void 0!==i[s]?i[s]:void 0!==C.data(s)?C.data(s):void 0!==T.data(s)?T.data(s):i[s];if(void 0===a)return f.error(y.requiredParameter,s,t),t=!1,!1;f.verbose("Found required variable",s,a),a=m.encodeParameters?f.get.urlEncodedValue(a):a,t=t.replace(o,a)})),o&&(f.debug("Looking for optional URL variables",n),e.each(o,function(n,o){var s=-1!==o.indexOf("$")?o.substr(3,o.length-4):o.substr(2,o.length-3),a=e.isPlainObject(i)&&void 0!==i[s]?i[s]:void 0!==C.data(s)?C.data(s):void 0!==T.data(s)?T.data(s):i[s];void 0!==a?(f.verbose("Optional variable Found",s,a),t=t.replace(o,a)):(f.verbose("Optional variable not found",s),t=-1!==t.indexOf("/"+o)?t.replace("/"+o,""):t.replace(o,""))}))),t},formData:function(t){var i=void 0!==e.fn.serializeObject,n=i?S.serializeObject():S.serialize();return t=t||m.data,e.isPlainObject(t)?i?(f.debug("Extending existing data with form data",t,n),t=e.extend(!0,{},t,n)):(f.error(y.missingSerialize),f.debug("Cant extend data. Replacing data with form data",t,n),t=n):(f.debug("Adding form data",n),t=n),t}},send:{request:function(){f.set.loading(),f.request=f.create.request(),f.is.mocked()?f.mockedXHR=f.create.mockedXHR():f.xhr=f.create.xhr(),m.onRequest.call($,f.request,f.xhr)}},event:{trigger:function(e){f.query(),"submit"!=e.type&&"click"!=e.type||e.preventDefault()},xhr:{always:function(){},done:function(t,i,n){var o=this,s=(new Date).getTime()-p,a=m.loadingDuration-s,r=!!e.isFunction(m.onResponse)&&(f.is.expectingJSON()?m.onResponse.call(o,e.extend(!0,{},t)):m.onResponse.call(o,t));a=a>0?a:0,r&&(f.debug("Modified API response in onResponse callback",m.onResponse,r,t),t=r),a>0&&f.debug("Response completed early delaying state change by",a),setTimeout(function(){f.is.validResponse(t)?f.request.resolveWith(o,[t,n]):f.request.rejectWith(o,[n,"invalid"])},a)},fail:function(e,t,i){var n=this,o=(new Date).getTime()-p,s=m.loadingDuration-o;(s=s>0?s:0)>0&&f.debug("Response completed early delaying state change by",s),setTimeout(function(){f.is.abortedRequest(e)?f.request.rejectWith(n,[e,"aborted",i]):f.request.rejectWith(n,[e,"error",t,i])},s)}},request:{done:function(e,t){f.debug("Successful API Response",e),"local"===m.cache&&h&&(f.write.cachedResponse(h,e),f.debug("Saving server response locally",f.cache)),m.onSuccess.call($,e,C,t)},complete:function(e,t){var i,n;f.was.succesful()?(n=e,i=t):(i=e,n=f.get.responseFromXHR(i)),f.remove.loading(),m.onComplete.call($,n,C,i)},fail:function(e,t,i){var n=f.get.responseFromXHR(e),s=f.get.errorFromRequest(n,t,i);if("aborted"==t)return f.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",t,i),m.onAbort.call($,t,C,e),!0;"invalid"==t?f.debug("JSON did not pass success test. A server-side error has most likely occurred",n):"error"==t&&void 0!==e&&(f.debug("XHR produced a server error",t,i),200!=e.status&&void 0!==i&&""!==i&&f.error(y.statusMessage+i,o.url),m.onError.call($,s,C,e)),m.errorDuration&&"aborted"!==t&&(f.debug("Adding error state"),f.set.error(),f.should.removeError()&&setTimeout(f.remove.error,m.errorDuration)),f.debug("API Request failed",s,e),m.onFailure.call($,n,C,e)}}},create:{request:function(){return e.Deferred().always(f.event.request.complete).done(f.event.request.done).fail(f.event.request.fail)},mockedXHR:function(){var t,i,n,o=m.mockResponse||m.response,s=m.mockResponseAsync||m.responseAsync;return n=e.Deferred().always(f.event.xhr.complete).done(f.event.xhr.done).fail(f.event.xhr.fail),o?(e.isFunction(o)?(f.debug("Using specified synchronous callback",o),i=o.call($,u)):(f.debug("Using settings specified response",o),i=o),n.resolveWith($,[i,!1,{responseText:i}])):e.isFunction(s)&&(t=function(e){f.debug("Async callback returned response",e),e?n.resolveWith($,[e,!1,{responseText:e}]):n.rejectWith($,[{responseText:e},!1,!1])},f.debug("Using specified async response callback",s),s.call($,u,t)),n},xhr:function(){var t;return t=e.ajax(o).always(f.event.xhr.always).done(f.event.xhr.done).fail(f.event.xhr.fail),f.verbose("Created server request",t,o),t}},set:{error:function(){f.verbose("Adding error state to element",T),T.addClass(w.error)},loading:function(){f.verbose("Adding loading state to element",T),T.addClass(w.loading),p=(new Date).getTime()}},remove:{error:function(){f.verbose("Removing error state from element",T),T.removeClass(w.error)},loading:function(){f.verbose("Removing loading state from element",T),T.removeClass(w.loading)}},get:{responseFromXHR:function(t){return!!e.isPlainObject(t)&&(f.is.expectingJSON()?f.decode.json(t.responseText):t.responseText)},errorFromRequest:function(t,i,n){return e.isPlainObject(t)&&void 0!==t.error?t.error:void 0!==m.error[i]?m.error[i]:n},request:function(){return f.request||!1},xhr:function(){return f.xhr||!1},settings:function(){var t;return(t=m.beforeSend.call($,m))&&(void 0!==t.success&&(f.debug("Legacy success callback detected",t),f.error(y.legacyParameters,t.success),t.onSuccess=t.success),void 0!==t.failure&&(f.debug("Legacy failure callback detected",t),f.error(y.legacyParameters,t.failure),t.onFailure=t.failure),void 0!==t.complete&&(f.debug("Legacy complete callback detected",t),f.error(y.legacyParameters,t.complete),t.onComplete=t.complete)),void 0===t&&f.error(y.noReturnedValue),!1===t?t:void 0!==t?e.extend(!0,{},t):e.extend(!0,{},m)},urlEncodedValue:function(e){var i=t.decodeURIComponent(e),n=t.encodeURIComponent(e);return i!==e?(f.debug("URL value is already encoded, avoiding double encoding",e),e):(f.verbose("Encoding value using encodeURIComponent",e,n),n)},defaultData:function(){var t={};return e.isWindow(D)||(f.is.input()?t.value=C.val():f.is.form()||(t.text=C.text())),t},event:function(){return e.isWindow(D)||"now"==m.on?(f.debug("API called without element, no events attached"),!1):"auto"==m.on?C.is("input")?void 0!==D.oninput?"input":void 0!==D.onpropertychange?"propertychange":"keyup":C.is("form")?"submit":"click":m.on},templatedURL:function(e){if(e=e||C.data(v.action)||m.action||!1,h=C.data(v.url)||m.url||!1)return f.debug("Using specified url",h),h;if(e){if(f.debug("Looking up url for action",e,m.api),void 0===m.api[e]&&!f.is.mocked())return void f.error(y.missingAction,m.action,m.api);h=m.api[e]}else f.is.form()&&(h=C.attr("action")||T.attr("action")||!1,f.debug("No url or action specified, defaulting to form action",h));return h}},abort:function(){var e=f.get.xhr();e&&"resolved"!==e.state()&&(f.debug("Cancelling API request"),e.abort())},reset:function(){f.remove.error(),f.remove.loading()},setting:function(t,i){if(f.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,m,t);else{if(void 0===i)return m[t];e.isPlainObject(m[t])?e.extend(!0,m[t],i):m[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===i)return f[t];f[t]=i}},debug:function(){!m.silent&&m.debug&&(m.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,m.name+":"),f.debug.apply(console,arguments)))},verbose:function(){!m.silent&&m.verbose&&m.debug&&(m.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),f.verbose.apply(console,arguments)))},error:function(){m.silent||(f.error=Function.prototype.bind.call(console.error,console,m.name+":"),f.error.apply(console,arguments))},performance:{log:function(e){var t,i;m.performance&&(i=(t=(new Date).getTime())-(a||t),a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":i})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=m.name+":",i=0;a=!1,clearTimeout(f.performance.timer),e.each(r,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",s&&(t+=" '"+s+"'"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,i,o){var s,a,r,l=_;return i=i||d,o=D||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]?(a=l[n],!1):(f.error(y.method,t),!1);l=l[n]}})),e.isFunction(a)?r=a.apply(o,i):void 0!==a&&(r=a),e.isArray(n)?n.push(r):void 0!==n?n=[n,r]:void 0!==r&&(n=r),a}},c?(void 0===_&&f.initialize(),f.invoke(l)):(void 0!==_&&_.invoke("destroy"),f.initialize())}),void 0!==n?n:this},e.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2e3,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,response:!1,responseAsync:!1,beforeSend:function(e){return e},beforeXHR:function(e){},onRequest:function(e,t){},onResponse:!1,onSuccess:function(e,t){},onComplete:function(e,t){},onFailure:function(e,t){},onError:function(e,t){},onAbort:function(e,t){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,document),function(e,t,i,n){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.state=function(t){var n,o=e(this),s=o.selector||"",a=(i.documentElement,(new Date).getTime()),r=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1);return o.each(function(){var i,u=e.isPlainObject(t)?e.extend(!0,{},e.fn.state.settings,t):e.extend({},e.fn.state.settings),h=u.error,p=u.metadata,f=u.className,m=u.namespace,g=u.states,v=u.text,b="."+m,y=m+"-module",w=e(this),x=this,k=w.data(y);i={initialize:function(){i.verbose("Initializing module"),u.automatic&&i.add.defaults(),u.context&&""!==s?e(u.context).on(s,"mouseenter"+b,i.change.text).on(s,"mouseleave"+b,i.reset.text).on(s,"click"+b,i.toggle.state):w.on("mouseenter"+b,i.change.text).on("mouseleave"+b,i.reset.text).on("click"+b,i.toggle.state),i.instantiate()},instantiate:function(){i.verbose("Storing instance of module",i),k=i,w.data(y,i)},destroy:function(){i.verbose("Destroying previous module",k),w.off(b).removeData(y)},refresh:function(){i.verbose("Refreshing selector cache"),w=e(x)},add:{defaults:function(){var n=t&&e.isPlainObject(t.states)?t.states:{};e.each(u.defaults,function(t,o){void 0!==i.is[t]&&i.is[t]()&&(i.verbose("Adding default states",t,x),e.extend(u.states,o,n))})}},is:{active:function(){return w.hasClass(f.active)},loading:function(){return w.hasClass(f.loading)},inactive:function(){return!w.hasClass(f.active)},state:function(e){return void 0!==f[e]&&w.hasClass(f[e])},enabled:function(){return!w.is(u.filter.active)},disabled:function(){return w.is(u.filter.active)},textEnabled:function(){return!w.is(u.filter.text)},button:function(){return w.is(".button:not(a, .submit)")},input:function(){return w.is("input")},progress:function(){return w.is(".ui.progress")}},allow:function(e){i.debug("Now allowing state",e),g[e]=!0},disallow:function(e){i.debug("No longer allowing",e),g[e]=!1},allows:function(e){return g[e]||!1},enable:function(){w.removeClass(f.disabled)},disable:function(){w.addClass(f.disabled)},setState:function(e){i.allows(e)&&w.addClass(f[e])},removeState:function(e){i.allows(e)&&w.removeClass(f[e])},toggle:{state:function(){var t;if(i.allows("active")&&i.is.enabled()){if(i.refresh(),void 0!==e.fn.api)if(t=w.api("get request"),w.api("was cancelled"))i.debug("API Request cancelled by beforesend"),u.activateTest=function(){return!1},u.deactivateTest=function(){return!1};else if(t)return void i.listenTo(t);i.change.state()}}},listenTo:function(t){i.debug("API request detected, waiting for state signal",t),t&&(v.loading&&i.update.text(v.loading),e.when(t).then(function(){"resolved"==t.state()?(i.debug("API request succeeded"),u.activateTest=function(){return!0},u.deactivateTest=function(){return!0}):(i.debug("API request failed"),u.activateTest=function(){return!1},u.deactivateTest=function(){return!1}),i.change.state()}))},change:{state:function(){i.debug("Determining state change direction"),i.is.inactive()?i.activate():i.deactivate(),u.sync&&i.sync(),u.onChange.call(x)},text:function(){i.is.textEnabled()&&(i.is.disabled()?(i.verbose("Changing text to disabled text",v.hover),i.update.text(v.disabled)):i.is.active()?v.hover?(i.verbose("Changing text to hover text",v.hover),i.update.text(v.hover)):v.deactivate&&(i.verbose("Changing text to deactivating text",v.deactivate),i.update.text(v.deactivate)):v.hover?(i.verbose("Changing text to hover text",v.hover),i.update.text(v.hover)):v.activate&&(i.verbose("Changing text to activating text",v.activate),i.update.text(v.activate)))}},activate:function(){u.activateTest.call(x)&&(i.debug("Setting state to active"),w.addClass(f.active),i.update.text(v.active),u.onActivate.call(x))},deactivate:function(){u.deactivateTest.call(x)&&(i.debug("Setting state to inactive"),w.removeClass(f.active),i.update.text(v.inactive),u.onDeactivate.call(x))},sync:function(){i.verbose("Syncing other buttons to current state"),i.is.active()?o.not(w).state("activate"):o.not(w).state("deactivate")},get:{text:function(){return u.selector.text?w.find(u.selector.text).text():w.html()},textFor:function(e){return v[e]||!1}},flash:{text:function(e,t,n){var o=i.get.text();i.debug("Flashing text message",e,t),e=e||u.text.flash,t=t||u.flashDuration,n=n||function(){},i.update.text(e),setTimeout(function(){i.update.text(o),n.call(x)},t)}},reset:{text:function(){var e=v.active||w.data(p.storedText),t=v.inactive||w.data(p.storedText);i.is.textEnabled()&&(i.is.active()&&e?(i.verbose("Resetting active text",e),i.update.text(e)):t&&(i.verbose("Resetting inactive text",e),i.update.text(t)))}},update:{text:function(e){var t=i.get.text();e&&e!==t?(i.debug("Updating text",e),u.selector.text?w.data(p.storedText,e).find(u.selector.text).text(e):w.data(p.storedText,e).html(e)):i.debug("Text is already set, ignoring update",e)}},setting:function(t,n){if(i.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,u,t);else{if(void 0===n)return u[t];e.isPlainObject(u[t])?e.extend(!0,u[t],n):u[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,i,t);else{if(void 0===n)return i[t];i[t]=n}},debug:function(){!u.silent&&u.debug&&(u.performance?i.performance.log(arguments):(i.debug=Function.prototype.bind.call(console.info,console,u.name+":"),i.debug.apply(console,arguments)))},verbose:function(){!u.silent&&u.verbose&&u.debug&&(u.performance?i.performance.log(arguments):(i.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),i.verbose.apply(console,arguments)))},error:function(){u.silent||(i.error=Function.prototype.bind.call(console.error,console,u.name+":"),i.error.apply(console,arguments))},performance:{log:function(e){var t,n;u.performance&&(n=(t=(new Date).getTime())-(a||t),a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:x,"Execution Time":n})),clearTimeout(i.performance.timer),i.performance.timer=setTimeout(i.performance.display,500)},display:function(){var t=u.name+":",n=0;a=!1,clearTimeout(i.performance.timer),e.each(r,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,o,s){var a,r,l,c=k;return o=o||d,s=x||s,"string"==typeof t&&void 0!==c&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,o){var s=n!=a?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[s])&&n!=a)c=c[s];else{if(void 0!==c[s])return r=c[s],!1;if(!e.isPlainObject(c[o])||n==a)return void 0!==c[o]?(r=c[o],!1):(i.error(h.method,t),!1);c=c[o]}})),e.isFunction(r)?l=r.apply(s,o):void 0!==r&&(l=r),e.isArray(n)?n.push(l):void 0!==n?n=[n,l]:void 0!==l&&(n=l),r}},c?(void 0===k&&i.initialize(),i.invoke(l)):(void 0!==k&&k.invoke("destroy"),i.initialize())}),void 0!==n?n:this},e.fn.state.settings={name:"State",debug:!1,verbose:!1,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function(e,t,i,n){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.visibility=function(n){var o,s=e(this),a=s.selector||"",r=(new Date).getTime(),l=[],c=arguments[0],d="string"==typeof c,u=[].slice.call(arguments,1),h=s.length,p=0;return s.each(function(){var s,f,m,g,v=e.isPlainObject(n)?e.extend(!0,{},e.fn.visibility.settings,n):e.extend({},e.fn.visibility.settings),b=v.className,y=v.namespace,w=v.error,x=v.metadata,k="."+y,C="module-"+y,S=e(t),T=e(this),D=e(v.context),$=(T.selector,T.data(C)),_=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},M=this,O=!1;g={initialize:function(){g.debug("Initializing",v),g.setup.cache(),g.should.trackChanges()&&("image"==v.type&&g.setup.image(),"fixed"==v.type&&g.setup.fixed(),v.observeChanges&&g.observeChanges(),g.bind.events()),g.save.position(),g.is.visible()||g.error(w.visible,T),v.initialCheck&&g.checkVisibility(),g.instantiate()},instantiate:function(){g.debug("Storing instance",g),T.data(C,g),$=g},destroy:function(){g.verbose("Destroying previous module"),m&&m.disconnect(),f&&f.disconnect(),S.off("load"+k,g.event.load).off("resize"+k,g.event.resize),D.off("scroll"+k,g.event.scroll).off("scrollchange"+k,g.event.scrollchange),"fixed"==v.type&&(g.resetFixed(),g.remove.placeholder()),T.off(k).removeData(C)},observeChanges:function(){"MutationObserver"in t&&(f=new MutationObserver(g.event.contextChanged),m=new MutationObserver(g.event.changed),f.observe(i,{childList:!0,subtree:!0}),m.observe(M,{childList:!0,subtree:!0}),g.debug("Setting up mutation observer",m))},bind:{events:function(){g.verbose("Binding visibility events to scroll and resize"),v.refreshOnLoad&&S.on("load"+k,g.event.load),S.on("resize"+k,g.event.resize),D.off("scroll"+k).on("scroll"+k,g.event.scroll).on("scrollchange"+k,g.event.scrollchange)}},event:{changed:function(e){g.verbose("DOM tree modified, updating visibility calculations"),g.timer=setTimeout(function(){g.verbose("DOM tree modified, updating sticky menu"),g.refresh()},100)},contextChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==M||e(t).find(M).length>0)&&(g.debug("Element removed from DOM, tearing down events"),g.destroy())})})},resize:function(){g.debug("Window resized"),v.refreshOnResize&&_(g.refresh)},load:function(){g.debug("Page finished loading"),_(g.refresh)},scroll:function(){v.throttle?(clearTimeout(g.timer),g.timer=setTimeout(function(){D.triggerHandler("scrollchange"+k,[D.scrollTop()])},v.throttle)):_(function(){D.triggerHandler("scrollchange"+k,[D.scrollTop()])})},scrollchange:function(e,t){g.checkVisibility(t)}},precache:function(t,n){t instanceof Array||(t=[t]);for(var o=t.length,s=0,a=[],r=i.createElement("img"),l=function(){++s>=t.length&&e.isFunction(n)&&n()};o--;)(r=i.createElement("img")).onload=l,r.onerror=l,r.src=t[o],a.push(r)},enableCallbacks:function(){g.debug("Allowing callbacks to occur"),O=!1},disableCallbacks:function(){g.debug("Disabling all callbacks temporarily"),O=!0},should:{trackChanges:function(){return d?(g.debug("One time query, no need to bind events"),!1):(g.debug("Callbacks being attached"),!0)}},setup:{cache:function(){g.cache={occurred:{},screen:{},element:{}}},image:function(){var e=T.data(x.src);e&&(g.verbose("Lazy loading image",e),v.once=!0,v.observeChanges=!1,v.onOnScreen=function(){g.debug("Image on screen",M),g.precache(e,function(){g.set.image(e,function(){++p==h&&v.onAllLoaded.call(this),v.onLoad.call(this)})})})},fixed:function(){g.debug("Setting up fixed"),v.once=!1,v.observeChanges=!1,v.initialCheck=!0,v.refreshOnLoad=!0,n.transition||(v.transition=!1),g.create.placeholder(),g.debug("Added placeholder",s),v.onTopPassed=function(){g.debug("Element passed, adding fixed position",T),g.show.placeholder(),g.set.fixed(),v.transition&&void 0!==e.fn.transition&&T.transition(v.transition,v.duration)},v.onTopPassedReverse=function(){g.debug("Element returned to position, removing fixed",T),g.hide.placeholder(),g.remove.fixed()}}},create:{placeholder:function(){g.verbose("Creating fixed position placeholder"),s=T.clone(!1).css("display","none").addClass(b.placeholder).insertAfter(T)}},show:{placeholder:function(){g.verbose("Showing placeholder"),s.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){g.verbose("Hiding placeholder"),s.css("display","none").css("visibility","")}},set:{fixed:function(){g.verbose("Setting element to fixed position"),T.addClass(b.fixed).css({position:"fixed",top:v.offset+"px",left:"auto",zIndex:v.zIndex}),v.onFixed.call(M)},image:function(t,i){T.attr("src",t),v.transition?void 0!==e.fn.transition?T.transition(v.transition,v.duration,i):T.fadeIn(v.duration,i):T.show()}},is:{onScreen:function(){return g.get.elementCalculations().onScreen},offScreen:function(){return g.get.elementCalculations().offScreen},visible:function(){return!(!g.cache||!g.cache.element)&&!(0===g.cache.element.width&&0===g.cache.element.offset.top)}},refresh:function(){g.debug("Refreshing constants (width/height)"),"fixed"==v.type&&g.resetFixed(),g.reset(),g.save.position(),v.checkOnRefresh&&g.checkVisibility(),v.onRefresh.call(M)},resetFixed:function(){g.remove.fixed(),g.remove.occurred()},reset:function(){g.verbose("Resetting all cached values"),e.isPlainObject(g.cache)&&(g.cache.screen={},g.cache.element={})},checkVisibility:function(e){g.verbose("Checking visibility of element",g.cache.element),!O&&g.is.visible()&&(g.save.scroll(e),g.save.calculations(),g.passed(),g.passingReverse(),g.topVisibleReverse(),g.bottomVisibleReverse(),g.topPassedReverse(),g.bottomPassedReverse(),g.onScreen(),g.offScreen(),g.passing(),g.topVisible(),g.bottomVisible(),g.topPassed(),g.bottomPassed(),v.onUpdate&&v.onUpdate.call(M,g.get.elementCalculations()))},passed:function(t,i){var n=g.get.elementCalculations();if(t&&i)v.onPassed[t]=i;else{if(void 0!==t)return g.get.pixelsPassed(t)>n.pixelsPassed;n.passing&&e.each(v.onPassed,function(e,t){n.bottomVisible||n.pixelsPassed>g.get.pixelsPassed(e)?g.execute(t,e):v.once||g.remove.occurred(t)})}},onScreen:function(e){var t=g.get.elementCalculations(),i=e||v.onOnScreen;if(e&&(g.debug("Adding callback for onScreen",e),v.onOnScreen=e),t.onScreen?g.execute(i,"onScreen"):v.once||g.remove.occurred("onScreen"),void 0!==e)return t.onOnScreen},offScreen:function(e){var t=g.get.elementCalculations(),i=e||v.onOffScreen;if(e&&(g.debug("Adding callback for offScreen",e),v.onOffScreen=e),t.offScreen?g.execute(i,"offScreen"):v.once||g.remove.occurred("offScreen"),void 0!==e)return t.onOffScreen},passing:function(e){var t=g.get.elementCalculations(),i=e||v.onPassing;if(e&&(g.debug("Adding callback for passing",e),v.onPassing=e),t.passing?g.execute(i,"passing"):v.once||g.remove.occurred("passing"),void 0!==e)return t.passing},topVisible:function(e){var t=g.get.elementCalculations(),i=e||v.onTopVisible;if(e&&(g.debug("Adding callback for top visible",e),v.onTopVisible=e),t.topVisible?g.execute(i,"topVisible"):v.once||g.remove.occurred("topVisible"),void 0===e)return t.topVisible},bottomVisible:function(e){var t=g.get.elementCalculations(),i=e||v.onBottomVisible;if(e&&(g.debug("Adding callback for bottom visible",e),v.onBottomVisible=e),t.bottomVisible?g.execute(i,"bottomVisible"):v.once||g.remove.occurred("bottomVisible"),void 0===e)return t.bottomVisible},topPassed:function(e){var t=g.get.elementCalculations(),i=e||v.onTopPassed;if(e&&(g.debug("Adding callback for top passed",e),v.onTopPassed=e),t.topPassed?g.execute(i,"topPassed"):v.once||g.remove.occurred("topPassed"),void 0===e)return t.topPassed},bottomPassed:function(e){var t=g.get.elementCalculations(),i=e||v.onBottomPassed;if(e&&(g.debug("Adding callback for bottom passed",e),v.onBottomPassed=e),t.bottomPassed?g.execute(i,"bottomPassed"):v.once||g.remove.occurred("bottomPassed"),void 0===e)return t.bottomPassed},passingReverse:function(e){var t=g.get.elementCalculations(),i=e||v.onPassingReverse;if(e&&(g.debug("Adding callback for passing reverse",e),v.onPassingReverse=e),t.passing?v.once||g.remove.occurred("passingReverse"):g.get.occurred("passing")&&g.execute(i,"passingReverse"),void 0!==e)return!t.passing},topVisibleReverse:function(e){var t=g.get.elementCalculations(),i=e||v.onTopVisibleReverse;if(e&&(g.debug("Adding callback for top visible reverse",e),v.onTopVisibleReverse=e),t.topVisible?v.once||g.remove.occurred("topVisibleReverse"):g.get.occurred("topVisible")&&g.execute(i,"topVisibleReverse"),void 0===e)return!t.topVisible},bottomVisibleReverse:function(e){var t=g.get.elementCalculations(),i=e||v.onBottomVisibleReverse;if(e&&(g.debug("Adding callback for bottom visible reverse",e),v.onBottomVisibleReverse=e),t.bottomVisible?v.once||g.remove.occurred("bottomVisibleReverse"):g.get.occurred("bottomVisible")&&g.execute(i,"bottomVisibleReverse"),void 0===e)return!t.bottomVisible},topPassedReverse:function(e){var t=g.get.elementCalculations(),i=e||v.onTopPassedReverse;if(e&&(g.debug("Adding callback for top passed reverse",e),v.onTopPassedReverse=e),t.topPassed?v.once||g.remove.occurred("topPassedReverse"):g.get.occurred("topPassed")&&g.execute(i,"topPassedReverse"),void 0===e)return!t.onTopPassed},bottomPassedReverse:function(e){var t=g.get.elementCalculations(),i=e||v.onBottomPassedReverse;if(e&&(g.debug("Adding callback for bottom passed reverse",e),v.onBottomPassedReverse=e),t.bottomPassed?v.once||g.remove.occurred("bottomPassedReverse"):g.get.occurred("bottomPassed")&&g.execute(i,"bottomPassedReverse"),void 0===e)return!t.bottomPassed},execute:function(e,t){var i=g.get.elementCalculations(),n=g.get.screenCalculations();(e=e||!1)&&(v.continuous?(g.debug("Callback being called continuously",t,i),e.call(M,i,n)):g.get.occurred(t)||(g.debug("Conditions met",t,i),e.call(M,i,n))),g.save.occurred(t)},remove:{fixed:function(){g.debug("Removing fixed position"),T.removeClass(b.fixed).css({position:"",top:"",left:"",zIndex:""}),v.onUnfixed.call(M)},placeholder:function(){g.debug("Removing placeholder content"),s&&s.remove()},occurred:function(e){if(e){var t=g.cache.occurred;void 0!==t[e]&&!0===t[e]&&(g.debug("Callback can now be called again",e),g.cache.occurred[e]=!1)}else g.cache.occurred={}}},save:{calculations:function(){g.verbose("Saving all calculations necessary to determine positioning"),g.save.direction(),g.save.screenCalculations(),g.save.elementCalculations()},occurred:function(e){e&&(void 0!==g.cache.occurred[e]&&!0===g.cache.occurred[e]||(g.verbose("Saving callback occurred",e),g.cache.occurred[e]=!0))},scroll:function(e){e=e+v.offset||D.scrollTop()+v.offset,g.cache.scroll=e},direction:function(){var e,t=g.get.scroll(),i=g.get.lastScroll();return e=t>i&&i?"down":t<i&&i?"up":"static",g.cache.direction=e,g.cache.direction},elementPosition:function(){var e=g.cache.element,t=g.get.screenSize();return g.verbose("Saving element position"),e.fits=e.height<t.height,e.offset=T.offset(),e.width=T.outerWidth(),e.height=T.outerHeight(),g.cache.element=e,e},elementCalculations:function(){var e=g.get.screenCalculations(),t=g.get.elementPosition();return v.includeMargin?(t.margin={},t.margin.top=parseInt(T.css("margin-top"),10),t.margin.bottom=parseInt(T.css("margin-bottom"),10),t.top=t.offset.top-t.margin.top,t.bottom=t.offset.top+t.height+t.margin.bottom):(t.top=t.offset.top,t.bottom=t.offset.top+t.height),t.topVisible=e.bottom>=t.top,t.topPassed=e.top>=t.top,t.bottomVisible=e.bottom>=t.bottom,t.bottomPassed=e.top>=t.bottom,t.pixelsPassed=0,t.percentagePassed=0,t.onScreen=t.topVisible&&!t.bottomPassed,t.passing=t.topPassed&&!t.bottomPassed,t.offScreen=!t.onScreen,t.passing&&(t.pixelsPassed=e.top-t.top,t.percentagePassed=(e.top-t.top)/t.height),g.cache.element=t,g.verbose("Updated element calculations",t),t},screenCalculations:function(){var e=g.get.scroll();return g.save.direction(),g.cache.screen.top=e,g.cache.screen.bottom=e+g.cache.screen.height,g.cache.screen},screenSize:function(){g.verbose("Saving window position"),g.cache.screen={height:D.height()}},position:function(){g.save.screenSize(),g.save.elementPosition()}},get:{pixelsPassed:function(e){var t=g.get.elementCalculations();return e.search("%")>-1?t.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return void 0!==g.cache.occurred&&(g.cache.occurred[e]||!1)},direction:function(){return void 0===g.cache.direction&&g.save.direction(),g.cache.direction},elementPosition:function(){return void 0===g.cache.element&&g.save.elementPosition(),g.cache.element},elementCalculations:function(){return void 0===g.cache.element&&g.save.elementCalculations(),g.cache.element},screenCalculations:function(){return void 0===g.cache.screen&&g.save.screenCalculations(),g.cache.screen},screenSize:function(){return void 0===g.cache.screen&&g.save.screenSize(),g.cache.screen},scroll:function(){return void 0===g.cache.scroll&&g.save.scroll(),g.cache.scroll},lastScroll:function(){return void 0===g.cache.screen?(g.debug("First scroll event, no last scroll could be found"),!1):g.cache.screen.top}},setting:function(t,i){if(e.isPlainObject(t))e.extend(!0,v,t);else{if(void 0===i)return v[t];v[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(void 0===i)return g[t];g[t]=i}},debug:function(){!v.silent&&v.debug&&(v.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,v.name+":"),g.debug.apply(console,arguments)))},verbose:function(){!v.silent&&v.verbose&&v.debug&&(v.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,v.name+":"),g.verbose.apply(console,arguments)))},error:function(){v.silent||(g.error=Function.prototype.bind.call(console.error,console,v.name+":"),g.error.apply(console,arguments))},performance:{log:function(e){var t,i;v.performance&&(i=(t=(new Date).getTime())-(r||t),r=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:M,"Execution Time":i})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,500)},display:function(){var t=v.name+":",i=0;r=!1,clearTimeout(g.performance.timer),e.each(l,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",a&&(t+=" '"+a+"'"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,i,n){var s,a,r,l=$;return i=i||u,n=M||n,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,n){var o=i!=s?n+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(l[o])&&i!=s)l=l[o];else{if(void 0!==l[o])return a=l[o],!1;if(!e.isPlainObject(l[n])||i==s)return void 0!==l[n]?(a=l[n],!1):(g.error(w.method,t),!1);l=l[n]}})),e.isFunction(a)?r=a.apply(n,i):void 0!==a&&(r=a),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),a}},d?(void 0===$&&g.initialize(),$.save.scroll(),$.save.calculations(),g.invoke(c)):(void 0!==$&&$.invoke("destroy"),g.initialize())}),void 0!==o?o:this},e.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:t,throttle:!1,type:!1,zIndex:"10",transition:"fade in",duration:1e3,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onLoad:function(){},onAllLoaded:function(){},onFixed:function(){},onUnfixed:function(){},onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document),function(e){"use strict";function t(e,t){b.debug&&window.console&&console[t?"error":"log"](e)}function i(e){return void 0===e||null===e||!e.length}function n(e){var t=/\./.test(1.1.toLocaleString())?".":",",i=new RegExp("\\"+t+"\\d+$");return Math.round(e).toLocaleString().replace(i,"")}function o(e,t,i,n){var s=t.split(" ");if(e instanceof NodeList)for(var a=0;a<e.length;a++)e[a]instanceof Node&&o(e[a],arguments[1],arguments[2],arguments[3]);else for(var r=0;r<s.length;r++)e[n?"addEventListener":"removeEventListener"](s[r],i,!1)}function s(e,t,i){e&&o(e,t,i,!0)}function a(e,t){for(var i in t)t[i]&&t[i].constructor&&t[i].constructor===Object?(e[i]=e[i]||{},a(e[i],t[i])):e[i]=t[i];return e}function r(e,t){if(t.network in b.popup){e.preventDefault();var i=b.popup[t.network],n=t.link.href,o=i.width,s=i.height,a=t.network;if(window["window-"+a]&&!window["window-"+a].closed)window["window-"+a].focus();else{var r=void 0!==window.screenLeft?window.screenLeft:screen.left,l=void 0!==window.screenTop?window.screenTop:screen.top,c=screen.width/2-o/2+r,d=screen.height/2-s/2+l;window["window-"+a]=window.open(n,a,"top="+d+",left="+c+",width="+o+",height="+s),window["window-"+a].focus()}}}function l(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))}function c(e,t){var i="jsonp_callback_"+Math.round(1e5*Math.random());window[i]=function(e){delete window[i],document.body.removeChild(n),t(e)};var n=document.createElement("script");n.setAttribute("src",e+(e.indexOf("?")>=0?"&":"?")+"callback="+i),document.body.appendChild(n)}function d(){b.storage.enabled&&b.storage.key in window.localStorage&&(y={data:JSON.parse(window.localStorage[b.storage.key]),ttl:window.localStorage[b.storage.key+"_ttl"]})}function u(e){b.storage.enabled&&(window.localStorage[b.storage.key]=JSON.stringify(e),window.localStorage[b.storage.key+"_ttl"]=Date.now()+b.storage.ttl)}function h(e){switch(e.network){case"facebook":return l(e.link.search,"u");case"github":return e.link.pathname;default:return l(e.link.search,"url")}}function p(e){if(!(e.network in b.urls))return null;switch(e.network){case"github":return b.urls[e.network](h(e),b.tokens.github);default:return b.urls[e.network](encodeURIComponent(e.url))}}function f(e,t){if(b.storage.enabled){var n=h(e);if(n in y.data&&e.network in y.data[n]&&y.ttl>Date.now())return void t(y.data[n][e.network])}var o=p(e);i(o)||c(o,function(i){b.storage.enabled&&(n in y.data||(y.data[n]={}),y.data[n][e.network]=i,u(y.data)),t(i)})}function m(e,t){return e in b.count.prefix?t[b.count.prefix[e]]:t}function g(e,t){var o,s,a=e.link.getAttribute("data-shr-display");t=m(e.network,t),o=i(a)?e.network in b.count.value?t[b.count.value[e.network]]:t.count:t[a],e.count="number"==typeof o?o:0,s=e.count,s=b.count.format&&e.count>1e6?Math.round(e.count/1e6)+"M":b.count.format&&e.count>1e3?Math.round(e.count/1e3)+"K":n(e.count),(e.count>0||b.count.displayZero)&&e.link.insertAdjacentHTML("after"===b.count.position?"afterend":"beforebegin",b.count.html(s,b.count.classname))}function v(e){var i=this;return void 0===e?(t("No share link found.",!0),!1):(i.link=e,i.network=e.getAttribute("data-shr-network"),i.url=h(i),f(i,function(e){g(i,e)}),s(i.link,"click",function(e){r(e,i)}),i)}var b,y={data:{},ttl:0},w={selector:"[data-shr-network]",count:{classname:"share-count",displayZero:!0,format:!1,position:"after",html:function(e,t){return'<span class="'+t+'">'+e+"</span>"},value:{facebook:"shares",github:"stargazers_count"},prefix:{github:"data"}},urls:{facebook:function(e){return"https://graph.facebook.com/?id="+e},pinterest:function(e){return"https://widgets.pinterest.com/v1/urls/count.json?url="+e},github:function(e,t){return"https://api.github.com/repos"+e+("string"==typeof t?"?access_token="+t:"")}},popup:{google:{width:500,height:500},facebook:{width:640,height:270},twitter:{width:640,height:240},pinterest:{width:750,height:550}},storage:{key:"shr",enabled:"localStorage"in window&&null!==window.localStorage,ttl:3e5},tokens:{}};e.setup=function(e,t){"string"==typeof e?e=document.querySelectorAll(e):e instanceof HTMLElement?e=[e]:e instanceof NodeList||"string"==typeof e||(void 0===t&&"object"==typeof e&&(t=e),e=document.querySelectorAll(w.selector)),b=a(w,t),d();for(var i=e.length-1;i>=0;i--){var n=e[i];if(void 0===n.shr){var o=new v(n);n.shr=!!Object.keys(o).length&&o}}}}(this.shr=this.shr||{});var Skaip=Skaip||{};Skaip.buttons=new function(){function e(e){var t={};if(e.getAttribute("data-config"))for(var i=0,n=e.getAttribute("data-config").split(";");i<n.length;i++){var o=n[i].split("="),s=o[0],a=o[1];s&&a&&(t[s]=a)}return t}function t(e,t){var i=e;for(var n in t)void 0===i[n]&&(i[n]=t[n]);return i}function i(e){return document.getElementById(e)}function n(e,t){if(!t)var t=C.config.language;if(D[t])return D[t][e];console.log("Skaip.buttons missing language string: "+e,t)}function o(e){if(e.hostname in $)return C.config.language=$[e.hostname],C.config.language in D}function s(){var n=i("skaip-buttons");if(n||(n=i("skaipsu-buttons")),n&&!n.getAttribute("rel")&&o(n))return n.style.display="none",t(e(n),C.config)}function a(e,t){var i=parseInt(e.slice(1),16),n=Math.round(2.55*t),o=(i>>16)+n,s=(i>>8&255)+n,r=(255&i)+n,l="#"+(16777216+65536*(o<255?o<1?0:o:255)+256*(s<255?s<1?0:s:255)+(r<255?r<1?0:r:255)).toString(16).slice(1);return l===e?a(e,-t):l}function r(e){var t="@class-wrapper{position:relative;clear:both;text-align:left}@class-icon{display:inline-block;background-position:left center;background-repeat:no-repeat;vertical-align:middle;margin-top:-2px;margin-right:3px}@class-status-skype @class-icon{background-position:0 0}@class-size-14 @class-icon{height:14px;width:14px}@class-size-22 @class-icon{height:22px;width:22px}@class-size-30 @class-icon{width:30px;height:30px}@class-theme-logo@class-size-14 @class-icon{background-image:url(%uri%/widget/img/themes/logo/14.png)}@class-theme-logo@class-size-22 @class-icon{background-image:url(%uri%/widget/img/themes/logo/22.png)}@class-theme-logo@class-size-30 @class-icon{background-image:url(%uri%/widget/img/themes/logo/30.png)}@class-size-14 @class-status-online @class-icon{background-position:0 -14px}@class-size-14 @class-status-away @class-icon{background-position:0 -28px}@class-size-14 @class-status-busy @class-icon{background-position:0 -42px}@class-size-14 @class-status-offline @class-icon{background-position:0 -56px}@class-size-14 @class-status-unknown @class-icon{background-position:0 -70px}@class-size-22 @class-status-online @class-icon{background-position:0 -22px}@class-size-22 @class-status-away @class-icon{background-position:0 -44px}@class-size-22 @class-status-busy @class-icon{background-position:0 -66px}@class-size-22 @class-status-offline @class-icon{background-position:0 -88px}@class-size-22 @class-status-unknown @class-icon{background-position:0 -110px}@class-size-30 @class-status-online @class-icon{background-position:0 -30px}@class-size-30 @class-status-away @class-icon{background-position:0 -60px}@class-size-30 @class-status-busy @class-icon{background-position:0 -90px}@class-size-30 @class-status-offline @class-icon{background-position:0 -120px}@class-size-30 @class-status-unknown @class-icon{background-position:0 -150px}@class-arrow{display:inline-block;font-family:monospace;font-size:14px;margin-left:0;padding:0;font-weight:normal}@class-container{background-color:"+e.bgcolor+";display:none;position:absolute;margin-top:5px;z-index:9999;box-shadow:0 0 4px #000;line-height:18px;top:18px}@class-size-14 @class-container{left:16px}@class-size-22 @class-container{left:24px}@class-size-30 @class-container{left:32px}@class-container a{text-decoration:none;padding:4px 7px 4px 25px;display:block;white-space:pre;border:none;border-bottom:1px solid "+a(e.bgcolor,10)+";background-position:4px center;background-repeat:no-repeat}@class-container a,@class-container a:visited,@class-container a:link,@class-container a:active{color:#fff;font-size:12px;font-family:Verdana;line-height:18px}@class-container a:hover{background-color:"+a(e.bgcolor,-10)+"}@class-cmd-chat{background-image:url(%uri%/widget/img/cmd/chat.png)}@class-cmd-call{background-image:url(%uri%/widget/img/cmd/call.png)}@class-cmd-videocall{background-image:url(%uri%/widget/img/cmd/videocall.png)}@class-cmd-voicemail{background-image:url(%uri%/widget/img/cmd/voicemail.png)}@class-cmd-add{background-image:url(%uri%/widget/img/cmd/add.png)}@class-cmd-userinfo{background-image:url(%uri%/widget/img/cmd/userinfo.png)}@class-cmd-sendfile{background-image:url(%uri%/widget/img/cmd/sendfile.png)}",i=h("style","css");i.type="text/css",i.innerHTML=l(t.replace(/@class/g,".skaip-buttons"));var n=document.getElementsByTagName("head");(n=n.length?n[0]:document.body).appendChild(i)}function l(e){return e.replace(/%uri%/g,"http://apps.skaip.org/buttons")}function c(e,t){var i=document.createElement("a");return i.href=d(e,t.uri),i.className="skaip-buttons-cmd-"+t.name,i.setAttribute("data-skaip-buttons","off"),i.innerHTML=t.text,i}function d(e,t){var i="skype:"+e;return t&&(i+="?"+t),i}function u(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)}function h(e,t){var n="skaip-buttons-uniqnode-"+t,o=i(n);o&&o.parentNode.removeChild(o);var s=document.createElement(e);return s.id=n,s}function p(e){Skaip.buttons.setStatus(e,"online")}function f(e,t){"+"!==t.username[0]&&(T[t.username]||(T[t.username]={name:"unknown",links:[]},setTimeout(function(){p(t.username)},500)),T[t.username].links.push(e),m(e,"unknown"))}function m(e,t){e.setAttribute("class","skaip-buttons-status-"+t);var i=n(t,e.config.language);if(i){var o=n("status_title",e.config.language);e.setAttribute("title",o+': "'+i+'"')}}function g(){return'<span class="skaip-buttons-arrow">&#x25BE;</span>'}function v(e,t){var i=document.createElement("span");e.nextSibling?e.parentNode.insertBefore(i,e.nextSibling):e.parentNode.appendChild(i);var n=["skaip-buttons-wrapper","skaip-buttons-theme-"+t.theme,"skaip-buttons-size-"+t.size];return i.setAttribute("class",n.join(" ")),i.appendChild(e),i}function b(e,t){e.onclick=function(){return!1};var i=document.createElement("span");i.className="skaip-buttons-container",i.style.display="none",u(document,"click",function(t){(!t.target||t.target!==e&&t.target.parentNode!==e)&&(i.style.display="none")}),u(e,"click",function(){var e="none"===i.style.display?"inline-block":"none";i.style.display=e});for(var n=C.getCommands(t.commands,t.language),o=0;o<n.length;o++){var s=c(t.username,n[o]);i.appendChild(s)}return e.href=d(t.username,n[0].uri),n.length>1&&(e.innerHTML+=g()),i}function y(e){var t=e.replace(/^skype:/gi,"").split("?"),i={};return 2===t.length&&-1!==t[1].indexOf("blob=")?(i.value=t[1].split("blob=")[1].split("&")[0],i.type="blob"):(i.value=t[0].split(";")[0].replace(/\s/g,""),i.type=0===t[0].indexOf("+")?"phone":"username"),i}function w(i,n){var o=y(i.getAttribute("href"));if(o.value){i.config=t(e(i),n),i.config.username=o.value,i.innerHTML='<span class="skaip-buttons-icon"></span>'+(i.innerHTML?i.innerHTML:i.config.username),i.setAttribute("data-skaip-buttons","off");var s=v(i,i.config);m(i,"skype"),i.config.commands&&"blob"!==o.type&&s.appendChild(b(i,i.config,s)),"username"===o.type&&"on"===i.config.status&&f(i,i.config)}}function x(){var e=s();if(e){var t=document.getElementsByTagName("a");if(t){for(var i=[],n=0;n<t.length;n++)t[n].getAttribute("href")&&"off"!==t[n].getAttribute("data-skaip-buttons")&&0===t[n].getAttribute("href").indexOf("skype:")&&i.push(t[n]);if(i.length>0){r(e);for(n=0;n<i.length;n++)w(i[n],e)}}}}function k(e){if(!S[e]){S[e]=[{name:"chat",uri:"chat"},{name:"call",uri:"call"},{name:"videocall",uri:"call&video=true"},{name:"voicemail",uri:"voicemail"},{name:"add",uri:"add"},{name:"userinfo",uri:"userinfo"},{name:"sendfile",uri:"sendfile"}];for(var t=0;t<S[e].length;t++)S[e][t].text=n("cmd_"+S[e][t].name,e)}return S[e]}var C=this,S={},T={};C.config={commands:"*",size:14,status:"off",theme:"logo",language:null,bgcolor:"#2a92f3"};var D={en:{online:"Online",away:"Away",busy:"Do Not Disturb",offline:"Offline",unknown:"Unknown",status_title:"Status",cmd_chat:"Chat",cmd_call:"Call",cmd_videocall:"Videocall",cmd_voicemail:"Voice message",cmd_add:"Add to Contacts",cmd_userinfo:"Information",cmd_sendfile:"Send file"},ru:{online:" ",away:"  ",busy:" ",offline:"  ",unknown:"",status_title:" ",cmd_chat:"",cmd_call:"",cmd_videocall:"",cmd_voicemail:" ",cmd_add:"  ",cmd_userinfo:"",cmd_sendfile:" "}},$={"www.skaip.su":"ru","www.skaip.org":"en"};this.getSizes=function(){return[14,22,30]},this.getThemes=function(){return["logo"]},this.getCommands=function(e,t){var i=k(t);if("*"===e)return i;for(var n=[],o=0,s=e.split(",");o<s.length;o++)for(var a=0;a<i.length;a++){var r=i[a];r.name===s[o]&&n.push(r)}return n},this.setStatus=function(e,t,i){if(T[e]){for(var n=0;n<T[e].links.length;n++)m(T[e].links[n],t);delete T[e]}},this.setup=x,x()},function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var t=window.Slick||{};(t=function(){var t=0;return function(i,n){var o,s=this;s.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(i),appendDots:e(i),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,i){return e('<button type="button" data-role="none" role="button" tabindex="0" />').text(i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},s.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},e.extend(s,s.initials),s.activeBreakpoint=null,s.animType=null,s.animProp=null,s.breakpoints=[],s.breakpointSettings=[],s.cssTransitions=!1,s.focussed=!1,s.interrupted=!1,s.hidden="hidden",s.paused=!0,s.positionProp=null,s.respondTo=null,s.rowCount=1,s.shouldClick=!0,s.$slider=e(i),s.$slidesCache=null,s.transformType=null,s.transitionType=null,s.visibilityChange="visibilitychange",s.windowWidth=0,s.windowTimer=null,o=e(i).data("slick")||{},s.options=e.extend({},s.defaults,n,o),s.currentSlide=s.options.initialSlide,s.originalSettings=s.options,void 0!==document.mozHidden?(s.hidden="mozHidden",s.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(s.hidden="webkitHidden",s.visibilityChange="webkitvisibilitychange"),s.autoPlay=e.proxy(s.autoPlay,s),s.autoPlayClear=e.proxy(s.autoPlayClear,s),s.autoPlayIterator=e.proxy(s.autoPlayIterator,s),s.changeSlide=e.proxy(s.changeSlide,s),s.clickHandler=e.proxy(s.clickHandler,s),s.selectHandler=e.proxy(s.selectHandler,s),s.setPosition=e.proxy(s.setPosition,s),s.swipeHandler=e.proxy(s.swipeHandler,s),s.dragHandler=e.proxy(s.dragHandler,s),s.keyHandler=e.proxy(s.keyHandler,s),s.instanceUid=t++,s.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,s.registerBreakpoints(),s.init(!0)}}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},t.prototype.addSlide=t.prototype.slickAdd=function(t,i,n){var o=this;if("boolean"==typeof i)n=i,i=null;else if(i<0||i>=o.slideCount)return!1;o.unload(),"number"==typeof i?0===i&&0===o.$slides.length?e(t).appendTo(o.$slideTrack):n?e(t).insertBefore(o.$slides.eq(i)):e(t).insertAfter(o.$slides.eq(i)):!0===n?e(t).prependTo(o.$slideTrack):e(t).appendTo(o.$slideTrack),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slides.each(function(t,i){e(i).attr("data-slick-index",t)}),o.$slidesCache=o.$slides,o.reinit()},t.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},t.prototype.animateSlide=function(t,i){var n={},o=this;o.animateHeight(),!0===o.options.rtl&&!1===o.options.vertical&&(t=-t),!1===o.transformsEnabled?!1===o.options.vertical?o.$slideTrack.animate({left:t},o.options.speed,o.options.easing,i):o.$slideTrack.animate({top:t},o.options.speed,o.options.easing,i):!1===o.cssTransitions?(!0===o.options.rtl&&(o.currentLeft=-o.currentLeft),e({animStart:o.currentLeft}).animate({animStart:t},{duration:o.options.speed,easing:o.options.easing,step:function(e){e=Math.ceil(e),!1===o.options.vertical?(n[o.animType]="translate("+e+"px, 0px)",o.$slideTrack.css(n)):(n[o.animType]="translate(0px,"+e+"px)",o.$slideTrack.css(n))},complete:function(){i&&i.call()}})):(o.applyTransition(),t=Math.ceil(t),!1===o.options.vertical?n[o.animType]="translate3d("+t+"px, 0px, 0px)":n[o.animType]="translate3d(0px,"+t+"px, 0px)",o.$slideTrack.css(n),i&&setTimeout(function(){o.disableTransition(),i.call()},o.options.speed))},t.prototype.getNavTarget=function(){var t=this,i=t.options.asNavFor;return i&&null!==i&&(i=e(i).not(t.$slider)),i},t.prototype.asNavFor=function(t){var i=this.getNavTarget();null!==i&&"object"==typeof i&&i.each(function(){var i=e(this).slick("getSlick");i.unslicked||i.slideHandler(t,!0)})},t.prototype.applyTransition=function(e){var t=this,i={};!1===t.options.fade?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.autoPlay=function(){var e=this;e.autoPlayClear(),e.slideCount>e.options.slidesToShow&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(!1===e.options.infinite&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1==0&&(e.direction=1))),e.slideHandler(t))},t.prototype.buildArrows=function(){var t=this;!0===t.options.arrows&&(t.$prevArrow=e(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=e(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),!0!==t.options.infinite&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},t.prototype.buildDots=function(){var t,i,n=this;if(!0===n.options.dots&&n.slideCount>n.options.slidesToShow){for(n.$slider.addClass("slick-dotted"),i=e("<ul />").addClass(n.options.dotsClass),t=0;t<=n.getDotCount();t+=1)i.append(e("<li />").append(n.options.customPaging.call(this,n,t)));n.$dots=i.appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,i){e(i).attr("data-slick-index",t).data("originalStyling",e(i).attr("style")||"")}),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),!0!==t.options.centerMode&&!0!==t.options.swipeToSlide||(t.options.slidesToScroll=1),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),!0===t.options.draggable&&t.$list.addClass("draggable")},t.prototype.buildRows=function(){var e,t,i,n,o,s,a,r=this;if(n=document.createDocumentFragment(),s=r.$slider.children(),r.options.rows>1){for(a=r.options.slidesPerRow*r.options.rows,o=Math.ceil(s.length/a),e=0;e<o;e++){var l=document.createElement("div");for(t=0;t<r.options.rows;t++){var c=document.createElement("div");for(i=0;i<r.options.slidesPerRow;i++){var d=e*a+(t*r.options.slidesPerRow+i);s.get(d)&&c.appendChild(s.get(d))}l.appendChild(c)}n.appendChild(l)}r.$slider.empty().append(n),r.$slider.children().children().children().css({width:100/r.options.slidesPerRow+"%",display:"inline-block"})}},t.prototype.checkResponsive=function(t,i){var n,o,s,a=this,r=!1,l=a.$slider.width(),c=window.innerWidth||e(window).width();if("window"===a.respondTo?s=c:"slider"===a.respondTo?s=l:"min"===a.respondTo&&(s=Math.min(c,l)),a.options.responsive&&a.options.responsive.length&&null!==a.options.responsive){o=null;for(n in a.breakpoints)a.breakpoints.hasOwnProperty(n)&&(!1===a.originalSettings.mobileFirst?s<a.breakpoints[n]&&(o=a.breakpoints[n]):s>a.breakpoints[n]&&(o=a.breakpoints[n]));null!==o?null!==a.activeBreakpoint?(o!==a.activeBreakpoint||i)&&(a.activeBreakpoint=o,"unslick"===a.breakpointSettings[o]?a.unslick(o):(a.options=e.extend({},a.originalSettings,a.breakpointSettings[o]),!0===t&&(a.currentSlide=a.options.initialSlide),a.refresh(t)),r=o):(a.activeBreakpoint=o,"unslick"===a.breakpointSettings[o]?a.unslick(o):(a.options=e.extend({},a.originalSettings,a.breakpointSettings[o]),!0===t&&(a.currentSlide=a.options.initialSlide),a.refresh(t)),r=o):null!==a.activeBreakpoint&&(a.activeBreakpoint=null,a.options=a.originalSettings,!0===t&&(a.currentSlide=a.options.initialSlide),a.refresh(t),r=o),t||!1===r||a.$slider.trigger("breakpoint",[a,r])}},t.prototype.changeSlide=function(t,i){var n,o,s,a=this,r=e(t.currentTarget);switch(r.is("a")&&t.preventDefault(),r.is("li")||(r=r.closest("li")),s=a.slideCount%a.options.slidesToScroll!=0,n=s?0:(a.slideCount-a.currentSlide)%a.options.slidesToScroll,t.data.message){case"previous":o=0===n?a.options.slidesToScroll:a.options.slidesToShow-n,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide-o,!1,i);break;case"next":o=0===n?a.options.slidesToScroll:n,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide+o,!1,i);break;case"index":var l=0===t.data.index?0:t.data.index||r.index()*a.options.slidesToScroll;a.slideHandler(a.checkNavigable(l),!1,i),r.children().trigger("focus");break;default:return}},t.prototype.checkNavigable=function(e){var t,i;if(t=this.getNavigableIndexes(),i=0,e>t[t.length-1])e=t[t.length-1];else for(var n in t){if(e<t[n]){e=i;break}i=t[n]}return e},t.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&e("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",e.proxy(t.interrupt,t,!0)).off("mouseleave.slick",e.proxy(t.interrupt,t,!1)),t.$slider.off("focus.slick blur.slick"),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide)),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),e(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),!0===t.options.accessibility&&t.$list.off("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().off("click.slick",t.selectHandler),e(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),e(window).off("resize.slick.slick-"+t.instanceUid,t.resize),e("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),e(window).off("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).off("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.cleanUpSlideEvents=function(){var t=this;t.$list.off("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.off("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.cleanUpRows=function(){var e,t=this;t.options.rows>1&&((e=t.$slides.children().children()).removeAttr("style"),t.$slider.empty().append(e))},t.prototype.clickHandler=function(e){!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},t.prototype.destroy=function(t){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),e(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove()),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){e(this).attr("style",e(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.$slider.removeClass("slick-dotted"),i.unslicked=!0,t||i.$slider.trigger("destroy",[i])},t.prototype.disableTransition=function(e){var t=this,i={};i[t.transitionType]="",!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.fadeSlide=function(e,t){var i=this;!1===i.cssTransitions?(i.$slides.eq(e).css({zIndex:i.options.zIndex}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:i.options.zIndex}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},t.prototype.fadeSlideOut=function(e){var t=this;!1===t.cssTransitions?t.$slides.eq(e).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(e),t.$slides.eq(e).css({opacity:0,zIndex:t.options.zIndex-2}))},t.prototype.filterSlides=t.prototype.slickFilter=function(e){var t=this;null!==e&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.focusHandler=function(){var t=this;t.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*:not(.slick-arrow)",function(i){i.stopImmediatePropagation();var n=e(this);setTimeout(function(){t.options.pauseOnFocus&&(t.focussed=n.is(":focus"),t.autoPlay())},0)})},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){return this.currentSlide},t.prototype.getDotCount=function(){var e=this,t=0,i=0,n=0;if(!0===e.options.infinite)for(;t<e.slideCount;)++n,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(!0===e.options.centerMode)n=e.slideCount;else if(e.options.asNavFor)for(;t<e.slideCount;)++n,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else n=1+Math.ceil((e.slideCount-e.options.slidesToShow)/e.options.slidesToScroll);return n-1},t.prototype.getLeft=function(e){var t,i,n,o=this,s=0;return o.slideOffset=0,i=o.$slides.first().outerHeight(!0),!0===o.options.infinite?(o.slideCount>o.options.slidesToShow&&(o.slideOffset=o.slideWidth*o.options.slidesToShow*-1,s=i*o.options.slidesToShow*-1),o.slideCount%o.options.slidesToScroll!=0&&e+o.options.slidesToScroll>o.slideCount&&o.slideCount>o.options.slidesToShow&&(e>o.slideCount?(o.slideOffset=(o.options.slidesToShow-(e-o.slideCount))*o.slideWidth*-1,s=(o.options.slidesToShow-(e-o.slideCount))*i*-1):(o.slideOffset=o.slideCount%o.options.slidesToScroll*o.slideWidth*-1,s=o.slideCount%o.options.slidesToScroll*i*-1))):e+o.options.slidesToShow>o.slideCount&&(o.slideOffset=(e+o.options.slidesToShow-o.slideCount)*o.slideWidth,s=(e+o.options.slidesToShow-o.slideCount)*i),o.slideCount<=o.options.slidesToShow&&(o.slideOffset=0,s=0),!0===o.options.centerMode&&!0===o.options.infinite?o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)-o.slideWidth:!0===o.options.centerMode&&(o.slideOffset=0,o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)),t=!1===o.options.vertical?e*o.slideWidth*-1+o.slideOffset:e*i*-1+s,!0===o.options.variableWidth&&(n=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(e):o.$slideTrack.children(".slick-slide").eq(e+o.options.slidesToShow),t=!0===o.options.rtl?n[0]?-1*(o.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,!0===o.options.centerMode&&(n=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(e):o.$slideTrack.children(".slick-slide").eq(e+o.options.slidesToShow+1),t=!0===o.options.rtl?n[0]?-1*(o.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,t+=(o.$list.width()-n.outerWidth())/2)),t},t.prototype.getOption=t.prototype.slickGetOption=function(e){return this.options[e]},t.prototype.getNavigableIndexes=function(){var e,t=this,i=0,n=0,o=[];for(!1===t.options.infinite?e=t.slideCount:(i=-1*t.options.slidesToScroll,n=-1*t.options.slidesToScroll,e=2*t.slideCount);i<e;)o.push(i),i=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return o},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var t,i,n=this;return i=!0===n.options.centerMode?n.slideWidth*Math.floor(n.options.slidesToShow/2):0,!0===n.options.swipeToSlide?(n.$slideTrack.find(".slick-slide").each(function(o,s){if(s.offsetLeft-i+e(s).outerWidth()/2>-1*n.swipeLeft)return t=s,!1}),Math.abs(e(t).attr("data-slick-index")-n.currentSlide)||1):n.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(e,t){this.changeSlide({data:{message:"index",index:parseInt(e)}},t)},t.prototype.init=function(t){var i=this;e(i.$slider).hasClass("slick-initialized")||(e(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots(),i.checkResponsive(!0),i.focusHandler()),t&&i.$slider.trigger("init",[i]),!0===i.options.accessibility&&i.initADA(),i.options.autoplay&&(i.paused=!1,i.autoPlay())},t.prototype.initADA=function(){var t=this;t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),t.$slideTrack.attr("role","listbox"),t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(i){e(this).attr({role:"option","aria-describedby":"slick-slide"+t.instanceUid+i})}),null!==t.$dots&&t.$dots.attr("role","tablist").find("li").each(function(i){e(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+t.instanceUid+i,id:"slick-slide"+t.instanceUid+i})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),t.activateADA()},t.prototype.initArrowEvents=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.off("click.slick").on("click.slick",{message:"next"},e.changeSlide))},t.prototype.initDotEvents=function(){var t=this;!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),!0===t.options.dots&&!0===t.options.pauseOnDotsHover&&e("li",t.$dots).on("mouseenter.slick",e.proxy(t.interrupt,t,!0)).on("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.initSlideEvents=function(){var t=this;t.options.pauseOnHover&&(t.$list.on("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.on("mouseleave.slick",e.proxy(t.interrupt,t,!1)))},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),e(document).on(t.visibilityChange,e.proxy(t.visibility,t)),!0===t.options.accessibility&&t.$list.on("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,e.proxy(t.orientationChange,t)),e(window).on("resize.slick.slick-"+t.instanceUid,e.proxy(t.resize,t)),e("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.initUI=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.show()},t.prototype.keyHandler=function(e){var t=this;e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&!0===t.options.accessibility?t.changeSlide({data:{message:!0===t.options.rtl?"next":"previous"}}):39===e.keyCode&&!0===t.options.accessibility&&t.changeSlide({data:{message:!0===t.options.rtl?"previous":"next"}}))},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each(function(){var t=e(this),i=e(this).attr("data-lazy"),n=document.createElement("img");n.onload=function(){t.animate({opacity:0},100,function(){t.attr("src",i).animate({opacity:1},200,function(){t.removeAttr("data-lazy").removeClass("slick-loading")}),o.$slider.trigger("lazyLoaded",[o,t,i])})},n.onerror=function(){t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),o.$slider.trigger("lazyLoadError",[o,t,i])},n.src=i})}var i,n,o=this;!0===o.options.centerMode?!0===o.options.infinite?n=(i=o.currentSlide+(o.options.slidesToShow/2+1))+o.options.slidesToShow+2:(i=Math.max(0,o.currentSlide-(o.options.slidesToShow/2+1)),n=o.options.slidesToShow/2+1+2+o.currentSlide):(i=o.options.infinite?o.options.slidesToShow+o.currentSlide:o.currentSlide,n=Math.ceil(i+o.options.slidesToShow),!0===o.options.fade&&(i>0&&i--,n<=o.slideCount&&n++)),t(o.$slider.find(".slick-slide").slice(i,n)),o.slideCount<=o.options.slidesToShow?t(o.$slider.find(".slick-slide")):o.currentSlide>=o.slideCount-o.options.slidesToShow?t(o.$slider.find(".slick-cloned").slice(0,o.options.slidesToShow)):0===o.currentSlide&&t(o.$slider.find(".slick-cloned").slice(-1*o.options.slidesToShow))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},t.prototype.orientationChange=function(){var e=this;e.checkResponsive(),e.setPosition()},t.prototype.pause=t.prototype.slickPause=function(){var e=this;e.autoPlayClear(),e.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var e=this;e.autoPlay(),e.options.autoplay=!0,e.paused=!1,e.focussed=!1,e.interrupted=!1},t.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),!0===t.options.accessibility&&t.initADA())},t.prototype.prev=t.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.progressiveLazyLoad=function(t){t=t||1;var i,n,o,s=this,a=e("img[data-lazy]",s.$slider);a.length?(i=a.first(),n=i.attr("data-lazy"),(o=document.createElement("img")).onload=function(){i.attr("src",n).removeAttr("data-lazy").removeClass("slick-loading"),!0===s.options.adaptiveHeight&&s.setPosition(),s.$slider.trigger("lazyLoaded",[s,i,n]),s.progressiveLazyLoad()},o.onerror=function(){t<3?setTimeout(function(){s.progressiveLazyLoad(t+1)},500):(i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),s.$slider.trigger("lazyLoadError",[s,i,n]),s.progressiveLazyLoad())},o.src=n):s.$slider.trigger("allImagesLoaded",[s])},t.prototype.refresh=function(t){var i,n,o=this;n=o.slideCount-o.options.slidesToShow,!o.options.infinite&&o.currentSlide>n&&(o.currentSlide=n),o.slideCount<=o.options.slidesToShow&&(o.currentSlide=0),i=o.currentSlide,o.destroy(!0),e.extend(o,o.initials,{currentSlide:i}),o.init(),t||o.changeSlide({data:{message:"index",index:i}},!1)},t.prototype.registerBreakpoints=function(){var t,i,n,o=this,s=o.options.responsive||null;if("array"===e.type(s)&&s.length){o.respondTo=o.options.respondTo||"window";for(t in s)if(n=o.breakpoints.length-1,i=s[t].breakpoint,s.hasOwnProperty(t)){for(;n>=0;)o.breakpoints[n]&&o.breakpoints[n]===i&&o.breakpoints.splice(n,1),n--;o.breakpoints.push(i),o.breakpointSettings[i]=s[t].settings}o.breakpoints.sort(function(e,t){return o.options.mobileFirst?e-t:t-e})}},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},t.prototype.resize=function(){var t=this;e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},t.prototype.removeSlide=t.prototype.slickRemove=function(e,t,i){var n=this;if(e="boolean"==typeof e?!0===(t=e)?0:n.slideCount-1:!0===t?--e:e,n.slideCount<1||e<0||e>n.slideCount-1)return!1;n.unload(),!0===i?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit()},t.prototype.setCSS=function(e){var t,i,n=this,o={};!0===n.options.rtl&&(e=-e),t="left"==n.positionProp?Math.ceil(e)+"px":"0px",i="top"==n.positionProp?Math.ceil(e)+"px":"0px",o[n.positionProp]=e,!1===n.transformsEnabled?n.$slideTrack.css(o):(o={},!1===n.cssTransitions?(o[n.animType]="translate("+t+", "+i+")",n.$slideTrack.css(o)):(o[n.animType]="translate3d("+t+", "+i+", 0px)",n.$slideTrack.css(o)))},t.prototype.setDimensions=function(){var e=this;!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):!0===e.options.variableWidth?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},t.prototype.setFade=function(){var t,i=this;i.$slides.each(function(n,o){t=i.slideWidth*n*-1,!0===i.options.rtl?e(o).css({position:"relative",right:t,top:0,zIndex:i.options.zIndex-2,opacity:0}):e(o).css({position:"relative",left:t,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},t.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},t.prototype.setOption=t.prototype.slickSetOption=function(){var t,i,n,o,s,a=this,r=!1;if("object"===e.type(arguments[0])?(n=arguments[0],r=arguments[1],s="multiple"):"string"===e.type(arguments[0])&&(n=arguments[0],o=arguments[1],r=arguments[2],"responsive"===arguments[0]&&"array"===e.type(arguments[1])?s="responsive":void 0!==arguments[1]&&(s="single")),"single"===s)a.options[n]=o;else if("multiple"===s)e.each(n,function(e,t){a.options[e]=t});else if("responsive"===s)for(i in o)if("array"!==e.type(a.options.responsive))a.options.responsive=[o[i]];else{for(t=a.options.responsive.length-1;t>=0;)a.options.responsive[t].breakpoint===o[i].breakpoint&&a.options.responsive.splice(t,1),t--;a.options.responsive.push(o[i])}r&&(a.unload(),a.reinit())},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),!1===e.options.fade?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||!0===e.options.useCSS&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&!1!==e.animType},t.prototype.setSlideClasses=function(e){var t,i,n,o,s=this;i=s.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),s.$slides.eq(e).addClass("slick-current"),!0===s.options.centerMode?(t=Math.floor(s.options.slidesToShow/2),!0===s.options.infinite&&(e>=t&&e<=s.slideCount-1-t?s.$slides.slice(e-t,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(n=s.options.slidesToShow+e,i.slice(n-t+1,n+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?i.eq(i.length-1-s.options.slidesToShow).addClass("slick-center"):e===s.slideCount-1&&i.eq(s.options.slidesToShow).addClass("slick-center")),s.$slides.eq(e).addClass("slick-center")):e>=0&&e<=s.slideCount-s.options.slidesToShow?s.$slides.slice(e,e+s.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=s.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(o=s.slideCount%s.options.slidesToShow,n=!0===s.options.infinite?s.options.slidesToShow+e:e,s.options.slidesToShow==s.options.slidesToScroll&&s.slideCount-e<s.options.slidesToShow?i.slice(n-(s.options.slidesToShow-o),n+o).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+s.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===s.options.lazyLoad&&s.lazyLoad()},t.prototype.setupInfinite=function(){var t,i,n,o=this;if(!0===o.options.fade&&(o.options.centerMode=!1),!0===o.options.infinite&&!1===o.options.fade&&(i=null,o.slideCount>o.options.slidesToShow)){for(n=!0===o.options.centerMode?o.options.slidesToShow+1:o.options.slidesToShow,t=o.slideCount;t>o.slideCount-n;t-=1)i=t-1,e(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-o.slideCount).prependTo(o.$slideTrack).addClass("slick-cloned");for(t=0;t<n;t+=1)i=t,e(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+o.slideCount).appendTo(o.$slideTrack).addClass("slick-cloned");o.$slideTrack.find(".slick-cloned").find("[id]").each(function(){e(this).attr("id","")})}},t.prototype.interrupt=function(e){var t=this;e||t.autoPlay(),t.interrupted=e},t.prototype.selectHandler=function(t){var i=this,n=e(t.target).is(".slick-slide")?e(t.target):e(t.target).parents(".slick-slide"),o=parseInt(n.attr("data-slick-index"));if(o||(o=0),i.slideCount<=i.options.slidesToShow)return i.setSlideClasses(o),void i.asNavFor(o);i.slideHandler(o)},t.prototype.slideHandler=function(e,t,i){var n,o,s,a,r,l=null,c=this;if(t=t||!1,(!0!==c.animating||!0!==c.options.waitForAnimate)&&!(!0===c.options.fade&&c.currentSlide===e||c.slideCount<=c.options.slidesToShow))if(!1===t&&c.asNavFor(e),n=e,l=c.getLeft(n),a=c.getLeft(c.currentSlide),c.currentLeft=null===c.swipeLeft?a:c.swipeLeft,!1===c.options.infinite&&!1===c.options.centerMode&&(e<0||e>c.getDotCount()*c.options.slidesToScroll))!1===c.options.fade&&(n=c.currentSlide,!0!==i?c.animateSlide(a,function(){c.postSlide(n)}):c.postSlide(n));else if(!1===c.options.infinite&&!0===c.options.centerMode&&(e<0||e>c.slideCount-c.options.slidesToScroll))!1===c.options.fade&&(n=c.currentSlide,!0!==i?c.animateSlide(a,function(){c.postSlide(n)}):c.postSlide(n));else{if(c.options.autoplay&&clearInterval(c.autoPlayTimer),o=n<0?c.slideCount%c.options.slidesToScroll!=0?c.slideCount-c.slideCount%c.options.slidesToScroll:c.slideCount+n:n>=c.slideCount?c.slideCount%c.options.slidesToScroll!=0?0:n-c.slideCount:n,c.animating=!0,c.$slider.trigger("beforeChange",[c,c.currentSlide,o]),s=c.currentSlide,c.currentSlide=o,c.setSlideClasses(c.currentSlide),c.options.asNavFor&&(r=(r=c.getNavTarget()).slick("getSlick")).slideCount<=r.options.slidesToShow&&r.setSlideClasses(c.currentSlide),c.updateDots(),c.updateArrows(),!0===c.options.fade)return!0!==i?(c.fadeSlideOut(s),c.fadeSlide(o,function(){c.postSlide(o)})):c.postSlide(o),void c.animateHeight();!0!==i?c.animateSlide(l,function(){c.postSlide(o)}):c.postSlide(o)}},t.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,i,n,o=this;return e=o.touchObject.startX-o.touchObject.curX,t=o.touchObject.startY-o.touchObject.curY,i=Math.atan2(t,e),(n=Math.round(180*i/Math.PI))<0&&(n=360-Math.abs(n)),n<=45&&n>=0?!1===o.options.rtl?"left":"right":n<=360&&n>=315?!1===o.options.rtl?"left":"right":n>=135&&n<=225?!1===o.options.rtl?"right":"left":!0===o.options.verticalSwiping?n>=35&&n<=135?"down":"up":"vertical"},t.prototype.swipeEnd=function(e){var t,i,n=this;if(n.dragging=!1,n.interrupted=!1,n.shouldClick=!(n.touchObject.swipeLength>10),void 0===n.touchObject.curX)return!1;if(!0===n.touchObject.edgeHit&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(i=n.swipeDirection()){case"left":case"down":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.currentDirection=0;break;case"right":case"up":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.currentDirection=1}"vertical"!=i&&(n.slideHandler(t),n.touchObject={},n.$slider.trigger("swipe",[n,i]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,!0===t.options.verticalSwiping&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,i,n,o,s,a=this;return s=void 0!==e.originalEvent?e.originalEvent.touches:null,!(!a.dragging||s&&1!==s.length)&&(t=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==s?s[0].pageX:e.clientX,a.touchObject.curY=void 0!==s?s[0].pageY:e.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),!0===a.options.verticalSwiping&&(a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2)))),"vertical"!==(i=a.swipeDirection())?(void 0!==e.originalEvent&&a.touchObject.swipeLength>4&&e.preventDefault(),o=(!1===a.options.rtl?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),!0===a.options.verticalSwiping&&(o=a.touchObject.curY>a.touchObject.startY?1:-1),n=a.touchObject.swipeLength,a.touchObject.edgeHit=!1,!1===a.options.infinite&&(0===a.currentSlide&&"right"===i||a.currentSlide>=a.getDotCount()&&"left"===i)&&(n=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),!1===a.options.vertical?a.swipeLeft=t+n*o:a.swipeLeft=t+n*(a.$list.height()/a.listWidth)*o,!0===a.options.verticalSwiping&&(a.swipeLeft=t+n*o),!0!==a.options.fade&&!1!==a.options.touchMove&&(!0===a.animating?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft))):void 0)},t.prototype.swipeStart=function(e){var t,i=this;if(i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow)return i.touchObject={},!1;void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,i.dragging=!0},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},t.prototype.unslick=function(e){var t=this;t.$slider.trigger("unslick",[t,e]),t.destroy()},t.prototype.updateArrows=function(){var e=this;Math.floor(e.options.slidesToShow/2),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode?(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},t.prototype.visibility=function(){var e=this;e.options.autoplay&&(document[e.hidden]?e.interrupted=!0:e.interrupted=!1)},e.fn.slick=function(){var e,i,n=this,o=arguments[0],s=Array.prototype.slice.call(arguments,1),a=n.length;for(e=0;e<a;e++)if("object"==typeof o||void 0===o?n[e].slick=new t(n[e],o):i=n[e].slick[o].apply(n[e].slick,s),void 0!==i)return i;return n}}),function(e){var t={},n={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};e.fn.bxSlider=function(o){if(0==this.length)return this;if(this.length>1)return this.each(function(){e(this).bxSlider(o)}),this;var s={},a=this;t.el=this;var r=e(window).width(),l=e(window).height(),c=function(){s.settings=e.extend({},n,o),s.settings.slideWidth=parseInt(s.settings.slideWidth),s.children=a.children(s.settings.slideSelector),s.children.length<s.settings.minSlides&&(s.settings.minSlides=s.children.length),s.children.length<s.settings.maxSlides&&(s.settings.maxSlides=s.children.length),s.settings.randomStart&&(s.settings.startSlide=Math.floor(Math.random()*s.children.length)),s.active={index:s.settings.startSlide},s.carousel=s.settings.minSlides>1||s.settings.maxSlides>1,s.carousel&&(s.settings.preloadImages="all"),s.minThreshold=s.settings.minSlides*s.settings.slideWidth+(s.settings.minSlides-1)*s.settings.slideMargin,s.maxThreshold=s.settings.maxSlides*s.settings.slideWidth+(s.settings.maxSlides-1)*s.settings.slideMargin,s.working=!1,s.controls={},s.interval=null,s.animProp="vertical"==s.settings.mode?"top":"left",s.usingCSS=s.settings.useCSS&&"fade"!=s.settings.mode&&function(){var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in t)if(void 0!==e.style[t[i]])return s.cssPrefix=t[i].replace("Perspective","").toLowerCase(),s.animProp="-"+s.cssPrefix+"-transform",!0;return!1}(),"vertical"==s.settings.mode&&(s.settings.maxSlides=s.settings.minSlides),a.data("origStyle",a.attr("style")),a.children(s.settings.slideSelector).each(function(){e(this).data("origStyle",e(this).attr("style"))}),d()},d=function(){a.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>'),s.viewport=a.parent(),s.loader=e('<div class="bx-loading" />'),s.viewport.prepend(s.loader),a.css({width:"horizontal"==s.settings.mode?100*s.children.length+215+"%":"auto",position:"relative"}),s.usingCSS&&s.settings.easing?a.css("-"+s.cssPrefix+"-transition-timing-function",s.settings.easing):s.settings.easing||(s.settings.easing="swing"),g(),s.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),s.viewport.parent().css({maxWidth:f()}),s.settings.pager||s.viewport.parent().css({margin:"0 auto 0px"}),s.children.css({float:"horizontal"==s.settings.mode?"left":"none",listStyle:"none",position:"relative"}),s.children.css("width",m()),"horizontal"==s.settings.mode&&s.settings.slideMargin>0&&s.children.css("marginRight",s.settings.slideMargin),"vertical"==s.settings.mode&&s.settings.slideMargin>0&&s.children.css("marginBottom",s.settings.slideMargin),"fade"==s.settings.mode&&(s.children.css({position:"absolute",zIndex:0,display:"none"}),s.children.eq(s.settings.startSlide).css({zIndex:s.settings.slideZIndex,display:"block"})),s.controls.el=e('<div class="bx-controls" />'),s.settings.captions&&T(),s.active.last=s.settings.startSlide==v()-1,s.settings.video&&a.fitVids();var t=s.children.eq(s.settings.startSlide);"all"==s.settings.preloadImages&&(t=s.children),s.settings.ticker?s.settings.pager=!1:(s.settings.pager&&k(),s.settings.controls&&C(),s.settings.auto&&s.settings.autoControls&&S(),(s.settings.controls||s.settings.autoControls||s.settings.pager)&&s.viewport.after(s.controls.el)),u(t,h)},u=function(t,i){var n=t.find("img, iframe").length;if(0!=n){var o=0;t.find("img, iframe").each(function(){e(this).one("load",function(){++o==n&&i()}).each(function(){this.complete&&e(this).load()})})}else i()},h=function(){if(s.settings.infiniteLoop&&"fade"!=s.settings.mode&&!s.settings.ticker){var t="vertical"==s.settings.mode?s.settings.minSlides:s.settings.maxSlides,i=s.children.slice(0,t).clone().addClass("bx-clone"),n=s.children.slice(-t).clone().addClass("bx-clone");a.append(i).prepend(n)}s.loader.remove(),y(),"vertical"==s.settings.mode&&(s.settings.adaptiveHeight=!0),s.viewport.height(p()),a.redrawSlider(),s.settings.onSliderLoad(s.active.index),s.initialized=!0,s.settings.responsive&&e(window).bind("resize",N),s.settings.auto&&s.settings.autoStart&&E(),s.settings.ticker&&R(),s.settings.pager&&A(s.settings.startSlide),s.settings.controls&&j(),s.settings.touchEnabled&&!s.settings.ticker&&q()},p=function(){var t=0,n=e();if("vertical"==s.settings.mode||s.settings.adaptiveHeight)if(s.carousel){var o=1==s.settings.moveSlides?s.active.index:s.active.index*b();for(n=s.children.eq(o),i=1;i<=s.settings.maxSlides-1;i++)n=o+i>=s.children.length?n.add(s.children.eq(i-1)):n.add(s.children.eq(o+i))}else n=s.children.eq(s.active.index);else n=s.children;return"vertical"==s.settings.mode?(n.each(function(){t+=e(this).outerHeight()}),s.settings.slideMargin>0&&(t+=s.settings.slideMargin*(s.settings.minSlides-1))):t=Math.max.apply(Math,n.map(function(){return e(this).outerHeight(!1)}).get()),t},f=function(){var e="100%";return s.settings.slideWidth>0&&(e="horizontal"==s.settings.mode?s.settings.maxSlides*s.settings.slideWidth+(s.settings.maxSlides-1)*s.settings.slideMargin:s.settings.slideWidth),e},m=function(){var e=s.settings.slideWidth,t=s.viewport.width();return 0==s.settings.slideWidth||s.settings.slideWidth>t&&!s.carousel||"vertical"==s.settings.mode?e=t:s.settings.maxSlides>1&&"horizontal"==s.settings.mode&&(t>s.maxThreshold||t<s.minThreshold&&(e=(t-s.settings.slideMargin*(s.settings.minSlides-1))/s.settings.minSlides)),e},g=function(){var e=1;if("horizontal"==s.settings.mode&&s.settings.slideWidth>0)if(s.viewport.width()<s.minThreshold)e=s.settings.minSlides;else if(s.viewport.width()>s.maxThreshold)e=s.settings.maxSlides;else{var t=s.children.first().width();e=Math.floor(s.viewport.width()/t)}else"vertical"==s.settings.mode&&(e=s.settings.minSlides);return e},v=function(){var e=0;if(s.settings.moveSlides>0)if(s.settings.infiniteLoop)e=s.children.length/b();else for(var t=0,i=0;t<s.children.length;)++e,t=i+g(),i+=s.settings.moveSlides<=g()?s.settings.moveSlides:g();else e=Math.ceil(s.children.length/g());return e},b=function(){return s.settings.moveSlides>0&&s.settings.moveSlides<=g()?s.settings.moveSlides:g()},y=function(){if(s.children.length>s.settings.maxSlides&&s.active.last&&!s.settings.infiniteLoop){if("horizontal"==s.settings.mode){var e=s.children.last(),t=e.position();w(-(t.left-(s.viewport.width()-e.width())),"reset",0)}else if("vertical"==s.settings.mode){var i=s.children.length-s.settings.minSlides,t=s.children.eq(i).position();w(-t.top,"reset",0)}}else{t=s.children.eq(s.active.index*b()).position();s.active.index==v()-1&&(s.active.last=!0),void 0!=t&&("horizontal"==s.settings.mode?w(-t.left,"reset",0):"vertical"==s.settings.mode&&w(-t.top,"reset",0))}},w=function(e,t,i,n){if(s.usingCSS){var o="vertical"==s.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)";a.css("-"+s.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==t?(a.css(s.animProp,o),a.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){a.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),P()})):"reset"==t?a.css(s.animProp,o):"ticker"==t&&(a.css("-"+s.cssPrefix+"-transition-timing-function","linear"),a.css(s.animProp,o),a.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){a.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),w(n.resetValue,"reset",0),F()}))}else{var r={};r[s.animProp]=e,"slide"==t?a.animate(r,i,s.settings.easing,function(){P()}):"reset"==t?a.css(s.animProp,e):"ticker"==t&&a.animate(r,speed,"linear",function(){w(n.resetValue,"reset",0),F()})}},x=function(){for(var t="",i=v(),n=0;i>n;n++){var o="";s.settings.buildPager&&e.isFunction(s.settings.buildPager)?(o=s.settings.buildPager(n),s.pagerEl.addClass("bx-custom-pager")):(o=n+1,s.pagerEl.addClass("bx-default-pager")),t+='<div class="bx-pager-item"><a href="" data-slide-index="'+n+'" class="bx-pager-link">'+o+"</a></div>"}s.pagerEl.html(t)},k=function(){s.settings.pagerCustom?s.pagerEl=e(s.settings.pagerCustom):(s.pagerEl=e('<div class="bx-pager" />'),s.settings.pagerSelector?e(s.settings.pagerSelector).html(s.pagerEl):s.controls.el.addClass("bx-has-pager").append(s.pagerEl),x()),s.pagerEl.on("click","a",O)},C=function(){s.controls.next=e('<a class="bx-next" href="">'+s.settings.nextText+"</a>"),s.controls.prev=e('<a class="bx-prev" href="">'+s.settings.prevText+"</a>"),s.controls.next.bind("click",D),s.controls.prev.bind("click",$),s.settings.nextSelector&&e(s.settings.nextSelector).append(s.controls.next),s.settings.prevSelector&&e(s.settings.prevSelector).append(s.controls.prev),s.settings.nextSelector||s.settings.prevSelector||(s.controls.directionEl=e('<div class="bx-controls-direction" />'),s.controls.directionEl.append(s.controls.prev).append(s.controls.next),s.controls.el.addClass("bx-has-controls-direction").append(s.controls.directionEl))},S=function(){s.controls.start=e('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+s.settings.startText+"</a></div>"),s.controls.stop=e('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+s.settings.stopText+"</a></div>"),s.controls.autoEl=e('<div class="bx-controls-auto" />'),s.controls.autoEl.on("click",".bx-start",_),s.controls.autoEl.on("click",".bx-stop",M),s.settings.autoControlsCombine?s.controls.autoEl.append(s.controls.start):s.controls.autoEl.append(s.controls.start).append(s.controls.stop),s.settings.autoControlsSelector?e(s.settings.autoControlsSelector).html(s.controls.autoEl):s.controls.el.addClass("bx-has-controls-auto").append(s.controls.autoEl),I(s.settings.autoStart?"stop":"start")},T=function(){s.children.each(function(){var t=e(this).find("img:first").attr("title");void 0!=t&&(""+t).length&&e(this).append('<div class="bx-caption"><span>'+t+"</span></div>")})},D=function(e){s.settings.auto&&a.stopAuto(),a.goToNextSlide(),e.preventDefault()},$=function(e){s.settings.auto&&a.stopAuto(),a.goToPrevSlide(),e.preventDefault()},_=function(e){a.startAuto(),e.preventDefault()},M=function(e){a.stopAuto(),e.preventDefault()},O=function(t){s.settings.auto&&a.stopAuto();var i=e(t.currentTarget),n=parseInt(i.attr("data-slide-index"));n!=s.active.index&&a.goToSlide(n),t.preventDefault()},A=function(t){var i=s.children.length;return"short"==s.settings.pagerType?(s.settings.maxSlides>1&&(i=Math.ceil(s.children.length/s.settings.maxSlides)),void s.pagerEl.html(t+1+s.settings.pagerShortSeparator+i)):(s.pagerEl.find("a").removeClass("active"),void s.pagerEl.each(function(i,n){e(n).find("a").eq(t).addClass("active")}))},P=function(){if(s.settings.infiniteLoop){var e="";0==s.active.index?e=s.children.eq(0).position():s.active.index==v()-1&&s.carousel?e=s.children.eq((v()-1)*b()).position():s.active.index==s.children.length-1&&(e=s.children.eq(s.children.length-1).position()),e&&("horizontal"==s.settings.mode?w(-e.left,"reset",0):"vertical"==s.settings.mode&&w(-e.top,"reset",0))}s.working=!1,s.settings.onSlideAfter(s.children.eq(s.active.index),s.oldIndex,s.active.index)},I=function(e){s.settings.autoControlsCombine?s.controls.autoEl.html(s.controls[e]):(s.controls.autoEl.find("a").removeClass("active"),s.controls.autoEl.find("a:not(.bx-"+e+")").addClass("active"))},j=function(){1==v()?(s.controls.prev.addClass("disabled"),s.controls.next.addClass("disabled")):!s.settings.infiniteLoop&&s.settings.hideControlOnEnd&&(0==s.active.index?(s.controls.prev.addClass("disabled"),s.controls.next.removeClass("disabled")):s.active.index==v()-1?(s.controls.next.addClass("disabled"),s.controls.prev.removeClass("disabled")):(s.controls.prev.removeClass("disabled"),s.controls.next.removeClass("disabled")))},E=function(){s.settings.autoDelay>0?setTimeout(a.startAuto,s.settings.autoDelay):a.startAuto(),s.settings.autoHover&&a.hover(function(){s.interval&&(a.stopAuto(!0),s.autoPaused=!0)},function(){s.autoPaused&&(a.startAuto(!0),s.autoPaused=null)})},R=function(){var t=0;if("next"==s.settings.autoDirection)a.append(s.children.clone().addClass("bx-clone"));else{a.prepend(s.children.clone().addClass("bx-clone"));var i=s.children.first().position();t="horizontal"==s.settings.mode?-i.left:-i.top}w(t,"reset",0),s.settings.pager=!1,s.settings.controls=!1,s.settings.autoControls=!1,s.settings.tickerHover&&!s.usingCSS&&s.viewport.hover(function(){a.stop()},function(){var t=0;s.children.each(function(){t+="horizontal"==s.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)});var i=s.settings.speed/t,n="horizontal"==s.settings.mode?"left":"top",o=i*(t-Math.abs(parseInt(a.css(n))));F(o)}),F()},F=function(e){speed=e||s.settings.speed;var t={left:0,top:0},i={left:0,top:0};"next"==s.settings.autoDirection?t=a.find(".bx-clone").first().position():i=s.children.first().position();var n="horizontal"==s.settings.mode?-t.left:-t.top,o={resetValue:"horizontal"==s.settings.mode?-i.left:-i.top};w(n,"ticker",speed,o)},q=function(){s.touch={start:{x:0,y:0},end:{x:0,y:0}},s.viewport.bind("touchstart",L)},L=function(e){if(s.working)e.preventDefault();else{s.touch.originalPos=a.position();var t=e.originalEvent;s.touch.start.x=t.changedTouches[0].pageX,s.touch.start.y=t.changedTouches[0].pageY,s.viewport.bind("touchmove",z),s.viewport.bind("touchend",Y)}},z=function(e){var t=e.originalEvent,i=Math.abs(t.changedTouches[0].pageX-s.touch.start.x),n=Math.abs(t.changedTouches[0].pageY-s.touch.start.y);if(3*i>n&&s.settings.preventDefaultSwipeX?e.preventDefault():3*n>i&&s.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!=s.settings.mode&&s.settings.oneToOneTouch){var o=0;if("horizontal"==s.settings.mode){a=t.changedTouches[0].pageX-s.touch.start.x;o=s.touch.originalPos.left+a}else{var a=t.changedTouches[0].pageY-s.touch.start.y;o=s.touch.originalPos.top+a}w(o,"reset",0)}},Y=function(e){s.viewport.unbind("touchmove",z);var t=e.originalEvent,i=0;if(s.touch.end.x=t.changedTouches[0].pageX,s.touch.end.y=t.changedTouches[0].pageY,"fade"==s.settings.mode)(n=Math.abs(s.touch.start.x-s.touch.end.x))>=s.settings.swipeThreshold&&(s.touch.start.x>s.touch.end.x?a.goToNextSlide():a.goToPrevSlide(),a.stopAuto());else{var n=0;"horizontal"==s.settings.mode?(n=s.touch.end.x-s.touch.start.x,i=s.touch.originalPos.left):(n=s.touch.end.y-s.touch.start.y,i=s.touch.originalPos.top),!s.settings.infiniteLoop&&(0==s.active.index&&n>0||s.active.last&&0>n)?w(i,"reset",200):Math.abs(n)>=s.settings.swipeThreshold?(0>n?a.goToNextSlide():a.goToPrevSlide(),a.stopAuto()):w(i,"reset",200)}s.viewport.unbind("touchend",Y)},N=function(){var t=e(window).width(),i=e(window).height();(r!=t||l!=i)&&(r=t,l=i,a.redrawSlider(),s.settings.onSliderResize.call(a,s.active.index))};return a.goToSlide=function(t,i){if(!s.working&&s.active.index!=t)if(s.working=!0,s.oldIndex=s.active.index,s.active.index=0>t?v()-1:t>=v()?0:t,s.settings.onSlideBefore(s.children.eq(s.active.index),s.oldIndex,s.active.index),"next"==i?s.settings.onSlideNext(s.children.eq(s.active.index),s.oldIndex,s.active.index):"prev"==i&&s.settings.onSlidePrev(s.children.eq(s.active.index),s.oldIndex,s.active.index),s.active.last=s.active.index>=v()-1,s.settings.pager&&A(s.active.index),s.settings.controls&&j(),"fade"==s.settings.mode)s.settings.adaptiveHeight&&s.viewport.height()!=p()&&s.viewport.animate({height:p()},s.settings.adaptiveHeightSpeed),s.children.filter(":visible").fadeOut(s.settings.speed).css({zIndex:0}),s.children.eq(s.active.index).css("zIndex",s.settings.slideZIndex+1).fadeIn(s.settings.speed,function(){e(this).css("zIndex",s.settings.slideZIndex),P()});else{s.settings.adaptiveHeight&&s.viewport.height()!=p()&&s.viewport.animate({height:p()},s.settings.adaptiveHeightSpeed);var n=0,o={left:0,top:0};if(!s.settings.infiniteLoop&&s.carousel&&s.active.last)if("horizontal"==s.settings.mode)o=(c=s.children.eq(s.children.length-1)).position(),n=s.viewport.width()-c.outerWidth();else{var r=s.children.length-s.settings.minSlides;o=s.children.eq(r).position()}else if(s.carousel&&s.active.last&&"prev"==i){var l=1==s.settings.moveSlides?s.settings.maxSlides-b():(v()-1)*b()-(s.children.length-s.settings.maxSlides),c=a.children(".bx-clone").eq(l);o=c.position()}else if("next"==i&&0==s.active.index)o=a.find("> .bx-clone").eq(s.settings.maxSlides).position(),s.active.last=!1;else if(t>=0){var d=t*b();o=s.children.eq(d).position()}if(void 0!==o){var u="horizontal"==s.settings.mode?-(o.left-n):-o.top;w(u,"slide",s.settings.speed)}}},a.goToNextSlide=function(){if(s.settings.infiniteLoop||!s.active.last){var e=parseInt(s.active.index)+1;a.goToSlide(e,"next")}},a.goToPrevSlide=function(){if(s.settings.infiniteLoop||0!=s.active.index){var e=parseInt(s.active.index)-1;a.goToSlide(e,"prev")}},a.startAuto=function(e){s.interval||(s.interval=setInterval(function(){"next"==s.settings.autoDirection?a.goToNextSlide():a.goToPrevSlide()},s.settings.pause),s.settings.autoControls&&1!=e&&I("stop"))},a.stopAuto=function(e){s.interval&&(clearInterval(s.interval),s.interval=null,s.settings.autoControls&&1!=e&&I("start"))},a.getCurrentSlide=function(){return s.active.index},a.getCurrentSlideElement=function(){return s.children.eq(s.active.index)},a.getSlideCount=function(){return s.children.length},a.redrawSlider=function(){s.children.add(a.find(".bx-clone")).outerWidth(m()),s.viewport.css("height",p()),s.settings.ticker||y(),s.active.last&&(s.active.index=v()-1),s.active.index>=v()&&(s.active.last=!0),s.settings.pager&&!s.settings.pagerCustom&&(x(),A(s.active.index))},a.destroySlider=function(){s.initialized&&(s.initialized=!1,e(".bx-clone",this).remove(),s.children.each(function(){void 0!=e(this).data("origStyle")?e(this).attr("style",e(this).data("origStyle")):e(this).removeAttr("style")}),void 0!=e(this).data("origStyle")?this.attr("style",e(this).data("origStyle")):e(this).removeAttr("style"),e(this).unwrap().unwrap(),s.controls.el&&s.controls.el.remove(),s.controls.next&&s.controls.next.remove(),s.controls.prev&&s.controls.prev.remove(),s.pagerEl&&s.settings.controls&&s.pagerEl.remove(),e(".bx-caption",this).remove(),s.controls.autoEl&&s.controls.autoEl.remove(),clearInterval(s.interval),s.settings.responsive&&e(window).unbind("resize",N))},a.reloadSlider=function(e){void 0!=e&&(o=e),a.destroySlider(),c()},c(),this}}(jQuery),function(e,t,i,n){function o(e,t){return Math.max(0,e[0]-t[0],t[0]-e[1])+Math.max(0,e[2]-t[1],t[1]-e[3])}function s(t,i,n,o){var s=t.length,a=o?"offset":"position";for(n=n||0;s--;){var r=t[s].el?t[s].el:e(t[s]),l=r[a]();l.left+=parseInt(r.css("margin-left"),10),l.top+=parseInt(r.css("margin-top"),10),i[s]=[l.left-n,l.left+r.outerWidth()+n,l.top-n,l.top+r.outerHeight()+n]}}function a(e,t){var i=t.offset();return{left:e.left-i.left,top:e.top-i.top}}function r(e,t,i){t=[t.left,t.top],i=i&&[i.left,i.top];for(var n,s=e.length,a=[];s--;)n=e[s],a[s]=[s,o(n,t),i&&o(n,i)];return a=a.sort(function(e,t){return t[1]-e[1]||t[2]-e[2]||t[0]-e[0]})}function l(t){this.options=e.extend({},u,t),this.containers=[],this.options.rootGroup||(this.scrollProxy=e.proxy(this.scroll,this),this.dragProxy=e.proxy(this.drag,this),this.dropProxy=e.proxy(this.drop,this),this.placeholder=e(this.options.placeholder),t.isValidTarget||(this.options.isValidTarget=n))}function c(t,i){this.el=t,this.options=e.extend({},d,i),this.group=l.get(this.options),this.rootGroup=this.options.rootGroup||this.group,this.handle=this.rootGroup.options.handle||this.rootGroup.options.itemSelector;var n=this.rootGroup.options.itemPath;this.target=n?this.el.find(n):this.el,this.target.on(m.start,this.handle,e.proxy(this.dragInit,this)),this.options.drop&&this.group.containers.push(this)}var d={drag:!0,drop:!0,exclude:"",nested:!0,vertical:!0},u={afterMove:function(e,t,i){},containerPath:"",containerSelector:"ol, ul",distance:0,delay:0,handle:"",itemPath:"",itemSelector:"li",bodyClass:"dragging",draggedClass:"dragged",isValidTarget:function(e,t){return!0},onCancel:function(e,t,i,n){},onDrag:function(e,t,i,n){e.css(t)},onDragStart:function(t,i,n,o){t.css({height:t.outerHeight(),width:t.outerWidth()}),t.addClass(i.group.options.draggedClass),e("body").addClass(i.group.options.bodyClass)},onDrop:function(t,i,n,o){t.removeClass(i.group.options.draggedClass).removeAttr("style"),e("body").removeClass(i.group.options.bodyClass)},onMousedown:function(e,t,i){if(!i.target.nodeName.match(/^(input|select|textarea)$/i))return i.preventDefault(),!0},placeholderClass:"placeholder",placeholder:'<li class="placeholder"></li>',pullPlaceholder:!0,serialize:function(t,i,n){var o=e.extend({},t.data());return n?[i]:(i[0]&&(o.children=i),delete o.subContainers,delete o.sortable,o)},tolerance:0},h={},p=0,f={left:0,top:0,bottom:0,right:0},m={start:"touchstart.sortable mousedown.sortable",drop:"touchend.sortable touchcancel.sortable mouseup.sortable",drag:"touchmove.sortable mousemove.sortable",scroll:"scroll.sortable"};l.get=function(e){return h[e.group]||(e.group===n&&(e.group=p++),h[e.group]=new l(e)),h[e.group]},l.prototype={dragInit:function(t,i){this.$document=e(i.el[0].ownerDocument);var n=e(t.target).closest(this.options.itemSelector);if(n.length){if(this.item=n,this.itemContainer=i,this.item.is(this.options.exclude)||!this.options.onMousedown(this.item,u.onMousedown,t))return;this.setPointer(t),this.toggleListeners("on"),this.setupDelayTimer(),this.dragInitDone=!0}},drag:function(e){if(!this.dragging){if(!this.distanceMet(e)||!this.delayMet)return;this.options.onDragStart(this.item,this.itemContainer,u.onDragStart,e),this.item.before(this.placeholder),this.dragging=!0}this.setPointer(e),this.options.onDrag(this.item,a(this.pointer,this.item.offsetParent()),u.onDrag,e);var t=this.getPointer(e),i=this.sameResultBox,o=this.options.tolerance;(!i||i.top-o>t.top||i.bottom+o<t.top||i.left-o>t.left||i.right+o<t.left)&&(this.searchValidTarget()||(this.placeholder.detach(),this.lastAppendedItem=n))},drop:function(e){this.toggleListeners("off"),this.dragInitDone=!1,this.dragging&&(this.placeholder.closest("html")[0]?this.placeholder.before(this.item).detach():this.options.onCancel(this.item,this.itemContainer,u.onCancel,e),this.options.onDrop(this.item,this.getContainer(this.item),u.onDrop,e),this.clearDimensions(),this.clearOffsetParent(),this.lastAppendedItem=this.sameResultBox=n,this.dragging=!1)},searchValidTarget:function(e,t){e||(e=this.relativePointer||this.pointer,t=this.lastRelativePointer||this.lastPointer);for(var i=r(this.getContainerDimensions(),e,t),o=i.length;o--;){var s=i[o][0];if(!i[o][1]||this.options.pullPlaceholder){var l=this.containers[s];if(!l.disabled){if(!this.$getOffsetParent()){var c=l.getItemOffsetParent();e=a(e,c),t=a(t,c)}if(l.searchValidTarget(e,t))return!0}}}this.sameResultBox&&(this.sameResultBox=n)},movePlaceholder:function(e,t,i,n){var o=this.lastAppendedItem;!n&&o&&o[0]===t[0]||(t[i](this.placeholder),this.lastAppendedItem=t,this.sameResultBox=n,this.options.afterMove(this.placeholder,e,t))},getContainerDimensions:function(){return this.containerDimensions||s(this.containers,this.containerDimensions=[],this.options.tolerance,!this.$getOffsetParent()),this.containerDimensions},getContainer:function(e){return e.closest(this.options.containerSelector).data("sortable")},$getOffsetParent:function(){if(this.offsetParent===n){var e=this.containers.length-1,t=this.containers[e].getItemOffsetParent();if(!this.options.rootGroup)for(;e--;)if(t[0]!=this.containers[e].getItemOffsetParent()[0]){t=!1;break}this.offsetParent=t}return this.offsetParent},setPointer:function(e){var t=this.getPointer(e);if(this.$getOffsetParent()){var i=a(t,this.$getOffsetParent());this.lastRelativePointer=this.relativePointer,this.relativePointer=i}this.lastPointer=this.pointer,this.pointer=t},distanceMet:function(e){var t=this.getPointer(e);return Math.max(Math.abs(this.pointer.left-t.left),Math.abs(this.pointer.top-t.top))>=this.options.distance},getPointer:function(e){var t=e.originalEvent||e.originalEvent.touches&&e.originalEvent.touches[0];return{left:e.pageX||t.pageX,top:e.pageY||t.pageY}},setupDelayTimer:function(){var e=this;this.delayMet=!this.options.delay,this.delayMet||(clearTimeout(this._mouseDelayTimer),this._mouseDelayTimer=setTimeout(function(){e.delayMet=!0},this.options.delay))},scroll:function(e){this.clearDimensions(),this.clearOffsetParent()},toggleListeners:function(t){var i=this,n=["drag","drop","scroll"];e.each(n,function(e,n){i.$document[t](m[n],i[n+"Proxy"])})},clearOffsetParent:function(){this.offsetParent=n},clearDimensions:function(){this.traverse(function(e){e._clearDimensions()})},traverse:function(e){e(this);for(var t=this.containers.length;t--;)this.containers[t].traverse(e)},_clearDimensions:function(){this.containerDimensions=n},_destroy:function(){h[this.options.group]=n}},c.prototype={dragInit:function(e){var t=this.rootGroup;!this.disabled&&!t.dragInitDone&&this.options.drag&&this.isValidDrag(e)&&t.dragInit(e,this)},isValidDrag:function(e){return 1==e.which||"touchstart"==e.type&&1==e.originalEvent.touches.length},searchValidTarget:function(e,t){var i=r(this.getItemDimensions(),e,t),n=i.length,o=this.rootGroup,s=!o.options.isValidTarget||o.options.isValidTarget(o.item,this);if(!n&&s)return o.movePlaceholder(this,this.target,"append"),!0;for(;n--;){var a=i[n][0];if(!i[n][1]&&this.hasChildGroup(a)){if(this.getContainerGroup(a).searchValidTarget(e,t))return!0}else if(s)return this.movePlaceholder(a,e),!0}},movePlaceholder:function(t,i){var n=e(this.items[t]),o=this.itemDimensions[t],s="after",a=n.outerWidth(),r=n.outerHeight(),l=n.offset(),c={left:l.left,right:l.left+a,top:l.top,bottom:l.top+r};if(this.options.vertical){var d=(o[2]+o[3])/2;i.top<=d?(s="before",c.bottom-=r/2):c.top+=r/2}else{var u=(o[0]+o[1])/2;i.left<=u?(s="before",c.right-=a/2):c.left+=a/2}this.hasChildGroup(t)&&(c=f),this.rootGroup.movePlaceholder(this,n,s,c)},getItemDimensions:function(){return this.itemDimensions||(this.items=this.$getChildren(this.el,"item").filter(":not(."+this.group.options.placeholderClass+", ."+this.group.options.draggedClass+")").get(),s(this.items,this.itemDimensions=[],this.options.tolerance)),this.itemDimensions},getItemOffsetParent:function(){var e=this.el;return"relative"===e.css("position")||"absolute"===e.css("position")||"fixed"===e.css("position")?e:e.offsetParent()},hasChildGroup:function(e){return this.options.nested&&this.getContainerGroup(e)},getContainerGroup:function(t){var i=e.data(this.items[t],"subContainers");if(i===n){var o=this.$getChildren(this.items[t],"container");if(i=!1,o[0]){var s=e.extend({},this.options,{rootGroup:this.rootGroup,group:p++});i=o.sortable(s).data("sortable").group}e.data(this.items[t],"subContainers",i)}return i},$getChildren:function(t,i){var n=this.rootGroup.options,o=n[i+"Path"],s=n[i+"Selector"];return t=e(t),o&&(t=t.find(o)),t.children(s)},_serialize:function(t,i){var n=this,o=i?"item":"container",s=this.$getChildren(t,o).not(this.options.exclude).map(function(){return n._serialize(e(this),!i)}).get();return this.rootGroup.options.serialize(t,s,i)},traverse:function(t){e.each(this.items||[],function(i){var n=e.data(this,"subContainers");n&&n.traverse(t)}),t(this)},_clearDimensions:function(){this.itemDimensions=n},_destroy:function(){var t=this;this.target.off(m.start,this.handle),this.el.removeData("sortable"),this.options.drop&&(this.group.containers=e.grep(this.group.containers,function(e){return e!=t})),e.each(this.items||[],function(){e.removeData(this,"subContainers")})}};var g={enable:function(){this.traverse(function(e){e.disabled=!1})},disable:function(){this.traverse(function(e){e.disabled=!0})},serialize:function(){return this._serialize(this.el,!0)},refresh:function(){this.traverse(function(e){e._clearDimensions()})},destroy:function(){this.traverse(function(e){e._destroy()})}};e.extend(c.prototype,g),e.fn.sortable=function(t){var i=Array.prototype.slice.call(arguments,1);return this.map(function(){var o=e(this),s=o.data("sortable");return s&&g[t]?g[t].apply(s,i)||this:(s||t!==n&&"object"!=typeof t||o.data("sortable",new c(o,t)),this)})}}(jQuery,window),function(e,t,i){"use strict";!function e(t,i,n){function o(a,r){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[a]={exports:{}};t[a][0].call(d.exports,function(e){var i=t[a][1][e];return o(i||e)},d,d.exports,e,t,i,n)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(n,o,s){var a=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(s,"__esModule",{value:!0});var r,l,c,d,u=n("./modules/handle-dom"),h=n("./modules/utils"),p=n("./modules/handle-swal-dom"),f=n("./modules/handle-click"),m=a(n("./modules/handle-key")),g=a(n("./modules/default-params")),v=a(n("./modules/set-params"));s.default=c=d=function(){function n(e){var t=o;return t[e]===i?g.default[e]:t[e]}var o=arguments[0];if(u.addClass(t.body,"stop-scrolling"),p.resetInput(),o===i)return h.logStr("SweetAlert expects at least 1 attribute!"),!1;var s=h.extend({},g.default);switch(typeof o){case"string":s.title=o,s.text=arguments[1]||"",s.type=arguments[2]||"";break;case"object":if(o.title===i)return h.logStr('Missing "title" argument!'),!1;s.title=o.title;for(var a in g.default)s[a]=n(a);s.confirmButtonText=s.showCancelButton?"Confirm":g.default.confirmButtonText,s.confirmButtonText=n("confirmButtonText"),s.doneFunction=arguments[1]||null;break;default:return h.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof o),!1}v.default(s),p.fixVerticalPosition(),p.openModal(arguments[1]);for(var c=p.getModal(),b=c.querySelectorAll("button"),y=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],w=function(e){return f.handleButton(e,s,c)},x=0;x<b.length;x++)for(var k=0;k<y.length;k++){var C=y[k];b[x][C]=w}p.getOverlay().onclick=w,r=e.onkeydown;e.onkeydown=function(e){return m.default(e,s,c)},e.onfocus=function(){setTimeout(function(){l!==i&&(l.focus(),l=i)},0)},d.enableButtons()},c.setDefaults=d.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");h.extend(g.default,e)},c.close=d.close=function(){var n=p.getModal();u.fadeOut(p.getOverlay(),5),u.fadeOut(n,5),u.removeClass(n,"showSweetAlert"),u.addClass(n,"hideSweetAlert"),u.removeClass(n,"visible");var o=n.querySelector(".sa-icon.sa-success");u.removeClass(o,"animate"),u.removeClass(o.querySelector(".sa-tip"),"animateSuccessTip"),u.removeClass(o.querySelector(".sa-long"),"animateSuccessLong");var s=n.querySelector(".sa-icon.sa-error");u.removeClass(s,"animateErrorIcon"),u.removeClass(s.querySelector(".sa-x-mark"),"animateXMark");var a=n.querySelector(".sa-icon.sa-warning");return u.removeClass(a,"pulseWarning"),u.removeClass(a.querySelector(".sa-body"),"pulseWarningIns"),u.removeClass(a.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var e=n.getAttribute("data-custom-class");u.removeClass(n,e)},300),u.removeClass(t.body,"stop-scrolling"),e.onkeydown=r,e.previousActiveElement&&e.previousActiveElement.focus(),l=i,clearTimeout(n.timeout),!0},c.showInputError=d.showInputError=function(e){var t=p.getModal(),i=t.querySelector(".sa-input-error");u.addClass(i,"show");var n=t.querySelector(".sa-error-container");u.addClass(n,"show"),n.querySelector("p").innerHTML=e,setTimeout(function(){c.enableButtons()},1),t.querySelector("input").focus()},c.resetInputError=d.resetInputError=function(e){if(e&&13===e.keyCode)return!1;var t=p.getModal(),i=t.querySelector(".sa-input-error");u.removeClass(i,"show");var n=t.querySelector(".sa-error-container");u.removeClass(n,"show")},c.disableButtons=d.disableButtons=function(e){var t=p.getModal(),i=t.querySelector("button.confirm"),n=t.querySelector("button.cancel");i.disabled=!0,n.disabled=!0},c.enableButtons=d.enableButtons=function(e){var t=p.getModal(),i=t.querySelector("button.confirm"),n=t.querySelector("button.cancel");i.disabled=!1,n.disabled=!1},void 0!==e?e.sweetAlert=e.swal=c:h.logStr("SweetAlert is a frontend module!"),o.exports=s.default},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var n={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};i.default=n,t.exports=i.default},{}],3:[function(t,i,n){Object.defineProperty(n,"__esModule",{value:!0});var o=t("./utils"),s=(t("./handle-swal-dom"),t("./handle-dom")),a=function(e,t){var i=!0;s.hasClass(e,"show-input")&&((i=e.querySelector("input").value)||(i="")),t.doneFunction(i),t.closeOnConfirm&&sweetAlert.close(),t.showLoaderOnConfirm&&sweetAlert.disableButtons()},r=function(e,t){var i=String(t.doneFunction).replace(/\s/g,"");"function("===i.substring(0,9)&&")"!==i.substring(9,10)&&t.doneFunction(!1),t.closeOnCancel&&sweetAlert.close()};n.default={handleButton:function(t,i,n){function l(e){f&&i.confirmButtonColor&&(p.style.backgroundColor=e)}var c,d,u,h=t||e.event,p=h.target||h.srcElement,f=-1!==p.className.indexOf("confirm"),m=-1!==p.className.indexOf("sweet-overlay"),g=s.hasClass(n,"visible"),v=i.doneFunction&&"true"===n.getAttribute("data-has-done-function");switch(f&&i.confirmButtonColor&&(c=i.confirmButtonColor,d=o.colorLuminance(c,-.04),u=o.colorLuminance(c,-.14)),h.type){case"mouseover":l(d);break;case"mouseout":l(c);break;case"mousedown":l(u);break;case"mouseup":l(d);break;case"focus":var b=n.querySelector("button.confirm"),y=n.querySelector("button.cancel");f?y.style.boxShadow="none":b.style.boxShadow="none";break;case"click":var w=n===p,x=s.isDescendant(n,p);if(!w&&!x&&g&&!i.allowOutsideClick)break;f&&v&&g?a(n,i):v&&g||m?r(n,i):s.isDescendant(n,p)&&"BUTTON"===p.tagName&&sweetAlert.close()}},handleConfirm:a,handleCancel:r},i.exports=n.default},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(i,n,o){Object.defineProperty(o,"__esModule",{value:!0});var s=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},a=function(e){e.style.opacity="",e.style.display="block"},r=function(e){e.style.opacity="",e.style.display="none"};o.hasClass=s,o.addClass=function(e,t){s(e,t)||(e.className+=" "+t)},o.removeClass=function(e,t){var i=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(s(e,t)){for(;i.indexOf(" "+t+" ")>=0;)i=i.replace(" "+t+" "," ");e.className=i.replace(/^\s+|\s+$/g,"")}},o.escapeHtml=function(e){var i=t.createElement("div");return i.appendChild(t.createTextNode(e)),i.innerHTML},o._show=a,o.show=function(e){if(e&&!e.length)return a(e);for(var t=0;t<e.length;++t)a(e[t])},o._hide=r,o.hide=function(e){if(e&&!e.length)return r(e);for(var t=0;t<e.length;++t)r(e[t])},o.isDescendant=function(e,t){for(var i=t.parentNode;null!==i;){if(i===e)return!0;i=i.parentNode}return!1},o.getTopMargin=function(e){e.style.left="-9999px",e.style.display="block";var t,i=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding-top"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt((i+t)/2)+"px"},o.fadeIn=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var i=+new Date,n=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity+(new Date-i)/100,i=+new Date,+e.style.opacity<1&&setTimeout(n,t)});n()}e.style.display="block"},o.fadeOut=function(e,t){t=t||16,e.style.opacity=1;var i=+new Date,n=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity-(new Date-i)/100,i=+new Date,+e.style.opacity>0?setTimeout(n,t):e.style.display="none"});n()},o.fireClick=function(i){if("function"==typeof MouseEvent){var n=new MouseEvent("click",{view:e,bubbles:!1,cancelable:!0});i.dispatchEvent(n)}else if(t.createEvent){var o=t.createEvent("MouseEvents");o.initEvent("click",!1,!1),i.dispatchEvent(o)}else t.createEventObject?i.fireEvent("onclick"):"function"==typeof i.onclick&&i.onclick()},o.stopEventPropagation=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):e.event&&e.event.hasOwnProperty("cancelBubble")&&(e.event.cancelBubble=!0)}},{}],5:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0});var s=t("./handle-dom"),a=t("./handle-swal-dom");o.default=function(t,n,o){var r=t||e.event,l=r.keyCode||r.which,c=o.querySelector("button.confirm"),d=o.querySelector("button.cancel"),u=o.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(l)){for(var h=r.target||r.srcElement,p=-1,f=0;f<u.length;f++)if(h===u[f]){p=f;break}9===l?(h=-1===p?c:p===u.length-1?u[0]:u[p+1],s.stopEventPropagation(r),h.focus(),n.confirmButtonColor&&a.setFocusStyle(h,n.confirmButtonColor)):13===l?("INPUT"===h.tagName&&(h=c,c.focus()),h=-1===p?c:i):27===l&&!0===n.allowEscapeKey?(h=d,s.fireClick(h,r)):h=i}},n.exports=o.default},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(i,n,o){var s=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o,"__esModule",{value:!0});var a=i("./utils"),r=i("./handle-dom"),l=s(i("./default-params")),c=s(i("./injected-html")),d=function(){var e=t.createElement("div");for(e.innerHTML=c.default;e.firstChild;)t.body.appendChild(e.firstChild)},u=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=t.querySelector(".sweet-alert");return e||(d(),e=u()),e}),h=function(){var e=u();if(e)return e.querySelector("input")},p=function(){return t.querySelector(".sweet-overlay")},f=function(e){if(e&&13===e.keyCode)return!1;var t=u(),i=t.querySelector(".sa-input-error");r.removeClass(i,"show");var n=t.querySelector(".sa-error-container");r.removeClass(n,"show")};o.sweetAlertInitialize=d,o.getModal=u,o.getOverlay=p,o.getInput=h,o.setFocusStyle=function(e,t){var i=a.hexToRgb(t);e.style.boxShadow="0 0 2px rgba("+i+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},o.openModal=function(i){var n=u();r.fadeIn(p(),10),r.show(n),r.addClass(n,"showSweetAlert"),r.removeClass(n,"hideSweetAlert"),e.previousActiveElement=t.activeElement,n.querySelector("button.confirm").focus(),setTimeout(function(){r.addClass(n,"visible")},500);var o=n.getAttribute("data-timer");if("null"!==o&&""!==o){var s=i;n.timeout=setTimeout(function(){s&&"true"===n.getAttribute("data-has-done-function")?s(null):sweetAlert.close()},o)}},o.resetInput=function(){var e=u(),t=h();r.removeClass(e,"show-input"),t.value=l.default.inputValue,t.setAttribute("type",l.default.inputType),t.setAttribute("placeholder",l.default.inputPlaceholder),f()},o.resetInputError=f,o.fixVerticalPosition=function(){u().style.marginTop=r.getTopMargin(u())}},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});i.default='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div onclick="swal.close();" style="cursor: pointer;" class="cancel sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div onclick="swal.close();" style="cursor: pointer;" class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container" style="display:block;">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>',t.exports=i.default},{}],8:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=e("./utils"),s=e("./handle-swal-dom"),a=e("./handle-dom"),r=["error","warning","info","success","input","prompt"];n.default=function(e){var t=s.getModal(),n=t.querySelector("h2"),l=t.querySelector("p"),c=t.querySelector("button.cancel"),d=t.querySelector("button.confirm");if(n.innerHTML=e.html?e.title:a.escapeHtml(e.title).split("\n").join("<br>"),l.innerHTML=e.html?e.text:a.escapeHtml(e.text||"").split("\n").join("<br>"),e.text&&a.show(l),e.customClass)a.addClass(t,e.customClass),t.setAttribute("data-custom-class",e.customClass);else{var u=t.getAttribute("data-custom-class");a.removeClass(t,u),t.setAttribute("data-custom-class","")}if(a.hide(t.querySelectorAll(".sa-icon")),e.type&&!o.isIE8()){var h=function(){for(var n=!1,o=0;o<r.length;o++)if(e.type===r[o]){n=!0;break}if(!n)return logStr("Unknown alert type: "+e.type),{v:!1};var l=i;-1!==["success","error","warning","info"].indexOf(e.type)&&(l=t.querySelector(".sa-icon.sa-"+e.type),a.show(l));var c=s.getInput();switch(e.type){case"success":a.addClass(l,"animate"),a.addClass(l.querySelector(".sa-tip"),"animateSuccessTip"),a.addClass(l.querySelector(".sa-long"),"animateSuccessLong");break;case"error":a.addClass(l,"animateErrorIcon"),a.addClass(l.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":a.addClass(l,"pulseWarning"),a.addClass(l.querySelector(".sa-body"),"pulseWarningIns"),a.addClass(l.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":c.setAttribute("type",e.inputType),c.value=e.inputValue,c.setAttribute("placeholder",e.inputPlaceholder),a.addClass(t,"show-input"),setTimeout(function(){c.focus(),c.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof h)return h.v}if(e.imageUrl){var p=t.querySelector(".sa-icon.sa-custom");p.style.backgroundImage="url("+e.imageUrl+")",a.show(p);var f=80,m=80;if(e.imageSize){var g=e.imageSize.toString().split("x"),v=g[0],b=g[1];v&&b?(f=v,m=b):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}p.setAttribute("style",p.getAttribute("style")+"width:"+f+"px; height:"+m+"px")}t.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?c.style.display="inline-block":a.hide(c),t.setAttribute("data-has-confirm-button",e.showConfirmButton),e.showConfirmButton?d.style.display="inline-block":a.hide(d),e.cancelButtonText&&(c.innerHTML=a.escapeHtml(e.cancelButtonText)),e.confirmButtonText&&(d.innerHTML=a.escapeHtml(e.confirmButtonText)),e.confirmButtonColor&&(d.style.backgroundColor=e.confirmButtonColor,d.style.borderLeftColor=e.confirmLoadingButtonColor,d.style.borderRightColor=e.confirmLoadingButtonColor,s.setFocusStyle(d,e.confirmButtonColor)),t.setAttribute("data-allow-outside-click",e.allowOutsideClick);var y=!!e.doneFunction;t.setAttribute("data-has-done-function",y),e.animation?"string"==typeof e.animation?t.setAttribute("data-animation",e.animation):t.setAttribute("data-animation","pop"):t.setAttribute("data-animation","none"),t.setAttribute("data-timer",e.timer)},t.exports=n.default},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(t,i,n){Object.defineProperty(n,"__esModule",{value:!0});n.extend=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},n.hexToRgb=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null},n.isIE8=function(){return e.attachEvent&&!e.addEventListener},n.logStr=function(t){e.console&&e.console.log("SweetAlert: "+t)},n.colorLuminance=function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var i,n,o="#";for(n=0;n<3;n++)i=parseInt(e.substr(2*n,2),16),o+=("00"+(i=Math.round(Math.min(Math.max(0,i+i*t),255)).toString(16))).substr(i.length);return o}},{}]},{},[1]),"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document),function(){function e(e){function t(t,i,n,o,s,a){for(;s>=0&&a>s;s+=e){var r=o?o[s]:s;n=i(n,t[r],r,t)}return n}return function(i,n,o,s){n=y(n,s,4);var a=!D(i)&&b.keys(i),r=(a||i).length,l=e>0?0:r-1;return arguments.length<3&&(o=i[a?a[l]:l],l+=e),t(i,n,o,a,l,r)}}function t(e){return function(t,i,n){i=w(i,n);for(var o=T(t),s=e>0?0:o-1;s>=0&&o>s;s+=e)if(i(t[s],s,t))return s;return-1}}function i(e,t,i){return function(n,o,s){var a=0,r=T(n);if("number"==typeof s)e>0?a=s>=0?s:Math.max(s+r,a):r=s>=0?Math.min(s+1,r):s+r+1;else if(i&&s&&r)return s=i(n,o),n[s]===o?s:-1;if(o!==o)return(s=t(d.call(n,a,r),b.isNaN))>=0?s+a:-1;for(s=e>0?a:r-1;s>=0&&r>s;s+=e)if(n[s]===o)return s;return-1}}function n(e,t){var i=A.length,n=e.constructor,o=b.isFunction(n)&&n.prototype||r,s="constructor";for(b.has(e,s)&&!b.contains(t,s)&&t.push(s);i--;)(s=A[i])in e&&e[s]!==o[s]&&!b.contains(t,s)&&t.push(s)}var o=this,s=o._,a=Array.prototype,r=Object.prototype,l=Function.prototype,c=a.push,d=a.slice,u=r.toString,h=r.hasOwnProperty,p=Array.isArray,f=Object.keys,m=l.bind,g=Object.create,v=function(){},b=function(e){return e instanceof b?e:this instanceof b?void(this._wrapped=e):new b(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=b),exports._=b):o._=b,b.VERSION="1.8.3";var y=function(e,t,i){if(void 0===t)return e;switch(null==i?3:i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,o){return e.call(t,i,n,o)};case 4:return function(i,n,o,s){return e.call(t,i,n,o,s)}}return function(){return e.apply(t,arguments)}},w=function(e,t,i){return null==e?b.identity:b.isFunction(e)?y(e,t,i):b.isObject(e)?b.matcher(e):b.property(e)};b.iteratee=function(e,t){return w(e,t,1/0)};var x=function(e,t){return function(i){var n=arguments.length;if(2>n||null==i)return i;for(var o=1;n>o;o++)for(var s=arguments[o],a=e(s),r=a.length,l=0;r>l;l++){var c=a[l];t&&void 0!==i[c]||(i[c]=s[c])}return i}},k=function(e){if(!b.isObject(e))return{};if(g)return g(e);v.prototype=e;var t=new v;return v.prototype=null,t},C=function(e){return function(t){return null==t?void 0:t[e]}},S=Math.pow(2,53)-1,T=C("length"),D=function(e){var t=T(e);return"number"==typeof t&&t>=0&&S>=t};b.each=b.forEach=function(e,t,i){t=y(t,i);var n,o;if(D(e))for(n=0,o=e.length;o>n;n++)t(e[n],n,e);else{var s=b.keys(e);for(n=0,o=s.length;o>n;n++)t(e[s[n]],s[n],e)}return e},b.map=b.collect=function(e,t,i){t=w(t,i);for(var n=!D(e)&&b.keys(e),o=(n||e).length,s=Array(o),a=0;o>a;a++){var r=n?n[a]:a;s[a]=t(e[r],r,e)}return s},b.reduce=b.foldl=b.inject=e(1),b.reduceRight=b.foldr=e(-1),b.find=b.detect=function(e,t,i){var n;return void 0!==(n=D(e)?b.findIndex(e,t,i):b.findKey(e,t,i))&&-1!==n?e[n]:void 0},b.filter=b.select=function(e,t,i){var n=[];return t=w(t,i),b.each(e,function(e,i,o){t(e,i,o)&&n.push(e)}),n},b.reject=function(e,t,i){return b.filter(e,b.negate(w(t)),i)},b.every=b.all=function(e,t,i){t=w(t,i);for(var n=!D(e)&&b.keys(e),o=(n||e).length,s=0;o>s;s++){var a=n?n[s]:s;if(!t(e[a],a,e))return!1}return!0},b.some=b.any=function(e,t,i){t=w(t,i);for(var n=!D(e)&&b.keys(e),o=(n||e).length,s=0;o>s;s++){var a=n?n[s]:s;if(t(e[a],a,e))return!0}return!1},b.contains=b.includes=b.include=function(e,t,i,n){return D(e)||(e=b.values(e)),("number"!=typeof i||n)&&(i=0),b.indexOf(e,t,i)>=0},b.invoke=function(e,t){var i=d.call(arguments,2),n=b.isFunction(t);return b.map(e,function(e){var o=n?t:e[t];return null==o?o:o.apply(e,i)})},b.pluck=function(e,t){return b.map(e,b.property(t))},b.where=function(e,t){return b.filter(e,b.matcher(t))},b.findWhere=function(e,t){return b.find(e,b.matcher(t))},b.max=function(e,t,i){var n,o,s=-1/0,a=-1/0;if(null==t&&null!=e)for(var r=0,l=(e=D(e)?e:b.values(e)).length;l>r;r++)(n=e[r])>s&&(s=n);else t=w(t,i),b.each(e,function(e,i,n){((o=t(e,i,n))>a||o===-1/0&&s===-1/0)&&(s=e,a=o)});return s},b.min=function(e,t,i){var n,o,s=1/0,a=1/0;if(null==t&&null!=e)for(var r=0,l=(e=D(e)?e:b.values(e)).length;l>r;r++)n=e[r],s>n&&(s=n);else t=w(t,i),b.each(e,function(e,i,n){o=t(e,i,n),(a>o||1/0===o&&1/0===s)&&(s=e,a=o)});return s},b.shuffle=function(e){for(var t,i=D(e)?e:b.values(e),n=i.length,o=Array(n),s=0;n>s;s++)(t=b.random(0,s))!==s&&(o[s]=o[t]),o[t]=i[s];return o},b.sample=function(e,t,i){return null==t||i?(D(e)||(e=b.values(e)),e[b.random(e.length-1)]):b.shuffle(e).slice(0,Math.max(0,t))},b.sortBy=function(e,t,i){return t=w(t,i),b.pluck(b.map(e,function(e,i,n){return{value:e,index:i,criteria:t(e,i,n)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index-t.index}),"value")};var $=function(e){return function(t,i,n){var o={};return i=w(i,n),b.each(t,function(n,s){var a=i(n,s,t);e(o,n,a)}),o}};b.groupBy=$(function(e,t,i){b.has(e,i)?e[i].push(t):e[i]=[t]}),b.indexBy=$(function(e,t,i){e[i]=t}),b.countBy=$(function(e,t,i){b.has(e,i)?e[i]++:e[i]=1}),b.toArray=function(e){return e?b.isArray(e)?d.call(e):D(e)?b.map(e,b.identity):b.values(e):[]},b.size=function(e){return null==e?0:D(e)?e.length:b.keys(e).length},b.partition=function(e,t,i){t=w(t,i);var n=[],o=[];return b.each(e,function(e,i,s){(t(e,i,s)?n:o).push(e)}),[n,o]},b.first=b.head=b.take=function(e,t,i){return null==e?void 0:null==t||i?e[0]:b.initial(e,e.length-t)},b.initial=function(e,t,i){return d.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},b.last=function(e,t,i){return null==e?void 0:null==t||i?e[e.length-1]:b.rest(e,Math.max(0,e.length-t))},b.rest=b.tail=b.drop=function(e,t,i){return d.call(e,null==t||i?1:t)},b.compact=function(e){return b.filter(e,b.identity)};var _=function(e,t,i,n){for(var o=[],s=0,a=n||0,r=T(e);r>a;a++){var l=e[a];if(D(l)&&(b.isArray(l)||b.isArguments(l))){t||(l=_(l,t,i));var c=0,d=l.length;for(o.length+=d;d>c;)o[s++]=l[c++]}else i||(o[s++]=l)}return o};b.flatten=function(e,t){return _(e,t,!1)},b.without=function(e){return b.difference(e,d.call(arguments,1))},b.uniq=b.unique=function(e,t,i,n){b.isBoolean(t)||(n=i,i=t,t=!1),null!=i&&(i=w(i,n));for(var o=[],s=[],a=0,r=T(e);r>a;a++){var l=e[a],c=i?i(l,a,e):l;t?(a&&s===c||o.push(l),s=c):i?b.contains(s,c)||(s.push(c),o.push(l)):b.contains(o,l)||o.push(l)}return o},b.union=function(){return b.uniq(_(arguments,!0,!0))},b.intersection=function(e){for(var t=[],i=arguments.length,n=0,o=T(e);o>n;n++){var s=e[n];if(!b.contains(t,s)){for(var a=1;i>a&&b.contains(arguments[a],s);a++);a===i&&t.push(s)}}return t},b.difference=function(e){var t=_(arguments,!0,!0,1);return b.filter(e,function(e){return!b.contains(t,e)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(e){for(var t=e&&b.max(e,T).length||0,i=Array(t),n=0;t>n;n++)i[n]=b.pluck(e,n);return i},b.object=function(e,t){for(var i={},n=0,o=T(e);o>n;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},b.findIndex=t(1),b.findLastIndex=t(-1),b.sortedIndex=function(e,t,i,n){for(var o=(i=w(i,n,1))(t),s=0,a=T(e);a>s;){var r=Math.floor((s+a)/2);i(e[r])<o?s=r+1:a=r}return s},b.indexOf=i(1,b.findIndex,b.sortedIndex),b.lastIndexOf=i(-1,b.findLastIndex),b.range=function(e,t,i){null==t&&(t=e||0,e=0),i=i||1;for(var n=Math.max(Math.ceil((t-e)/i),0),o=Array(n),s=0;n>s;s++,e+=i)o[s]=e;return o};var M=function(e,t,i,n,o){if(!(n instanceof t))return e.apply(i,o);var s=k(e.prototype),a=e.apply(s,o);return b.isObject(a)?a:s};b.bind=function(e,t){if(m&&e.bind===m)return m.apply(e,d.call(arguments,1));if(!b.isFunction(e))throw new TypeError("Bind must be called on a function");var i=d.call(arguments,2),n=function(){return M(e,n,t,this,i.concat(d.call(arguments)))};return n},b.partial=function(e){var t=d.call(arguments,1),i=function(){for(var n=0,o=t.length,s=Array(o),a=0;o>a;a++)s[a]=t[a]===b?arguments[n++]:t[a];for(;n<arguments.length;)s.push(arguments[n++]);return M(e,i,this,this,s)};return i},b.bindAll=function(e){var t,i,n=arguments.length;if(1>=n)throw new Error("bindAll must be passed function names");for(t=1;n>t;t++)i=arguments[t],e[i]=b.bind(e[i],e);return e},b.memoize=function(e,t){var i=function(n){var o=i.cache,s=""+(t?t.apply(this,arguments):n);return b.has(o,s)||(o[s]=e.apply(this,arguments)),o[s]};return i.cache={},i},b.delay=function(e,t){var i=d.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},b.defer=b.partial(b.delay,b,1),b.throttle=function(e,t,i){var n,o,s,a=null,r=0;i||(i={});var l=function(){r=!1===i.leading?0:b.now(),a=null,s=e.apply(n,o),a||(n=o=null)};return function(){var c=b.now();r||!1!==i.leading||(r=c);var d=t-(c-r);return n=this,o=arguments,0>=d||d>t?(a&&(clearTimeout(a),a=null),r=c,s=e.apply(n,o),a||(n=o=null)):a||!1===i.trailing||(a=setTimeout(l,d)),s}},b.debounce=function(e,t,i){var n,o,s,a,r,l=function(){var c=b.now()-a;t>c&&c>=0?n=setTimeout(l,t-c):(n=null,i||(r=e.apply(s,o),n||(s=o=null)))};return function(){s=this,o=arguments,a=b.now();var c=i&&!n;return n||(n=setTimeout(l,t)),c&&(r=e.apply(s,o),s=o=null),r}},b.wrap=function(e,t){return b.partial(t,e)},b.negate=function(e){return function(){return!e.apply(this,arguments)}},b.compose=function(){var e=arguments,t=e.length-1;return function(){for(var i=t,n=e[t].apply(this,arguments);i--;)n=e[i].call(this,n);return n}},b.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},b.before=function(e,t){var i;return function(){return--e>0&&(i=t.apply(this,arguments)),1>=e&&(t=null),i}},b.once=b.partial(b.before,2);var O=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(e){if(!b.isObject(e))return[];if(f)return f(e);var t=[];for(var i in e)b.has(e,i)&&t.push(i);return O&&n(e,t),t},b.allKeys=function(e){if(!b.isObject(e))return[];var t=[];for(var i in e)t.push(i);return O&&n(e,t),t},b.values=function(e){for(var t=b.keys(e),i=t.length,n=Array(i),o=0;i>o;o++)n[o]=e[t[o]];return n},b.mapObject=function(e,t,i){t=w(t,i);for(var n,o=b.keys(e),s=o.length,a={},r=0;s>r;r++)n=o[r],a[n]=t(e[n],n,e);return a},b.pairs=function(e){for(var t=b.keys(e),i=t.length,n=Array(i),o=0;i>o;o++)n[o]=[t[o],e[t[o]]];return n},b.invert=function(e){for(var t={},i=b.keys(e),n=0,o=i.length;o>n;n++)t[e[i[n]]]=i[n];return t},b.functions=b.methods=function(e){var t=[];for(var i in e)b.isFunction(e[i])&&t.push(i);return t.sort()},b.extend=x(b.allKeys),b.extendOwn=b.assign=x(b.keys),b.findKey=function(e,t,i){t=w(t,i);for(var n,o=b.keys(e),s=0,a=o.length;a>s;s++)if(n=o[s],t(e[n],n,e))return n},b.pick=function(e,t,i){var n,o,s={},a=e;if(null==a)return s;b.isFunction(t)?(o=b.allKeys(a),n=y(t,i)):(o=_(arguments,!1,!1,1),n=function(e,t,i){return t in i},a=Object(a));for(var r=0,l=o.length;l>r;r++){var c=o[r],d=a[c];n(d,c,a)&&(s[c]=d)}return s},b.omit=function(e,t,i){if(b.isFunction(t))t=b.negate(t);else{var n=b.map(_(arguments,!1,!1,1),String);t=function(e,t){return!b.contains(n,t)}}return b.pick(e,t,i)},b.defaults=x(b.allKeys,!0),b.create=function(e,t){var i=k(e);return t&&b.extendOwn(i,t),i},b.clone=function(e){return b.isObject(e)?b.isArray(e)?e.slice():b.extend({},e):e},b.tap=function(e,t){return t(e),e},b.isMatch=function(e,t){var i=b.keys(t),n=i.length;if(null==e)return!n;for(var o=Object(e),s=0;n>s;s++){var a=i[s];if(t[a]!==o[a]||!(a in o))return!1}return!0};var P=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof b&&(e=e._wrapped),t instanceof b&&(t=t._wrapped);var o=u.call(e);if(o!==u.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var s="[object Array]"===o;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,r=t.constructor;if(a!==r&&!(b.isFunction(a)&&a instanceof a&&b.isFunction(r)&&r instanceof r)&&"constructor"in e&&"constructor"in t)return!1}i=i||[],n=n||[];for(var l=i.length;l--;)if(i[l]===e)return n[l]===t;if(i.push(e),n.push(t),s){if((l=e.length)!==t.length)return!1;for(;l--;)if(!P(e[l],t[l],i,n))return!1}else{var c,d=b.keys(e);if(l=d.length,b.keys(t).length!==l)return!1;for(;l--;)if(c=d[l],!b.has(t,c)||!P(e[c],t[c],i,n))return!1}return i.pop(),n.pop(),!0};b.isEqual=function(e,t){return P(e,t)},b.isEmpty=function(e){return null==e||(D(e)&&(b.isArray(e)||b.isString(e)||b.isArguments(e))?0===e.length:0===b.keys(e).length)},b.isElement=function(e){return!(!e||1!==e.nodeType)},b.isArray=p||function(e){return"[object Array]"===u.call(e)},b.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){b["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}}),b.isArguments(arguments)||(b.isArguments=function(e){return b.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(e){return"function"==typeof e||!1}),b.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},b.isNaN=function(e){return b.isNumber(e)&&e!==+e},b.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===u.call(e)},b.isNull=function(e){return null===e},b.isUndefined=function(e){return void 0===e},b.has=function(e,t){return null!=e&&h.call(e,t)},b.noConflict=function(){return o._=s,this},b.identity=function(e){return e},b.constant=function(e){return function(){return e}},b.noop=function(){},b.property=C,b.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},b.matcher=b.matches=function(e){return e=b.extendOwn({},e),function(t){return b.isMatch(t,e)}},b.times=function(e,t,i){var n=Array(Math.max(0,e));t=y(t,i,1);for(var o=0;e>o;o++)n[o]=t(o);return n},b.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},b.now=Date.now||function(){return(new Date).getTime()};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=b.invert(I),E=function(e){var t=function(t){return e[t]},i="(?:"+b.keys(e).join("|")+")",n=RegExp(i),o=RegExp(i,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(o,t):e}};b.escape=E(I),b.unescape=E(j),b.result=function(e,t,i){var n=null==e?void 0:e[t];return void 0===n&&(n=i),b.isFunction(n)?n.call(e):n};var R=0;b.uniqueId=function(e){var t=++R+"";return e?e+t:t},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\u2028|\u2029/g,z=function(e){return"\\"+q[e]};b.template=function(e,t,i){!t&&i&&(t=i),t=b.defaults({},t,b.templateSettings);var n=RegExp([(t.escape||F).source,(t.interpolate||F).source,(t.evaluate||F).source].join("|")+"|$","g"),o=0,s="__p+='";e.replace(n,function(t,i,n,a,r){return s+=e.slice(o,r).replace(L,z),o=r+t.length,i?s+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?s+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(s+="';\n"+a+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var a=new Function(t.variable||"obj","_",s)}catch(e){throw e.source=s,e}var r=function(e){return a.call(this,e,b)},l=t.variable||"obj";return r.source="function("+l+"){\n"+s+"}",r},b.chain=function(e){var t=b(e);return t._chain=!0,t};var Y=function(e,t){return e._chain?b(t).chain():t};b.mixin=function(e){b.each(b.functions(e),function(t){var i=b[t]=e[t];b.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),Y(this,i.apply(b,e))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];b.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!==e&&"splice"!==e||0!==i.length||delete i[0],Y(this,i)}}),b.each(["concat","join","slice"],function(e){var t=a[e];b.prototype[e]=function(){return Y(this,t.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return b})}.call(this);var currentUrl=$(location).attr("href"),getUrl=window.location,openPrompt=function(e){var t={};void 0!=e.submit?t[e.title]=1:t[""]=0;var i={state0:{title:e.title,html:e.response,uid:e.id,buttons:t,submit:function(e,t,i,n){e.preventDefault()}}};$.prompt(i)},getMyLocation=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var t=new google.maps.LatLng(e.coords.latitude,e.coords.longitude),i=new google.maps.Geocoder;console.log(t),i.geocode({latLng:t},function(e,t){$.ajax({url:baseUrl+"ajax/users/regio",data:{city:e[2].address_components[1].long_name},success:function(e){}})})})};$(document).ready(function(){getMyLocation(),$(window).width()<769&&$("footer .ui.inverted").addClass("accordion"),$(window).resize(function(){$(window).width()<769?($("footer .ui.inverted").addClass("accordion"),$("footer .dropdown.icon").show()):($("footer .ui.inverted").removeClass("accordion"),$("footer .dropdown.icon").hide())}),$(".searchRedirectCategories").on("change",function(e){switch($("#affiliateSearch-1").search("destroy"),$("#affiliateSearch-1").search("clear cache",$("#affiliateSearch-1 input").val()),$("#affiliateSearch-1").search("hide results"),$("#affiliateSearch-1 input").val(""),$("#affiliateSearch-1 .results").remove(),$(".searchRedirectCategories").dropdown("get value")){case"restaurant":textReplace="Waar wilt u gaan reserveren?",buttonReplace="Reserveer nu",$("#affiliateSearch-1").search({apiSettings:{url:baseUrl+"ajax/companies/users?q={query}"},fields:{results:"items",title:"name",url:"link"},minCharacters:2,maxResults:15,error:{noResults:"Er zijn geen zoekresultaten gevonden.",serverError:"Er is een fout opgetreden met het uitvoeren van een query."}});break;case"saldo":buttonReplace="Spaar direct",textReplace="In welke webshop wilt u een aankoop gaan doen?",$("#affiliateSearch-1").search({apiSettings:{url:baseUrl+"ajax/affiliates?q={query}"},fields:{results:"items",title:"name",image:"image",url:"link",description:"commission"},minCharacters:2,maxResults:15,error:{noResults:"Er zijn geen zoekresultaten gevonden.",serverError:"Er is een fout opgetreden met het uitvoeren van een query."}});break;case"faq":buttonReplace="Zoeken",textReplace="Wat wilt u ons vragen?",$("#affiliateSearch-1").search({apiSettings:{url:baseUrl+"ajax/faq?q={query}"},fields:{results:"items",title:"name",url:"link"},minCharacters:2,maxResults:15,error:{noResults:"Er zijn geen zoekresultaten gevonden.",serverError:"Er is een fout opgetreden met het uitvoeren van een query."}})}$("#affiliateSearch-1 input, #searchFull input").attr("placeholder",textReplace),$("#sliderSubmitButton").html(buttonReplace)}),$.reject({reject:{msie:9,unknown:!0},header:"Uw browser is verouderd.",paragraph1:"U maakt waarschijnlijk gebruik van een verouderde browser, waardoor er onderdelen op deze website niet optimaal te zien zijn.",paragraph2:"Installeer een van de volgende webbrowsers",imagePath:baseUrl+"/public/images/",closeLink:"Sluit scherm",closeMessage:""}),$("#sliderImage img.background").responsify(),$(".card").slice(0,9).show();$(".recommend .company").slice(0,5).show().removeClass("hidden"),$("#loadMoreRecommend").on("click",function(e){e.preventDefault();var t=$(".recommend .company:hidden").slice(0,4).slideDown();0==$(".recommend .company:hidden").length&&($(".load").fadeOut("slow"),$("#loadMoreRecommend").fadeOut("slow")),$("html,body").animate({scrollTop:$(this).offset().top},1500),t.removeClass("hidden")}),$("#loadMoreHome").on("click",function(e){e.preventDefault(),$(".home.card:hidden").slice(0,4).slideDown(),0==$(".home.card:hidden").length&&$("#load").fadeOut("slow"),$("html,body").animate({scrollTop:$(this).offset().top},1500)}),$(".ui.sticky").sticky({context:"#example1"}),$("#flexiselDemo1").flexisel({visibleItems:10,itemsToScroll:10,animationSpeed:400,infinite:!1,navigationTargetSelector:null,autoPlay:{enable:!1,interval:5e3,pauseOnHover:!0},responsiveBreakpoints:{portrait:{changePoint:480,visibleItems:5,itemsToScroll:1},landscape:{changePoint:640,visibleItems:5,itemsToScroll:2},tablet:{changePoint:768,visibleItems:5,itemsToScroll:3}}}),$("#howBlock").flexisel({visibleItems:4,itemsToScroll:0,animationSpeed:400,infinite:!1,navigationTargetSelector:null,autoPlay:{enable:!1,interval:5e3,pauseOnHover:!0},responsiveBreakpoints:{portrait:{changePoint:480,visibleItems:2,itemsToScroll:1},landscape:{changePoint:640,visibleItems:2,itemsToScroll:2},tablet:{changePoint:768,visibleItems:2,itemsToScroll:3}}}),$("#guestListNewsletter").on("click",function(){$(".guests-mode").show(),$(".text-mode").hide(),$("#previewButton").hide(),$("#editButton").hide();var e={valueNames:["id","name","company"],item:'<li class="item"><div class="image"><input class="checkbox user" name="guest[]" type="checkbox" /></div><div class="content"><span class="id" style="display: none;"></span><span class="name"></span><strong class="company"></strong></div></li>'},t=new List("users",e);$.ajax({method:"GET",url:baseUrl+"ajax/newsletter/guests",data:{companies:$(".ui.companies.dropdown").dropdown("get value")}}).success(function(e){var i=JSON.parse(e);i.length>=1?$(i).each(function(e,i){t.add({id:i.id,name:i.name,company:i.companyName})}):$(".guests-mode .ui.list").html("Er zijn geen gasten gevonden.")})}),$("#affiliateSearchForm .search.icon").on("click",function(){$("#affiliateSearchForm").submit()}),$("#previewButton").on("click",function(){$(".preview-mode").show(),$(".preview-content").html(tinyMCE.get("text-editor").getContent()),$("#previewButton").hide(),$(".text-mode").hide(),$("#editButton").show()}),$("#editButton").on("click",function(){$(".preview-mode").hide(),$("#previewButton").show(),$(".text-mode").show(),$("#editButton").hide()}),$("#notificationView").on("click",function(){ajaxFramework.openNotificationById($('input[name="id"]').val(),$('input[name="width"]').val(),$('input[name="height"]').val(),encodeURIComponent(tinymce.get("text").getContent()))}),$("#typeInvoice").on("change",function(){switch($(this).val()){case"products":$(".periodDropdown").dropdown("restore defaults"),$(".periodDropdown .menu").prepend('<div class="item" data-value="0">Eenmalig</div>'),$("#products").show();break;case"reservation":$("#products").hide(),$("#productsMessage").hide(),$('#periodField .menu .item[data-value="0"]').hide(),$(".periodDropdown").dropdown("set text",$('#periodField .menu .item[data-value="7"]').html())}});var e=$("#searchFull").html();$(".ui.modal .header").html("Zoeken"),$(".ui.modal .content").html(e),$(".search-full-open, #search-open").on("click",function(){$(".ui.modal").modal("show"),$(".searchRedirectCategories2 select").change(function(){switch($(".searchRedirectCategories2").dropdown("get value")[1]){case"restaurant":textReplace="Waar wilt u gaan reserveren?";break;case"saldo":textReplace="In welke webshop wilt u een aankoop gaan doen?";break;case"faq":textReplace="Wat wilt u ons vragen?"}$(".ui.modal  #searchInput .input").attr("placeholder",textReplace)})}),$("#moreMap").click(function(){$("#mapArrow").toggleClass("down up"),$("#map").animate({height:$("#mapArrow").hasClass("up")?400:"290px"},"slow")}),$("footer .ui.floating.basic.button").mouseenter(function(){$(this).transition("pulse")});var t=currentUrl.indexOf("open-menu");-1!=t&&$(".ui.sidebar").sidebar("toggle"),$(".ui.normal.dropdown").dropdown({useLabels:!0,fullTextSearch:!0}),$(".ui.special.dropdown").dropdown({useLabels:!1}),$(".ui.normal.categories.dropdown").dropdown({allowCategorySelection:!0}),$(".ui.bread.dropdown").dropdown({on:"hover"}),$(".ui.accordion").accordion(),$("select.multipleSelect").select({maxOptionsInLabel:1});var i=$(".datepicker").pickadate({min:new Date,formatSubmit:"dd-mm-yyyy",format:"dd-mm-yyyy",selectYears:!0,selectMonths:!0});$(".datepicker_no_min_date").pickadate({formatSubmit:"dd-mm-yyyy",format:"dd-mm-yyyy",hiddenName:!0,selectYears:!0,selectMonths:!0}),i.pickadate("picker");$(".timepicker").pickatime({format:"H:i",formatLabel:"H:i",formatSubmit:"H:i",interval:15,clear:"verwijderen"}),$(".timepicker2").pickatime({format:"H:i",formatLabel:"H:i",formatSubmit:"H:i",interval:15,clear:"verwijderen",min:[8,0]}),$(".green.label, .thumb-discount-label").popup({position:"top right",hoverable:!0}),$(".tool.hover").popup({position:"bottom center",hoverable:!0}),$(".icon.link").popup({position:"bottom center"}),$(".loginAs").popup({position:"bottom center"}),$("img").popup({position:"right center"}),$(".slideshow").bxSlider({mode:"fade",pagerCustom:"#bx-pager"}),$(".ui.top.attached.tabular.menu .item").tab(),$(".rating").rating({initialRating:2,maxRating:10}),$(".no-rating").rating("disable"),$("#decor").click(function(){$('input[name="decor"]').val($("#decor").rating("get rating"))}),$("#food").click(function(){$('input[name="food"]').val($("#food").rating("get rating"))}),$("#service").click(function(){$('input[name="service"]').val($("#service").rating("get rating"))}),$(".ui.checkbox").checkbox(),$(".ui.master.checkbox").checkbox({onChecked:function(){$(this).closest(".ui.child.checkbox").siblings(".list").find(".checkbox");$(".ui.child.checkbox").checkbox("check")},onUnchecked:function(){$(this).closest(".ui.child.checkbox").siblings(".list").find(".checkbox");$(".ui.child.checkbox").checkbox("uncheck")}}),$("#typePage").change(function(){$("#optionOne").css("display","none"),$("#optionTwo").css("display","none"),$("#optionThree").css("display","none"),$("#optionFour").css("display","none"),$(".filter.toolbar").css("display","none"),1==$(this).val()?$("#optionOne").css("display","block"):2==$(this).val()?window.location=baseUrl+"news":3==$(this).val()?$("#optionThree").css("display","block"):4==$(this).val()?window.location=baseUrl+"tegoed-sparen":5==$(this).val()&&(window.location=baseUrl+"faq")}),$("#typePageRestaurant").change(function(){$(".ui.bottom.attached.tab").each(function(e){$(this).removeClass("active")}),1==$(this).val()?$("#restaurantMenu").addClass("active"):2==$(this).val()?$("#restaurantAbout").addClass("active"):3==$(this).val()?$("#restaurantDetails").addClass("active"):4==$(this).val()?$("#restaurantContact").addClass("active"):5==$(this).val()&&$("#restaurantNews").addClass("active")}),$("#typePageRestaurantTwo").change(function(){$("#optionOne").css("display","none"),$("#optionTwo").css("display","none"),1==$(this).val()?$("#optionOne").css("display","block"):2==$(this).val()&&$("#optionTwo").css("display","block")}),currentUrl.indexOf("mobilefilter")>=1&&$(".filter.toolbar").show(),$(".display.filter").click(function(){return 1!=$("#typePage").val()?$(".filter.toolbar").hide():($(".filter.toolbar").show(),$(document.body).animate({scrollTop:$(".filter.toolbar").offset().top},4e3)),!1}),$("#siteSearch").click(function(){$(".head.search.form").submit()}),$(".close.bar").click(function(){$(".ui.sidebar").sidebar("toggle")}),$("#contactOpen").click(function(){Tawk_API.showWidget()}),$(".sidebar.open").click(function(){Tawk_API.hideWidget(),$(".ui.sidebar").sidebar({transition:"push",dimPage:!1,closable:!0,onHide:function(){Tawk_API.showWidget()},onShow:function(){}}),$(".ui.sidebar").sidebar("toggle")}),$("#cityRedirect").change(function(){-1==currentUrl.indexOf("city")?(currentUrl+=-1===currentUrl.indexOf("?")?"?":"&",window.location=currentUrl+"city="+$(this).val()):window.location=currentUrl.replace(/(city=)[^\&]+/,"$1"+$(this).val())}),$("#newsletterRedirect").change(function(){-1==currentUrl.indexOf("newsletter")?(currentUrl+=-1===currentUrl.indexOf("?")?"?":"&",window.location=currentUrl+"newsletter="+$(this).val()):window.location=currentUrl.replace(/(newsletter=)[^\&]+/,"$1"+$(this).val())}),$("#formList table tr th").click(function(){if("disabled"!=$(this).attr("class")&&"disabled"!=$(this).attr("data-slug")){if(-1==currentUrl.indexOf("order"))e="desc"==$(this).attr("data-column-order")?"asc":"desc";else if(currentUrl.indexOf("sort")!=$(this).attr("data-slug")&&"asc"==getParameterByName("order"))e="desc";else var e="asc";-1==currentUrl.indexOf("sort")?(currentUrl+=-1===currentUrl.indexOf("?")?"?":"&",window.location=currentUrl+"sort="+$(this).attr("data-slug")+"&order="+e):window.location=currentUrl.replace(/(sort=)[^\&]+/,"$1"+$(this).attr("data-slug")).replace(/(order=)[^\&]+/,"$1"+e)}}),$("#filteRedirect").change(function(){-1==currentUrl.indexOf("filter")?(currentUrl+=-1===currentUrl.indexOf("?")?"?":"&",window.location=currentUrl+"filter="+$(this).val()):window.location=currentUrl.replace(/(filter=)[^\&]+/,"$1"+$(this).val())}),$(".guestClick").on("click",function(){$form=$("#reservationForm"),$form[0]&&$(this).attr("data-redirect",$('input[name="reservation_url"]').val()+"?date="+$('input[name="date"]').val().replace(/-/g,"")+"&time="+$('input[name="time"]').val().replace(":","")+"&deal="+$('input[name="deal"]').val()+"&persons="+$('input[name="persons"]').val()+(1==$('input[name="iframe"]').val()?"&iframe=1":""))}),$("#guestComplete .item").on("click",function(){$('input[name="phone"]').val($(this).attr("data-phone")),$('input[name="email"]').val($(this).attr("data-email")),$('input[name="name"]').val($(this).attr("data-name"))});var n=$(".slider .pickadate").pickadate({min:new Date,formatSubmit:"yyyy-m-d",format:"d mmmm, yyyy",hiddenName:!0}).pickadate("picker");currentUrl.replace("https://","").split("/");if(void 0!==n)if(n.on({set:function(e){var t=moment(e.select).format("YYYY-MM-DD");$.each($(".slider #timeSliderField .item"),function(e,i){$(this).show(),$(this).addClass("available"),t+" "+$(this).data("value")<moment().format("YYYY-MM-DD HH:mm")&&($(this).hide(),$(this).removeClass("available"))});var i=$(".slider #timeSliderField .item.available:first").data("value");"undefined"!=typeof searchPage&&""!=getParameterByName("sltime")?($(".slider #timeSliderField").dropdown("set value",getParameterByName("sltime")),$(".slider #timeSliderField").dropdown("set text",getParameterByName("sltime"))):($(".slider #timeSliderField").dropdown("set value",i),$(".slider #timeSliderField").dropdown("set text",i))}}),"undefined"!=typeof searchPage){var o=""!=getParameterByName("date")?getParameterByName("date"):new Date;n.set("select",moment(o).format("YYYY-MM-DD"),{format:"yyyy-mm-dd"})}else n.set("select",new Date);$(".bdy-datepicker").pickadate({formatSubmit:"yyyy-m-d",format:"d mmmm, yyyy",hiddenName:!0,min:new Date(1920,1,1),max:new Date,selectYears:100,selectMonths:!0}).pickadate("picker");var s=$(".ajax-datepicker").pickadate({formatSubmit:"yyyy-m-d",format:"d mmmm, yyyy",hiddenName:!0}).pickadate("picker");"undefined"!=typeof activateAjax&&"callcenteradmin"==activateAjax&&s.on({set:function(e){s.get("view");if(e.select){var t=moment(e.select).year()+""+(moment(e.select).month()<10?0:"")+parseInt(moment(e.select).month()+1)+(moment(e.select).date()<10?0:"")+moment(e.select).date();location.href=$('input[name="redirectUrl"]').val()+"?date="+t}}});for(var a=$(".owl-wrapper"),r=new Date(2016,2,20,7,45),l=new Date(2016,2,20,23,45),c={},d=-1;r<l;)if(d++,r.setMinutes(r.getMinutes()+15),l>=r){var u=(r.getHours()<10?"0":"")+r.getHours()+(r.getMinutes()<10?"0":"")+r.getMinutes();c[u]=d}a.length>0&&a.each(function(){$(this).parent().parent().position().top;var e=$(this).find(".owl-carousel"),i=$(this).find(".customNavigation"),n=i.find(".next"),o=i.find(".prev"),s=(i.find(".play"),i.find(".stop"),$(this));s.addClass("active");var a=0;if(currentUrl.indexOf("sltime")>=0&&(s.parent().parent().hasClass("recommended")||(0==s.find('.time-available[data-time="'+$("#timeSliderField input").val().replace(":","")+'"]').length&&a++,1==a&&sweetAlert("Helaas","Er zijn geen resultaten gevonden met het opgegeven tijdstip.","error"))),s.hasClass("active")){if(e.owlCarousel({items:5,loop:!0,lazyLoad:!0,navigation:!1,stopOnHover:!0,autoPlay:!1,responsiveBaseWidth:window,itemsDesktop:[1199,5],itemsDesktopSmall:[980,4],itemsTablet:[768,3],itemsMobile:[479,3]}),currentUrl.indexOf("sltime")>=0&&0==$("#time-"+t).hasClass("firstTime")){var r=c[$("#timeSliderField input").val().replace(":","")];1==s.find('.time-available[data-time="'+$("#timeSliderField input").val().replace(":","")+'"]').length?e.trigger("owl.goTo",r):e.trigger("owl.goTo",c[s.find(".available-1").data("time")])}else void 0!=s.find(".available-1").data("time")&&e.trigger("owl.goTo",c[s.find(".available-1").data("time")]);s.removeClass("active")}o.click(function(){e.trigger("owl.prev")}),n.click(function(){e.trigger("owl.next")})})}),register("registerButton","tegoed-sparen"),register("registerButton2","tegoed-sparen"),register("registerButton3","tegoed-sparen"),register("registerButton4","tegoed-sparen");var recoverPassword=function(e){openPrompt({id:"forgot-password",title:"Wachtwoord vergeten",submit:"Wachtwoord vergeten",response:e}),$(".jqibuttons").api({url:baseUrl+"forgot-password",method:"POST",serializeForm:!0,onComplete:function(e){var t='<div class="header">Er zijn fouten opgetreden</div><ul class="list">';for(var i in e)t+="<li>"+e[i]+"</li>";t+="</ul>",1==e.success?($(".error.forgot-password").hide(),$(".jqimessage .field").hide(),$(".jqibuttons").hide(),$(".success.forgot-password").show(),$(".success.forgot-password").html("Er is een mail naar uw e-mailadres gestuurd voor het aanvragen van een nieuw wachtwoord.")):($(".error.forgot-password").show(),$(".errors.forgot-password").html(t))}})};if(ajaxFramework={refreshServices:function(e,t){var t=t+1;$.ajax({url:baseUrl+"ajax/services",data:{company:$("#getServicesCompany").val()},success:function(i){var n=JSON.parse(i);if(void 0!=n.error)$("#products").hide(),$("#productsMessage").fadeIn("slow"),$("#productsMessage").html(n.error);else{$("#productsMessage").hide(),$("#products").fadeIn("slow");var o=e.find('select[name="products['+t+'][service]"]');$(o).dropdown("set text","Kies een dienst"),$(o).parent().find(".menu").empty(),$.each(n,function(e,t){$(o).parent().find(".menu").append('<div class="item" data-tax="'+t.tax+'" data-price="'+t.price+'" data-content="'+t.content+'" data-value="'+t.name+'">'+t.name+"</div>")})}}})},refreshPrices:function(e){var t=$(e),i=$(e).parent().parent().parent(),n=i.find('input[name="products['+i.index()+'][amount]"]'),o=i.find('input[name="products['+i.index()+'][price]"]'),s=i.find('input[name="products['+i.index()+'][total]"]');t.data("oldVal",t.val()),t.bind("propertychange change keyup input paste",function(e){t.data("oldVal")!=t.val()&&(s.val(o.val()*n.val()),t.data("oldVal",t.val()))})},refreshAmounts:function(e){var t=$(e),i=$(e).parent().parent(),n=i.find('input[name="products['+i.index()+'][amount]"]'),o=i.find('input[name="products['+i.index()+'][price]"]'),s=i.find('input[name="products['+i.index()+'][total]"]');t.data("oldVal",t.val()),t.bind("propertychange change keyup input paste",function(e){t.data("oldVal")!=t.val()&&(s.val(o.val()*n.val()),t.data("oldVal",t.val()))})},openNotification:function(){$.ajax({url:baseUrl+"ajax/notifications",success:function(e){var t=$.parseJSON(e);1!=Cookies.get("notification-modal-"+t.id)&&1==t.succes&&($(".ui.modal .header").hide(),$(".ui.modal").addClass("tiny"),$(".ui.modal").addClass("notification"),$(".ui.modal").addClass("long"),$(".ui.modal").modal({blurring:!0}).modal("setting","transition","vertical flip").modal("show"),$(".ui.modal .content").html(t.text),$(".ui.notification.modal .close.icon").on("click",function(){Cookies.set("notification-modal-"+t.id,1,{expires:365})}))},error:function(e){}})},openNotificationById:function(e,t,i,n){$.ajax({url:baseUrl+"ajax/notifications?id="+e+"&height="+i+"&width="+t+"&content="+n,success:function(e){var t=$.parseJSON(e);$(".ui.modal .header").hide(),$(".ui.modal").addClass("tiny"),$(".ui.modal").addClass("notification"),$(".ui.modal").addClass("long"),$(".ui.modal").modal({blurring:!0}).modal("setting","transition","vertical flip").modal("show"),$(".ui.modal .content").html(t.text)}})}},$(document).ready(function(){"undefined"!=typeof pageId&&"appointmentCreate"==pageId&&($.ajax({url:baseUrl+"ajax/appointments/companies",method:"GET",data:{id:$("#companySelectAppointment").val()},success:function(e){var t=JSON.parse(e);$("#appointmentEmail").val(t[0].email),$("#appointmentContactName").val(t[0].contact_name),$("#appointmentComment").val(t[0].contact_name),$("#appointmentPlace").val(t[0].address+", "+t[0].zipcode+", "+t[0].city)}}),$("#companySelectAppointment").on("change",function(){$.ajax({url:baseUrl+"ajax/appointments/companies",method:"GET",data:{id:$(this).val()},success:function(e){var t=JSON.parse(e);$("#appointmentContactName").val(t[0].contact_name),$("#appointmentEmail").val(t[0].email),$("#appointmentComment").val(t[0].contact_name),$("#appointmentPlace").val(t[0].address+", "+t[0].zipcode+", "+t[0].city)}})})),$("body").is(".index")&&ajaxFramework.openNotification(),$("#transferButton").on("click",function(){$(".ui.modal").modal("show"),$(".ui.modal .header").html("Contract"),$(".ui.modal .content").html($("#transfer").html()),$("#transer").show(),$(".ui.normal.dropdown").dropdown({useLabels:!0}),$(".ui.transfer.dropdown").on("click",function(){$('button[name="submitTransfer"]').removeClass("disabled")}),$('button[name="submitTransfer"]').on("click",function(){$.ajax({url:baseUrl+"ajax/affiliates/transfer",method:"POST",data:{_token:$('#transfer input[name="_token"]').val(),affiliateIds:$("#idArray").val(),categoryId:$(".ui.transfer.dropdown").dropdown("get value")},complete:function(e){$(".ui.modal .content").html("De desbtreffende categorie&euml;n zijn succesvol verplaatst.")}})})}),$(".documents").on("click",function(){$(".ui.modal").modal("show"),$(".ui.modal .header").html("Contract"),$.ajax({url:baseUrl+"ajax/companies/documents",data:{slug:$(this).data("slug")},complete:function(e){$(".ui.modal .content").html(e.responseText)}})}),$("#getServicesCompany").on("change",function(){ajaxFramework.refreshServices($("#products"),-1)});var e=-1;$("#products").on("click",".r-btnAdd",function(){alert(),e++,ajaxFramework.refreshServices($("#products"),e),$(".productPrice").each(function(){ajaxFramework.refreshPrices($(this))}),$(".productAmount").each(function(){ajaxFramework.refreshAmounts($(this))})}),$("#products").on("click",".menu .item",function(){var e=$(this).parent().parent().parent().parent(),t=e.find('input[name="products['+e.index()+'][amount]"]'),i=e.find('input[name="products['+e.index()+'][price]"]'),n=e.find('input[name="products['+e.index()+'][tax]"]'),o=e.find('input[name="products['+e.index()+'][total]"]'),s=e.find('input[name="products['+e.index()+'][description]"]');i.val($(this).data("price")),n.val($(this).data("tax")),o.val($(this).data("price")*t.val()),s.val($(this).data("content"))}),$(".productAmount").each(function(){ajaxFramework.refreshAmounts($(this))}),$(".productPrice").each(function(){ajaxFramework.refreshPrices($(this))}),$("#getCategories").on("change",function(){$.ajax({url:baseUrl+"ajax/faq/subcategories",data:{category:$(this).val()},success:function(e){var t=jQuery.parseJSON(e);$("#getSubCategories").dropdown("set text","Kies een subcategorie"),$("#getSubCategories").removeClass("disabled"),$("#getSubCategories .menu").empty(),$("#getSubCategories .menu").append('<div class="item" data-value="">Geen</div>'),$.each(t,function(e,t){$("#getSubCategories .menu").append('<div class="item" data-value="'+t.id+'">'+t.name+"</div>")})}})}),$("#faq .title").on("click",function(){$.ajax({url:baseUrl+"ajax/faqs",data:{id:$(this).attr("id")}})}),$(".ui.checkbox.activeChange").checkbox({onUnchecked:function(){$.ajax({url:baseUrl+"ajax/mailtemplates",method:"POST",data:{id:$(this).parent().data("id"),is_active:1,_token:$('meta[name="_token"]').attr("content")}})},onChecked:function(){$.ajax({url:baseUrl+"ajax/mailtemplates",method:"POST",data:{id:$(this).parent().data("id"),is_active:0,_token:$('meta[name="_token"]').attr("content")}})}});var t=baseUrl+"tegoed-sparen";$(".login[data-redirect]").on("click",function(){t=$(this).data("redirect")}),$(".login").api({url:baseUrl+"login",onSuccess:function(e){var i=$(this).data("redirect"),n=$(this).data("type"),o=$(this).data("type-redirect");openPrompt({id:"login",title:"Inloggen",submit:"Inloggen",response:e.view}),$("#facebookButton").click(function(){if($form=$("#reservationForm"),$encode=$('input[name="encode_url"]').val(),"submitField"==$(this).attr("id")&&$form[0])if(void 0!==$encode)e=encodeURIComponent($('input[name="reservation_url"]').val()+"?date="+$('input[name="date_hidden"]').val().replace(/-/g,"")+"&time="+$('input[name="time"]').val().replace(":","")+"&persons="+$('input[name="persons"]').val()+"&deal="+$('input[name="deal"]').val()+(1==$('input[name="iframe"]').val()?"&iframe=1":""));else var e=encodeURIComponent($('input[name="reservation_url"]').val()+"?date="+$('input[name="date"]').val().replace(/-/g,"")+"&time="+$('input[name="time"]').val().replace(":","")+"&persons="+$('input[name="persons"]').val()+"&deal="+$('input[name="deal"]').val()+(1==$('input[name="iframe"]').val()?"&iframe=1":""));var t=$("#discountCardButton").data("redirect"),o=$(this).find(".cashback").data("redirect");return void 0!==t?(Redirect(baseUrl+"social/login/facebook?redirect="+encodeURIComponent(t)),!1):void 0!==o?(window.open(baseUrl+"social/login/facebook?redirect="+encodeURIComponent(o)),!1):void 0!==e?(window.open(baseUrl+"social/login/facebook?redirect="+e),!1):void 0!==i?"iframe"==n?(Redirect(baseUrl+"social/login/facebook?redirect="+encodeURIComponent(i)),!1):(window.open(baseUrl+"social/login/facebook?redirect="+encodeURIComponent(i)),!1):void 0}),$("#googleButton").click(function(){var e=$("#discountCardButton").data("redirect");if($form=$("#reservationForm"),$encode=$('input[name="encode_url"]').val(),$form[0])if(void 0!==$encode)t=encodeURIComponent($('input[name="reservation_url"]').val()+"?date="+$('input[name="date_hidden"]').val().replace(/-/g,"")+"&time="+$('input[name="time"]').val().replace(":","")+"&persons="+$('input[name="persons"]').val()+"&deal="+$('input[name="deal"]').val()+(1==$('input[name="iframe"]').val()?"&iframe=1":""));else var t=encodeURIComponent($('input[name="reservation_url"]').val()+"?date="+$('input[name="date"]').val().replace(/-/g,"")+"&time="+$('input[name="time"]').val().replace(":","")+"&persons="+$('input[name="persons"]').val()+"&deal="+$('input[name="deal"]').val()+(1==$('input[name="iframe"]').val()?"&iframe=1":""));return void 0!==e?(Redirect(baseUrl+"social/login/google?redirect="+encodeURIComponent(e)),!1):void 0!==t?(window.open(baseUrl+"social/login/google?redirect="+t),!1):void 0!==i?(window.open(baseUrl+"social/login/google?redirect="+encodeURIComponent(i)),!1):void 0}),"iframe"==n?$("#guestAccount").hide():void 0!==n&&$("#guestAccount").hide(),$("#guestAccount").on("click",function(){1==o?Redirect(i):$("#reservationForm").submit()});var s=0;$(".jqibuttons").api({url:baseUrl+"login",method:"POST",serializeForm:!0,onComplete:function(e){if(100==e.err_code&&++s>=3&&$(".g-recaptcha").css("display","block"),400==e.err_code){t='<div class="header1">u bent vergeten om de beveiliging aan te vinken</div><ul class="list">';t+="<li>"+e.name+"</li>",t+="</ul>"}else{var t='<div class="header1">Er zijn fouten opgetreden</div><ul class="list">';for(var n in e)200!==e[n]&&100!==e[n]&&(t+="<li>"+e[n]+"</li>");t+="</ul>"}1==e.success?Redirect(void 0!==i?i:baseUrl+"open-menu"):1==e.throttling?($(".error.login").css("display","block"),$(".errors.login").html("U heeft 5 foutieve login pogingen gedaan! Gelieve 15 minuten te wachten voordat u terug probeert in te loggen.")):1==e.activation?($(".error.login").css("display","block"),$(".errors.login").html(" Uw account is nog niet geactiveerd. Gelieve eerst op de link in de mail klikken om uw account te activeren.")):1==e.tokemismatch?($(".error.login").css("display","block"),$(".errors.login").html("Er is een fout opgetreden. Sluit het login scherm en probeer het opnieuw.")):($(".errors.login").transition("pulse"),$(".errors.login").html(t))}}),$(".recover.password").api({url:baseUrl+"forgot-password",onComplete:function(e){recoverPassword(e)}}),register("registerButton3",t)}})}),"undefined"!=typeof activateAjax&&"appointmentsadmin"==activateAjax){var $ajaxDateInput=$(".ajax-datepicker").pickadate({formatSubmit:"yyyy-m-d",format:"d mmmm, yyyy",hiddenName:!0}),ajaxDatePicker=$ajaxDateInput.pickadate("picker");ajaxDatePicker.on({set:function(e){if(e.select){var t=moment(e.select).year()+""+zeroPad(parseInt(moment(e.select).month()+1))+zeroPad(moment(e.select).date());location.href=$('input[name="redirectUrl"]').val()+"?date="+t}}})}if($("#usersSearch").search({apiSettings:{url:baseUrl+"ajax/users?q={query}"},fields:{results:"items",title:"name",description:"email"},minCharacters:2,maxResults:15,error:{noResults:"Er zijn geen zoekresultaten gevonden.",serverError:"Er is een fout opgetreden met het uitvoeren van een query."},onSelect:function(e){$('input[name="user_id"]').val(e.id)}}),$("#guestsSearch").search({apiSettings:{url:baseUrl+"ajax/guests/"+$('input[name="company_id"]').val()+"?q={query}"},fields:{results:"items",title:"name",description:"email"},minCharacters:2,maxResults:15,error:{noResults:"Er zijn geen zoekresultaten gevonden.",serverError:"Er is een fout opgetreden met het uitvoeren van een query."},onSelect:function(e){$('input[name="name"]').val(e.name),$('input[name="email"]').val(e.email),$('input[name="phone"]').val(e.phone)}}),$("#usersCompaniesSearch1").search({apiSettings:{url:baseUrl+"ajax/companies/users?q={query}"},fields:{results:"items",title:"name",url:"link"},minCharacters:2,maxResults:15,error:{noResults:"Er zijn geen zoekresultaten gevonden.",serverError:"Er is een fout opgetreden met het uitvoeren van een query."}}),$("#usersCompaniesSearch2, #usersCompaniesSearch2-2, #usersCompaniesSearch2-3").search({apiSettings:{url:baseUrl+"ajax/companies/users?q={query}"},fields:{results:"items",title:"name",image:"image",url:"link"},minCharacters:2,maxResults:15,error:{noResults:"Er zijn geen zoekresultaten gevonden.",serverError:"Er is een fout opgetreden met het uitvoeren van een query."}}),$("#companiesSearch").search({apiSettings:{url:baseUrl+"ajax/companies?q={query}"},fields:{results:"items",title:"name",url:"link"},minCharacters:2,maxResults:15,error:{noResults:"Er zijn geen zoekresultaten gevonden.",serverError:"Er is een fout opgetreden met het uitvoeren van een query."}}),$("#invoicesSearch").search({apiSettings:{url:baseUrl+"ajax/companies/invoices?q={query}"},fields:{results:"items",title:"name",url:"link"},minCharacters:3,maxResults:15,error:{noResults:"Er zijn geen zoekresultaten gevonden.",serverError:"Er is een fout opgetreden met het uitvoeren van een query."}}),$("#companiesOwnersSearch").search({apiSettings:{url:baseUrl+"ajax/companies/owners?q={query}"},fields:{results:"items",title:"name",description:"email"},minCharacters:2,maxResults:15,error:{noResults:"Er zijn geen zoekresultaten gevonden.",serverError:"Er is een fout opgetreden met het uitvoeren van een query."},onSelect:function(e){$('input[name="owner"]').val(e.id)}}),$("#companiesCallerSearch").search({apiSettings:{url:baseUrl+"ajax/companies/callers?q={query}"},fields:{results:"items",title:"name",description:"email"},minCharacters:2,maxResults:15,error:{noResults:"Er zijn geen zoekresultaten gevonden.",serverError:"Er is een fout opgetreden met het uitvoeren van een query."},onSelect:function(e){$('input[name="caller"]').val(e.id)}}),$("#companiesWaitersSearch").search({apiSettings:{url:baseUrl+"ajax/companies/waiters?q={query}"},fields:{results:"items",title:"name",description:"email"},minCharacters:2,maxResults:15,error:{noResults:"Er zijn geen zoekresultaten gevonden.",serverError:"Er is een fout opgetreden met het uitvoeren van een query."},onSelect:function(e){$('input[name="waiter"]').val(e.id)}}),$("#barcodesCompaniesSearch").search({apiSettings:{url:baseUrl+"ajax/companies/barcodes?q={query}"},fields:{results:"items",title:"name",url:"link"},minCharacters:2,maxResults:15,error:{noResults:"Er zijn geen zoekresultaten gevonden.",serverError:"Er is een fout opgetreden met het uitvoeren van een query."}}),$("#affiliateSearch-1").search({apiSettings:{url:baseUrl+"ajax/affiliates?q={query}"},fields:{results:"items",title:"name",image:"image",url:"link",description:"commission"},minCharacters:2,maxResults:15,error:{noResults:"Er zijn geen zoekresultaten gevonden.",serverError:"Er is een fout opgetreden met het uitvoeren van een query."}}),$("#affiliateSearch-2").search({apiSettings:{url:baseUrl+"ajax/affiliates?q={query}"},fields:{results:"items",title:"name",image:"image",url:"link",description:"commission"},minCharacters:2,maxResults:15,error:{noResults:"Er zijn geen zoekresultaten gevonden.",serverError:"Er is een fout opgetreden met het uitvoeren van een query."}}),$("#affiliateSearch-3").search({apiSettings:{url:baseUrl+"ajax/affiliates?q={query}"},fields:{results:"items",title:"name",image:"image",description:"commission"},minCharacters:2,maxResults:15,error:{noResults:"Er zijn geen zoekresultaten gevonden.",serverError:"Er is een fout opgetreden met het uitvoeren van een query."},onSelect:function(e){$('input[name="program_id"]').val(e.program_id),$(".ui.normal.dropdown.network").dropdown("set selected",e.affiliate_network)}}),$("#affiliateSearch-4").search({apiSettings:{url:baseUrl+"ajax/affiliates?q={query}"},fields:{results:"items",title:"name",image:"image",description:"commission"},minCharacters:2,maxResults:15,error:{noResults:"Er zijn geen zoekresultaten gevonden.",serverError:"Er is een fout opgetreden met het uitvoeren van een query."},onSelect:function(e){$('input[name="program_id"]').val(e.program_id),$(".ui.normal.dropdown.network").dropdown("set selected",e.affiliate_network)}}),$("#affiliateSearchForm input").on("keypress",function(e){13===e.which&&$(this).submit()}),times={refresh:function(e){$.ajax({method:"GET",url:baseUrl+"ajax/available/time",data:{company:$('input[name="company_id"]').val(),persons:$('input[name="persons"]').val(),group_res:e.groupReservation,date:e.date}}).done(function(t){var i=JSON.parse(t),n=Object.keys(i)[0];if(void 0!=n){if(void 0!=i[Object.keys(i)[0]][$('input[name="company_id"]').val()])var o=i[Object.keys(i)[0]][$('input[name="company_id"]').val()].availablePersons;if($.each($("#personsField .item"),function(e,t){$(this).show(),void 0!=o&&o<$(t).data("value")&&$(this).hide()}),void 0!==e.groupReservation)s="#timeField-2";else var s="#timeField";if(!$.isEmptyObject(i)&&1==e.firstDate){$(s).removeClass("disabled"),$(s+" .menu").empty();for(var a in i)$(s+" .menu").append('<div class="item" data-value="'+a+'">'+a+"</div>");null!=e.defaultValue?(console.log(s+e.defaultValue),$(s).dropdown("set value",e.defaultValue),$(s).dropdown("set text",e.defaultValue)):(console.log(s+" a"),$(s).dropdown("set value",n),$(s).dropdown("set text",n)),"undefined"!=typeof errorResEdit&&1==errorResEdit&&($(".ui.selection.dropdown.time").dropdown("set value",oldTimeValue),$(".ui.selection.dropdown.time").dropdown("set text",oldTimeValue))}}})},disabled:function(){$(".ui.selection.dropdown.time").dropdown("set text","Tijd"),$(".ui.selection.dropdown.time").dropdown("set value",0),$("#timeField .menu").empty(),$("#timeField").addClass("disabled")}},calendar={template:function(){return"<div class='clndr-controls'><div class='clndr-control-button'><span class='clndr-previous-button'>previous</span></div><div class='month'><%= month %> <%= year %></div><div class='clndr-control-button rightalign'><span class='clndr-next-button'>next</span></div></div><table class='clndr-table' border='0' cellspacing='0' cellpadding='0'><thead><tr class='header-days'><% for(var i = 0; i < daysOfTheWeek.length; i++) { %><td class='header-day'><%= daysOfTheWeek[i] %></td><% } %></tr></thead><tbody><% for(var i = 0; i < numberOfRows; i++){ %><tr><% for(var j = 0; j < 7; j++){ %><% var d = j + i * 7; %><td data-date='<%= days[d].date.format('YYYY-MM-DD') %>' class='<%= days[d].classes %> <%= days[d].date.format('MMM') %>'><div class='day-contents'><%= days[d].day %></div></td><% } %></tr><% } %></tbody></table>"},init:function(e){return $("#calendar").clndr({weekOffset:1,daysOfTheWeek:["zo","ma","di","wo","do","vr","za"],clickEvents:{click:function(e){!$(e.element).hasClass("past")&&$(e.element).hasClass("event")&&($.each($(".event"),function(e,t){$(this).removeClass("active"),$(this).removeClass("today")}),$(e.element).addClass("active"),calendar.setFirstDate(e.date._i,1))}},render:function(t){var i=(i=_.template(e))(t),i=$(i).clone(),n=moment().month(t.month).format("MMM");$(".loader").show();var o=i.find("."+n+".event:first");return 0==$(o).hasClass("adjacent-month")&&void 0!=$(o).data("date")&&(o.addClass("active"),calendar.setFirstDate($(o).data("date"),0)),$(".loader").hide(),i}})},setMonthYear:function(e,t,i){$(".loader").show(),$("#personsField").removeClass("disabled"),e.setMonth(t-1),e.setYear(i)},setFirstDate:function(e,t){$('input[name="date"]').val(e),$('input[name="date_hidden"]').val(e),"undefined"!=typeof activateAjaxTwo&&"reservation-groups"==activateAjaxTwo&&0==t&&reservationDatePicker.set("select",e,{format:"yyyy-mm-dd"}),times.refresh({date:e,firstDate:1,defaultValue:null})},setDates:function(e){$.ajax({url:baseUrl+"ajax/available/reservation",data:{persons:$('input[name="persons"]').val(),month:$('input[name="month"]').val(),year:$('input[name="year"]').val(),company:$('input[name="company_id"]').val()},success:function(t){var i=JSON.parse(t);e.setEvents(i.dates),$.isEmptyObject(i)||times.disabled(),$.each($("#personsField .item"),function(e,t){$(this).show(),i.availablePersons<=e&&$(this).hide()})}})}},"undefined"!=typeof activateAjax&&"restaurant"==activateAjax){$(".persons .item").on("click",function(){$('input[name="persons"]').val($(this).attr("data-value"))});var calendarTemplate=calendar.template(),calendarInit=calendar.init(calendarTemplate);calendar.setDates(calendarInit),$("#month .item").on("click",function(){$('input[name="month"]').val($(this).attr("data-month")),$('input[name="year"]').val($(this).attr("data-year")),calendar.setMonthYear(calendarInit,parseInt($('input[name="month"]').val()),parseInt($('input[name="year"]').val())),calendar.setDates(calendarInit)}),$(".persons.calendarInput .item").on("click",function(){calendar.setDates(calendarInit)})}var openCashbackPopup=function(e,t){return openPrompt({id:"cashback",title:"UwVoordeelpas",response:e}),$("#visitStore").html('<a class="ui blue no-radius button" href="'+t+'" target="_blank">Bezoek webwinkel</a>'),$(".checkbox").checkbox({onChecked:function(){$.ajax({url:baseUrl+"ajax/cashback/popup",method:"POST",data:{_token:$("#token").val()},success:function(e){JSON.parse(e)}}),$("#cashbackCheckbox").hide("slow")}}),!1};if(getParameterByName("open_cashbackinfo")&&$.ajax({url:baseUrl+"ajax/cashback/info",success:function(e){openCashbackPopup(e,$(".cashback.logged-in").attr("href"))}}),$(".cashback.logged-in").api({url:baseUrl+"ajax/cashback/info",method:"GET",onComplete:function(e){openCashbackPopup(e,$(this).attr("href"))}}),$(".category-search").dropdown(),$(".category-search").on("change",function(){$(".subcategory-search").removeClass("disabled"),$(".subcategory-search .menu").empty(),$.ajax({url:baseUrl+"ajax/cashback/subcategories",data:{id:$(".category-search").dropdown("get item",$(".category-search").dropdown("get value")).attr("data-id")}}).done(function(e){$.each($.parseJSON(e),function(e,t){$(".subcategory-search .menu").append($('<div class="item" data-order="'+(e+1)+'"  data-name="'+this.name+'" data-value="'+this.slug+'">'+this.name+"</div>"))})})}),"undefined"!=typeof activateAjax&&"searchCashback"==activateAjax&&$.ajax({url:baseUrl+"ajax/cashback/subcategories",data:{id:$(".category-search").dropdown("get item",$(".category-search").dropdown("get value")).attr("data-id")}}).done(function(e){$(".subcategory-search").removeClass("disabled"),$(".subcategory-search .menu").empty(),$.each($.parseJSON(e),function(e,t){$(".subcategory-search .menu").append($('<div class="item" data-order="'+(e+1)+'"  data-name="'+this.name+'" data-value="'+this.slug+'">'+this.name+"</div>"))})}),$(document).ready(function(){$("#filterGuests").on("click",function(){$.ajax({url:baseUrl+"ajax/querystring/guests",data:{query:1==document.location.search.length?currentUrl.substring(currentUrl.indexOf("?")+1):"",sort:getParameterByName("sort"),order:getParameterByName("order"),limit:getParameterByName("limit"),city:$("#citySelect").val(),allergies:$("#allergiesSelect").val(),preferences:$("#preferencesSelect").val()},success:function(e){if(!(e.length>=1))return!1;window.location=$("#filterGuests").data("url")+"?"+e}})}),$("#filterDayTime").on("click",function(){$.ajax({url:baseUrl+"ajax/querystring/reservations",data:{query:1==document.location.search.length?currentUrl.substring(currentUrl.indexOf("?")+1):"",sort:getParameterByName("sort"),order:getParameterByName("order"),limit:getParameterByName("limit"),days:$("#daySelect").val(),time:$("#timeSelect").val()},success:function(e){if(!(e.length>=1))return!1;window.location=$("#filterDayTime").data("url")+"?"+e}})})}),$(document).ready(function(){$(".newsletter.checkbox").checkbox({onUnchecked:function(){$(this).parent().data("id");var e=$(this).parent().parent().parent();$.ajax({url:baseUrl+"ajax/newsletter/remove/guest",method:"POST",data:{_token:$('meta[name="_token"]').attr("content"),user_id:$(this).parent().data("id"),company_id:$(this).parent().data("company-id"),newsletter_id:$(this).parent().data("newsletter-id"),no_show:1},success:function(t){$(e).addClass("negative")}})},onChecked:function(){$(this).parent().data("id");var e=$(this).parent().parent().parent();$.ajax({url:baseUrl+"ajax/newsletter/remove/guest",method:"POST",data:{_token:$('meta[name="_token"]').attr("content"),user_id:$(this).parent().data("id"),company_id:$(this).parent().data("company-id"),newsletter_id:$(this).parent().data("newsletter-id"),no_show:0},success:function(t){$(e).removeClass("negative")}})}})}),notification={group:function(e){$(".coupled.modal").modal({allowMultiple:!1}),$(".second.modal").modal("attach events",".first.modal .button"),$(".first.modal").modal("show")}},"undefined"!=typeof activateAjax){if("reservation"==activateAjax||"undefined"!=typeof activateAjaxTwo&&"reservation-groups"==activateAjaxTwo){var $reservationDateInput=$(".reservationDatepicker").pickadate({min:new Date,formatSubmit:"yyyy-m-d",format:"d mmmm, yyyy",hiddenName:!0}),reservationDatePicker=$reservationDateInput.pickadate("picker");reservationDatePicker.set("disable",!0),reservationDatePicker.on({open:function(e){var t=reservationDatePicker.get("view");$('input[name="setTimeBack"]').val(1),reservation.refresh(t.month,t.year,$('input[name="company_id"]').val())},set:function(e){var t=reservationDatePicker.get("view");if(e.highlight)reservation.refresh(t.month,t.year,$('input[name="company_id"]').val());else if(e.select){var i=new Date(e.select),n=i.getFullYear()+"-"+("0"+(i.getMonth()+1)).slice(-2)+"-"+i.getDate();0==$('input[name="setTimeBack"]').val()?times.refresh({date:n,firstDate:1,defaultValue:""!=$("#reservationForm #timeInput").val()?$("#reservationForm #timeInput").val():null,groupReservation:$('input[name="group_reservation"]').val()}):times.refresh({date:n,firstDate:1,defaultValue:null,groupReservation:$('input[name="group_reservation"]').val()})}}}),"undefined"!=typeof activateAjax&&"reservation"==activateAjax&&reservationDatePicker.set("select",$('input[name="date_hidden"]').val(),{format:"yyyy-mm-dd"}),$(".persons .item").on("click",function(){$('input[name="persons"]').val($(this).attr("data-value"))}),$(".persons .item").on("click",function(){times.refresh({date:$('input[name="date_hidden"]').val(),firstDate:1,defaultValue:null})})}if("reservationindexadmin"==activateAjax){var $ajaxDateInput=$(".ajax-datepicker").pickadate({min:new Date,formatSubmit:"yyyy-m-d",format:"d mmmm, yyyy",hiddenName:!0}),ajaxDatePicker=$ajaxDateInput.pickadate("picker");ajaxDatePicker.on({open:function(e){ajaxDatePicker.get("view")},set:function(e){ajaxDatePicker.get("view");if(e.select){var t=moment(e.select).year()+""+zeroPad(parseInt(moment(e.select).month()+1))+zeroPad(moment(e.select).date());location.href=$('input[name="redirectUrl"]').val()+"?date="+t}}})}if("reservationadmin"==activateAjax){var $ajaxDateInput=$(".ajax-datepicker").pickadate({formatSubmit:"yyyy-m-d",format:"d mmmm, yyyy",hiddenName:!0}),ajaxDatePicker=$ajaxDateInput.pickadate("picker");ajaxDatePicker.on({open:function(e){var t=ajaxDatePicker.get("view");reservation.refresh(t.month,t.year,$('input[name="company"]').val(),1)},set:function(e){var t=ajaxDatePicker.get("view");if(e.highlight)reservation.refresh(t.month,t.year,$('input[name="company"]').val(),1);else if(e.select){var i=moment(e.select).year()+""+zeroPad(parseInt(moment(e.select).month()+1))+zeroPad(moment(e.select).date());location.href=$('input[name="redirectUrl"]').val()+"?date="+i}}})}}reservation={refresh:function(e,t,i,n){$.ajax({method:"GET",url:baseUrl+"ajax/available/dates",data:{company:i,year:t,month:e,jsdate:1,persons:$('input[name="persons"]').val()}}).done(function(e){var t=JSON.parse(e),i=[];$.each($("#personsField .item"),function(e,i){$(this).show(),t.availablePersons<=e&&$(this).hide()}),$.each(t.dates,function(e,t){var n=new Date(moment(t.date).year(),moment(t.date).month(),parseInt(moment(t.date).date()));i.push(n)}),void 0===n&&(void 0!==ajaxDatePicker?ajaxDatePicker.set("disable",i,{muted:!0}):reservationDatePicker.set("disable",i,{muted:!0}))})}};var openRestaurantPopup=function(e){return openPrompt({id:"cashback",title:"Hoe werkt het?",response:e}),!1};if(getParameterByName("open_popup_res")){var html='<a href="'+baseUrl+'hoe-werkt-het" class="ui button fluid blue">Meer informatie? Klik hier</a>'+$("#restaurantSteps").html();openRestaurantPopup(html)}$(".changeTableNr").bind("keyup input",function(){$.ajax({url:baseUrl+"ajax/reservations/changetablenr",method:"POST",data:{_token:$('meta[name="_token"]').attr("content"),id:$(this).data("id"),tablenr:$(this).val()},success:function(e){console.log("goldfish")}})});